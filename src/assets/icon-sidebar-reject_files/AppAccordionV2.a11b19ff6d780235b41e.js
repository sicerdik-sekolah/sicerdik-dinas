/*! For license information please see ../LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{1193:function(t,e,n){var r,o;(function(c,l){var h=(c=c||n(1194)).window,d=c.document,f=new function(){var t=/^(statics|enumerable|beans|preserve)$/,e=[],n=e.slice,r=Object.create,o=Object.getOwnPropertyDescriptor,c=Object.defineProperty,h=e.forEach||function(t,e){for(var i=0,n=this.length;i<n;i++)t.call(e,this[i],i,this)},d=function(t,e){for(var i in this)this.hasOwnProperty(i)&&t.call(e,this[i],i,this)},f=Object.assign||function(t){for(var i=1,e=arguments.length;i<e;i++){var n=arguments[i];for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t},_=function(t,e,n){if(t){var desc=o(t,"length");(desc&&"number"==typeof desc.value?h:d).call(t,e,n=n||t)}return n};function v(e,n,r,l,h){var d={};function f(t,f){"string"==typeof(f=f||(f=o(n,t))&&(f.get?f:f.value))&&"#"===f[0]&&(f=e[f.substring(1)]||f);var _,v="function"==typeof f,x=f,y=h||v&&!f.base?f&&f.get?t in e:e[t]:null;h&&y||(v&&y&&(f.base=y),v&&!1!==l&&(_=t.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(d[_[3].toLowerCase()+_[4]]=_[2]),x&&!v&&x.get&&"function"==typeof x.get&&m.isPlainObject(x)||(x={value:x,writable:!0}),(o(e,t)||{configurable:!0}).configurable&&(x.configurable=!0,x.enumerable=null!=r?r:!_),c(e,t,x))}if(n){for(var _ in n)n.hasOwnProperty(_)&&!t.test(_)&&f(_);for(var _ in d){var v=d[_],x=e["set"+v],y=e["get"+v]||x&&e["is"+v];!y||!0!==l&&0!==y.length||f(_,{get:y,set:x})}}return e}function m(){for(var i=0,t=arguments.length;i<t;i++){var e=arguments[i];e&&f(this,e)}return this}return v(m,{inject:function(t){if(t){var e=!0===t.statics?t:t.statics,n=t.beans,r=t.preserve;e!==t&&v(this.prototype,t,t.enumerable,n,r),v(this,e,null,n,r)}for(var i=1,o=arguments.length;i<o;i++)this.inject(arguments[i]);return this},extend:function(){for(var t,e,n,base=this,i=0,o=arguments.length;i<o&&(!t||!e);i++)n=arguments[i],t=t||n.initialize,e=e||n.prototype;return t=t||function(){base.apply(this,arguments)},e=t.prototype=e||r(this.prototype),c(e,"constructor",{value:t,writable:!0,configurable:!0}),v(t,this),arguments.length&&this.inject.apply(t,arguments),t.base=base,t}}).inject({enumerable:!1,initialize:m,set:m,inject:function(){for(var i=0,t=arguments.length;i<t;i++){var e=arguments[i];e&&v(this,e,e.enumerable,e.beans,e.preserve)}return this},extend:function(){var t=r(this);return t.inject.apply(t,arguments)},each:function(t,e){return _(this,t,e)},clone:function(){return new this.constructor(this)},statics:{set:f,each:_,create:r,define:c,describe:o,clone:function(t){return f(new t.constructor,t)},isPlainObject:function(t){var e=null!=t&&t.constructor;return e&&(e===Object||e===m||"Object"===e.name)},pick:function(a,b){return a!==l?a:b},slice:function(t,e,r){return n.call(t,e,r)}}})};t.exports=f,f.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+f.each(this,(function(t,e){if(!/^_/.test(e)){var n=typeof t;this.push(e+": "+("number"===n?y.instance.number(t):"string"===n?"'"+t+"'":t))}}),[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return f.importJSON(t,this)},exportJSON:function(t){return f.exportJSON(this,t)},toJSON:function(){return f.serialize(this)},set:function(t,e){return t&&f.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),n=e.prototype._class;return n&&!f.exports[n]&&(f.exports[n]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"==typeof t&&"object"==typeof e){if(Array.isArray(t)&&Array.isArray(e)){if((n=t.length)!==e.length)return!1;for(;n--;)if(!f.equals(t[n],e[n]))return!1}else{var n,r=Object.keys(t);if((n=r.length)!==Object.keys(e).length)return!1;for(;n--;){var o=r[n];if(!e.hasOwnProperty(o)||!f.equals(t[o],e[o]))return!1}}return!0}return!1},read:function(t,e,n,r){if(this===f){var o=this.peek(t,e);return t.__index++,o}var c=this.prototype,h=c._readIndex,d=e||h&&t.__index||0,_=t.length,v=t[d];if(r=r||_-d,v instanceof this||n&&n.readNull&&null==v&&r<=1)return h&&(t.__index=d+1),v&&n&&n.clone?v.clone():v;if(v=f.create(c),h&&(v.__read=!0),v=v.initialize.apply(v,d>0||d+r<_?f.slice(t,d,d+r):t)||v,h){t.__index=d+v.__read;var m=v.__filtered;m&&(t.__filtered=m,v.__filtered=l),v.__read=l}return v},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,n,r){for(var o,c=[],l=e||0,h=r?l+r:t.length,i=l;i<h;i++)c.push(Array.isArray(o=t[i])?this.read(o,0,n):this.read(t,i,n,1));return c},readNamed:function(t,e,n,r,o){var c=this.getNamed(t,e),h=c!==l;if(h){var d=t.__filtered;if(!d){var source=this.getSource(t);(d=t.__filtered=f.create(source)).__unfiltered=source}d[e]=l}return this.read(h?[c]:t,n,r,o)},readSupported:function(t,e){var source=this.getSource(t),n=this,r=!1;return source&&Object.keys(source).forEach((function(o){if(o in e){var c=n.readNamed(t,o);c!==l&&(e[o]=c),r=!0}})),r},getSource:function(t){var source=t.__source;if(source===l){var e=1===t.length&&t[0];source=t.__source=e&&f.isPlainObject(e)?e:null}return source},getNamed:function(t,e){var source=this.getSource(t);if(source)return e?source[e]:t.__filtered||source},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,source,e,n){var r;function o(n){if(!(e&&n in e||r&&n in r)){var o=source[n];o!==l&&(t[n]=o)}}if(n){for(var c,h={},i=0,d=n.length;i<d;i++)(c=n[i])in source&&(o(c),h[c]=!0);r=h}return Object.keys(source.__unfiltered||source).forEach(o),t},isPlainValue:function(t,e){return f.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,e,n,r){e=e||{};var o,c=!r;if(c&&(e.formatter=new y(e.precision),r={length:0,definitions:{},references:{},add:function(t,e){var n="#"+t._id,r=this.references[n];if(!r){this.length++;var o=e.call(t),c=t._class;c&&o[0]!==c&&o.unshift(c),this.definitions[n]=o,r=this.references[n]=[n]}return r}}),t&&t._serialize){o=t._serialize(e,r);var l=t._class;!l||t._compactSerialize||!c&&n||o[0]===l||o.unshift(l)}else if(Array.isArray(t)){o=[];for(var i=0,h=t.length;i<h;i++)o[i]=f.serialize(t[i],e,n,r)}else if(f.isPlainObject(t)){o={};var d=Object.keys(t);for(i=0,h=d.length;i<h;i++){var _=d[i];o[_]=f.serialize(t[_],e,n,r)}}else o="number"==typeof t?e.formatter.number(t,e.precision):t;return c&&r.length>0?[["dictionary",r.definitions],o]:o},deserialize:function(t,e,n,r,o){var c=t,l=!n,h=l&&t&&t.length&&"dictionary"===t[0][0];if(n=n||{},Array.isArray(t)){var d=t[0],_="dictionary"===d;if(1==t.length&&/^#/.test(d))return n.dictionary[d];c=[];for(var i=(d=f.exports[d])?1:0,v=t.length;i<v;i++)c.push(f.deserialize(t[i],e,n,_,h));if(d){var m=c;c=e?e(d,m,l||o):new d(m)}}else if(f.isPlainObject(t))for(var x in c={},r&&(n.dictionary=c),t)c[x]=f.deserialize(t[x],e,n);return h?c[1]:c},exportJSON:function(t,e){var n=f.serialize(t,e);return e&&0==e.asString?n:JSON.stringify(n)},importJSON:function(t,e){return f.deserialize("string"==typeof t?JSON.parse(t):t,(function(t,n,r){var o=r&&e&&e.constructor===t,c=o?e:f.create(t.prototype);if(1===n.length&&c instanceof A&&(o||!(c instanceof B))){var l=n[0];f.isPlainObject(l)&&(l.insert=!1,o&&(n=n.concat([{insert:!0}])))}return(o?c.set:t).apply(c,n),o&&(e=null),c}))},push:function(t,e){var n=e.length;if(n<4096)t.push.apply(t,e);else{var r=t.length;t.length+=n;for(var i=0;i<n;i++)t[r+i]=e[i]}return t},splice:function(t,e,n,r){var o=e&&e.length,c=n===l;(n=c?t.length:n)>t.length&&(n=t.length);for(var i=0;i<o;i++)e[i]._index=n+i;if(c)return f.push(t,e),[];var h=[n,r];e&&f.push(h,e);for(var d=t.splice.apply(t,h),_=(i=0,d.length);i<_;i++)d[i]._index=l;for(i=n+o,_=t.length;i<_;i++)t[i]._index=i;return d},capitalize:function(t){return t.replace(/\b[a-z]/g,(function(t){return t.toUpperCase()}))},camelize:function(t){return t.replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var _={on:function(t,e){if("string"!=typeof t)f.each(t,(function(t,e){this.on(e,t)}),this);else{var n=this._eventTypes,r=n&&n[t],o=this._callbacks=this._callbacks||{};-1===(o=o[t]=o[t]||[]).indexOf(e)&&(o.push(e),r&&r.install&&1===o.length&&r.install.call(this,t))}return this},off:function(t,e){if("string"==typeof t){var n,r=this._eventTypes,o=r&&r[t],c=this._callbacks&&this._callbacks[t];return c&&(!e||-1!==(n=c.indexOf(e))&&1===c.length?(o&&o.uninstall&&o.uninstall.call(this,t),delete this._callbacks[t]):-1!==n&&c.splice(n,1)),this}f.each(t,(function(t,e){this.off(e,t)}),this)},once:function(t,e){return this.on(t,(function n(){e.apply(this,arguments),this.off(t,n)}))},emit:function(t,e){var n=this._callbacks&&this._callbacks[t];if(!n)return!1;var r=f.slice(arguments,1),o=e&&e.target&&!e.currentTarget;n=n.slice(),o&&(e.currentTarget=this);for(var i=0,c=n.length;i<c;i++)if(0==n[i].apply(this,r)){e&&e.stop&&e.stop();break}return o&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,n=this._callbacks,r=t?"install":"uninstall";if(e)for(var o in n)if(n[o].length>0){var c=e[o],l=c&&c[r];l&&l.call(this,o)}},statics:{inject:function t(e){var n=e._events;if(n){var r={};f.each(n,(function(t,n){var o="string"==typeof t,c=o?t:n,l=f.capitalize(c),h=c.substring(2).toLowerCase();r[h]=o?{}:t,c="_"+c,e["get"+l]=function(){return this[c]},e["set"+l]=function(t){var e=this[c];e&&this.off(h,e),t&&this.on(h,t),this[c]=t}})),e._eventTypes=r}return t.base.apply(this,arguments)}}},v=f.extend({_class:"PaperScope",initialize:function t(){xt=this,this.settings=new f({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var n=pt.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:vt.nativeModes},pt.release(n)}if(!this.agent){var r=c.navigator.userAgent.toLowerCase(),o=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(r)||[])[0],l="darwin"===o?"mac":o,h=e.agent=e.browser={platform:l};l&&(h[l]=!0),r.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,(function(t,e,n,r,o){if(!h.chrome){var c="opera"===e?r:/^(node|trident)$/.test(e)?o:n;h.version=c,h.versionNumber=parseFloat(c),e={trident:"msie",jsdom:"node"}[e]||e,h.name=e,h[e]=!0}})),h.chrome&&delete h.webkit,h.atom&&delete h.chrome}},version:"0.12.15",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(code,t){},install:function(t){var e=this;for(var n in f.each(["project","view","tool"],(function(n){f.define(t,n,{configurable:!0,get:function(){return e[n]}})})),this)!/^_/.test(n)&&this[n]&&(t[n]=this[n])},setup:function(element){return xt=this,this.project=new P(element),this},createCanvas:function(t,e){return pt.getCanvas(t,e)},activate:function(){xt=this},clear:function(){for(var t=this.projects,e=this.tools,i=t.length-1;i>=0;i--)t[i].remove();for(i=e.length-1;i>=0;i--)e[i].remove()},remove:function(){this.clear(),delete v._scopes[this._id]},statics:new function(){function t(t){return t+="Attribute",function(e,n){return e[t](n)||e[t]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),m=f.extend(_,{initialize:function(t){this._scope=xt,this._index=this._scope[this._list].push(this)-1,!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(f.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),x={findItemBoundsCollisions:function(t,e,n){function r(t){for(var e=new Array(t.length),i=0;i<t.length;i++){var rect=t[i].getBounds();e[i]=[rect.left,rect.top,rect.right,rect.bottom]}return e}var o=r(t),c=e&&e!==t?r(e):o;return this.findBoundsCollisions(o,c,n||0)},findCurveBoundsCollisions:function(t,e,n,r){function o(t){for(var e=Math.min,n=Math.max,r=new Array(t.length),i=0;i<t.length;i++){var o=t[i];r[i]=[e(o[0],o[2],o[4],o[6]),e(o[1],o[3],o[5],o[7]),n(o[0],o[2],o[4],o[6]),n(o[1],o[3],o[5],o[7])]}return r}var c=o(t),l=e&&e!==t?o(e):c;if(r){for(var h=this.findBoundsCollisions(c,l,n||0,!1,!0),d=this.findBoundsCollisions(c,l,n||0,!0,!0),f=[],i=0,_=h.length;i<_;i++)f[i]={hor:h[i],ver:d[i]};return f}return this.findBoundsCollisions(c,l,n||0)},findBoundsCollisions:function(t,e,n,r,o){var c=!e||t===e,l=c?t:t.concat(e),h=t.length,d=l.length;function f(t,e,n){for(var r=0,o=t.length;r<o;){var c=o+r>>>1;l[t[c]][e]<n?r=c+1:o=c}return r-1}for(var _=r?1:0,v=_+2,m=r?0:1,x=m+2,y=new Array(d),i=0;i<d;i++)y[i]=i;y.sort((function(t,e){return l[t][_]-l[e][_]}));var w=[],C=new Array(h);for(i=0;i<d;i++){var S=y[i],k=l[S],O=c?S:S-h,I=S<h,j=c||!I,M=I?[]:null;if(w.length){var z=f(w,v,k[_]-n)+1;if(w.splice(0,z),c&&o){M=M.concat(w);for(var T=0;T<w.length;T++){C[L=w[T]].push(O)}}else{var P=k[x],A=k[m];for(T=0;T<w.length;T++){var L=w[T],B=l[L],N=L<h,R=c||L>=h;(o||(I&&R||j&&N)&&P>=B[m]-n&&A<=B[x]+n)&&(I&&R&&M.push(c?L:L-h),j&&N&&C[L].push(O))}}}if(I&&(t===e&&M.push(S),C[S]=M),w.length){var E=f(w,v,k[v]);w.splice(E+1,0,S)}else w.push(S)}for(i=0;i<C.length;i++){var D=C[i];D&&D.sort((function(t,e){return t-e}))}return C}},y=f.extend({initialize:function(t){this.precision=f.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,n){return this.number(t)+(n||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});y.instance=new y;var w=new function(){var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],n=Math.abs,r=Math.sqrt,o=Math.pow,c=Math.log2||function(t){return Math.log(t)*Math.LOG2E},l=1e-12,h=112e-18;function d(t,e,n){return t<e?e:t>n?n:t}function f(a,b,t){function e(t){var e=134217729*t,n=t-e+e;return[n,t-n]}var r=b*b-a*t,o=b*b+a*t;if(3*n(r)<o){var c=e(a),l=e(b),h=e(t),p=b*b,q=a*t;r=p-q+(l[0]*l[0]-p+2*l[0]*l[1]+l[1]*l[1]-(c[0]*h[0]-q+c[0]*h[1]+c[1]*h[0]+c[1]*h[1]))}return r}function _(){var t=Math.max.apply(Math,arguments);return t&&(t<1e-8||t>1e8)?o(2,-Math.round(c(t))):0}return{EPSILON:l,MACHINE_EPSILON:h,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(r(2)-1)/3,isZero:function(t){return t>=-1e-12&&t<=l},isMachineZero:function(t){return t>=-112e-18&&t<=h},clamp:d,integrate:function(n,a,b,r){for(var o=t[r-2],c=e[r-2],l=.5*(b-a),h=l+a,i=0,d=r+1>>1,f=1&r?c[i++]*n(h):0;i<d;){var _=l*o[i];f+=c[i++]*(n(h+_)+n(h-_))}return l*f},findRoot:function(t,e,r,a,b,o,c){for(var i=0;i<o;i++){var l=t(r),h=l/e(r),f=r-h;if(n(h)<c){r=f;break}l>0?(b=r,r=f<=a?.5*(a+b):f):(a=r,r=f>=b?.5*(a+b):f)}return d(r,a,b)},solveQuadratic:function(a,b,t,e,o,c){var v,m=1/0;if(n(a)<l){if(n(b)<l)return n(t)<l?-1:0;v=-t/b}else{var x=f(a,b*=-.5,t);if(x&&n(x)<h){var y=_(n(a),n(b),n(t));y&&(x=f(a*=y,b*=y,t*=y))}if(x>=-112e-18){var w=x<0?0:r(x),C=b+(b<0?-w:w);0===C?m=-(v=t/a):(v=C/a,m=t/C)}}var S=0,k=null==o,O=o-l,I=c+l;return isFinite(v)&&(k||v>O&&v<I)&&(e[S++]=k?v:d(v,o,c)),m!==v&&isFinite(m)&&(k||m>O&&m<I)&&(e[S++]=k?m:d(m,o,c)),S},solveCubic:function(a,b,t,e,c,f,v){var m,x,y,C,q,S=_(n(a),n(b),n(t),n(e));function k(n){var r=a*(m=n);C=(r+(x=r+b))*m+(y=x*m+t),q=y*m+e}if(S&&(a*=S,b*=S,t*=S,e*=S),n(a)<l)a=b,x=t,y=e,m=1/0;else if(n(e)<l)x=b,y=t,m=0;else{k(-b/a/3);var O=q/a,I=o(n(O),1/3),s=O<0?-1:1,td=-C/a,j=td>0?1.324717957244746*Math.max(I,r(td)):I,M=m-s*j;if(M!==m){do{k(M),M=0===C?m:m-q/C/(1+h)}while(s*M>s*m);n(a)*m*m>n(e/m)&&(x=((y=-e/m)-t)/m)}}var z=w.solveQuadratic(a,x,y,c,f,v),T=null==f;return isFinite(m)&&(0===z||z>0&&m!==c[0]&&m!==c[1])&&(T||m>f-l&&m<v+l)&&(c[z++]=T?m:d(m,f,v)),z}}},C={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}return this._id++}},S=f.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var n=typeof t,r=this.__read,o=0;if("number"===n){var c="number"==typeof e;this._set(t,c?e:t),r&&(o=c?2:1)}else if("undefined"===n||null===t)this._set(0,0),r&&(o=null===t?1:0);else{var l="string"===n?t.split(/[\s,]+/)||[]:t;o=1,Array.isArray(l)?this._set(+l[0],+(l.length>1?l[1]:l[0])):"x"in l?this._set(l.x||0,l.y||0):"width"in l?this._set(l.width||0,l.height||0):"angle"in l?(this._set(l.length||0,0),this.setAngle(l.angle||0)):(this._set(0,0),o=0)}return r&&(this.__read=o),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new S(this.x,this.y)},toString:function(){var t=y.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var n=t/this.getLength();w.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=S.read(arguments),div=this.getLength()*t.getLength();if(w.isZero(div))return NaN;var a=this.dot(t)/div;return Math.acos(a<-1?-1:a>1?1:a)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=S.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=arguments,e=S.read(t),n=e.x-this.x,r=e.y-this.y,o=n*n+r*r,c=f.read(t);return c?o:Math.sqrt(o)},normalize:function(t){t===l&&(t=1);var e=this.getLength(),n=0!==e?t/e:0,r=new S(this.x*n,this.y*n);return n>=0&&(r._angle=this._angle),r},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var n=e?this.subtract(e):this,r=Math.sin(t),o=Math.cos(t);return n=new S(n.x*o-n.y*r,n.x*r+n.y*o),e?n.add(e):n},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=S.read(arguments);return new S(this.x+t.x,this.y+t.y)},subtract:function(){var t=S.read(arguments);return new S(this.x-t.x,this.y-t.y)},multiply:function(){var t=S.read(arguments);return new S(this.x*t.x,this.y*t.y)},divide:function(){var t=S.read(arguments);return new S(this.x/t.x,this.y/t.y)},modulo:function(){var t=S.read(arguments);return new S(this.x%t.x,this.y%t.y)},negate:function(){return new S(-this.x,-this.y)},isInside:function(){return j.read(arguments).contains(this)},isClose:function(){var t=arguments,e=S.read(t),n=f.read(t);return this.getDistance(e)<=n},isCollinear:function(){var t=S.read(arguments);return S.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=S.read(arguments);return S.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=w.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(q){return this.x*(q>1&&q<4?-1:1)>=0&&this.y*(q>2?-1:1)>=0},dot:function(){var t=S.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=S.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=S.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new S(t.x*e,t.y*e)},statics:{min:function(){var t=arguments,e=S.read(t),n=S.read(t);return new S(Math.min(e.x,n.x),Math.min(e.y,n.y))},max:function(){var t=arguments,e=S.read(t),n=S.read(t);return new S(Math.max(e.x,n.x),Math.max(e.y,n.y))},random:function(){return new S(Math.random(),Math.random())},isCollinear:function(t,e,n,r){return Math.abs(t*r-e*n)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+r*r))},isOrthogonal:function(t,e,n,r){return Math.abs(t*n+e*r)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+r*r))}}},f.each(["round","ceil","floor","abs"],(function(t){var e=Math[t];this[t]=function(){return new S(e(this.x),e(this.y))}}),{})),k=S.extend({initialize:function(t,e,n,r){this._x=t,this._y=e,this._owner=n,this._setter=r},_set:function(t,e,n){return this._x=t,this._y=e,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),O=f.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var n=typeof t,r=this.__read,o=0;if("number"===n){var c="number"==typeof e;this._set(t,c?e:t),r&&(o=c?2:1)}else if("undefined"===n||null===t)this._set(0,0),r&&(o=null===t?1:0);else{var l="string"===n?t.split(/[\s,]+/)||[]:t;o=1,Array.isArray(l)?this._set(+l[0],+(l.length>1?l[1]:l[0])):"width"in l?this._set(l.width||0,l.height||0):"x"in l?this._set(l.x||0,l.y||0):(this._set(0,0),o=0)}return r&&(this.__read=o),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new O(this.width,this.height)},toString:function(){var t=y.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=O.read(arguments);return new O(this.width+t.width,this.height+t.height)},subtract:function(){var t=O.read(arguments);return new O(this.width-t.width,this.height-t.height)},multiply:function(){var t=O.read(arguments);return new O(this.width*t.width,this.height*t.height)},divide:function(){var t=O.read(arguments);return new O(this.width/t.width,this.height/t.height)},modulo:function(){var t=O.read(arguments);return new O(this.width%t.width,this.height%t.height)},negate:function(){return new O(-this.width,-this.height)},isZero:function(){var t=w.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new O(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new O(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new O(Math.random(),Math.random())}}},f.each(["round","ceil","floor","abs"],(function(t){var e=Math[t];this[t]=function(){return new O(e(this.width),e(this.height))}}),{})),I=O.extend({initialize:function(t,e,n,r){this._width=t,this._height=e,this._owner=n,this._setter=r},_set:function(t,e,n){return this._width=t,this._height=e,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),j=f.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,e,n,r){var o,c=arguments,h=typeof t;if("number"===h?(this._set(t,e,n,r),o=4):"undefined"===h||null===t?(this._set(0,0,0,0),o=null===t?1:0):1===c.length&&(Array.isArray(t)?(this._set.apply(this,t),o=1):t.x!==l||t.width!==l?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),o=1):t.from===l&&t.to===l&&(this._set(0,0,0,0),f.readSupported(c,this)&&(o=1))),o===l){var d,_,v=S.readNamed(c,"from"),m=f.peek(c),x=v.x,y=v.y;if(m&&m.x!==l||f.hasNamed(c,"to")){var w=S.readNamed(c,"to");d=w.x-x,_=w.y-y,d<0&&(x=w.x,d=-d),_<0&&(y=w.y,_=-_)}else{var C=O.read(c);d=C.width,_=C.height}this._set(x,y,d,_),o=c.__index}var k=c.__filtered;return k&&(this.__filtered=k),this.__read&&(this.__read=o),this},set:"#initialize",_set:function(t,e,n,r){return this.x=t,this.y=e,this.width=n,this.height=r,this},clone:function(){return new j(this.x,this.y,this.width,this.height)},equals:function(rect){var rt=f.isPlainValue(rect)?j.read(arguments):rect;return rt===this||rt&&this.x===rt.x&&this.y===rt.y&&this.width===rt.width&&this.height===rt.height||!1},toString:function(){var t=y.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){return new(t?S:k)(this.x,this.y,this,"setPoint")},setPoint:function(){var t=S.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){return new(t?O:I)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=O.read(arguments),e=this._sx,n=this._sy,r=t.width,o=t.height;e&&(this.x+=(this.width-r)*e),n&&(this.y+=(this.height-o)*n),this.width=r,this.height=o,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=.5===this._sx?2*e:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=.5===this._sy?2*e:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=.5===this._sx?2*e:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=.5===this._sy?2*e:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||.5===this._sx?this.x=t-this.width/2:(this._sx&&(this.x+=2*(t-this.x)*this._sx),this.width=2*(t-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||.5===this._sy?this.y=t-this.height/2:(this._sy&&(this.y+=2*(t-this.y)*this._sy),this.height=2*(t-this.y)),this._sy=.5,this._fh=0},getCenter:function(t){return new(t?S:k)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=S.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==l||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(j.read(arguments)):this._containsPoint(S.read(arguments))},_containsPoint:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(rect){var t=rect.x,e=rect.y;return t>=this.x&&e>=this.y&&t+rect.width<=this.x+this.width&&e+rect.height<=this.y+this.height},intersects:function(){var rect=j.read(arguments),t=f.read(arguments)||0;return rect.x+rect.width>this.x-t&&rect.y+rect.height>this.y-t&&rect.x<this.x+this.width+t&&rect.y<this.y+this.height+t},intersect:function(){var rect=j.read(arguments),t=Math.max(this.x,rect.x),e=Math.max(this.y,rect.y),n=Math.min(this.x+this.width,rect.x+rect.width),r=Math.min(this.y+this.height,rect.y+rect.height);return new j(t,e,n-t,r-e)},unite:function(){var rect=j.read(arguments),t=Math.min(this.x,rect.x),e=Math.min(this.y,rect.y),n=Math.max(this.x+this.width,rect.x+rect.width),r=Math.max(this.y+this.height,rect.y+rect.height);return new j(t,e,n-t,r-e)},include:function(){var t=S.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x),o=Math.max(this.y+this.height,t.y);return new j(e,n,r-e,o-n)},expand:function(){var t=O.read(arguments),e=t.width,n=t.height;return new j(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===l?t:e)-this.height)}},f.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],(function(t,e){var n=t.join(""),r=/^[RL]/.test(n);e>=4&&(t[1]+=r?"Y":"X");var o=t[r?0:1],c=t[r?1:0],l="get"+o,h="get"+c,d="set"+o,f="set"+c,_="set"+n;this["get"+n]=function(t){return new(t?S:k)(this[l](),this[h](),this,_)},this[_]=function(){var t=S.read(arguments);this[d](t.x),this[f](t.y)}}),{beans:!0})),M=j.extend({initialize:function(t,e,n,r,o,c){this._set(t,e,n,r,!0),this._owner=o,this._setter=c},_set:function(t,e,n,r,o){return this._x=t,this._y=e,this._width=n,this._height=r,o||this._owner[this._setter](this),this}},new function(){var t=j.prototype;return f.each(["x","y","width","height"],(function(t){var e=f.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._dontNotify||this._owner[this._setter](this)}}),f.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],(function(e){var n="set"+e;this[n]=function(){this._dontNotify=!0,t[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}}),{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(t){var e=this._owner;e._changeSelection&&e._changeSelection(2,t)}}))}),z=f.extend({_class:"Matrix",initialize:function t(e,n){var r=arguments,o=r.length,c=!0;if(o>=6?this._set.apply(this,r):1===o||2===o?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,n):Array.isArray(e)?this._set.apply(this,n?e.concat([n]):e):c=!1:o?c=!1:this.reset(),!c)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(a,b,t,e,n,r,o){return this._a=a,this._b=b,this._c=t,this._d=e,this._tx=n,this._ty=r,o||this._changed(),this},_serialize:function(t,e){return f.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new z(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=y.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var n=this._owner;return!!n&&(n.transform(null,f.pick(t,!0),e),this.isIdentity())},translate:function(){var t=S.read(arguments),e=t.x,n=t.y;return this._tx+=e*this._a+n*this._c,this._ty+=e*this._b+n*this._d,this._changed(),this},scale:function(){var t=arguments,e=S.read(t),n=S.read(t,0,{readNull:!0});return n&&this.translate(n),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,n&&this.translate(n.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=S.read(arguments,1),n=e.x,r=e.y,o=Math.cos(t),c=Math.sin(t),l=n-n*o+r*c,h=r-n*c-r*o,a=this._a,b=this._b,d=this._c,f=this._d;return this._a=o*a+c*d,this._b=o*b+c*f,this._c=-c*a+o*d,this._d=-c*b+o*f,this._tx+=l*a+h*d,this._ty+=l*b+h*f,this._changed(),this},shear:function(){var t=arguments,e=S.read(t),n=S.read(t,0,{readNull:!0});n&&this.translate(n);var a=this._a,b=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*a,this._d+=e.x*b,n&&this.translate(n.negate()),this._changed(),this},skew:function(){var t=arguments,e=S.read(t),n=S.read(t,0,{readNull:!0}),r=Math.PI/180,o=new S(Math.tan(e.x*r),Math.tan(e.y*r));return this.shear(o,n)},append:function(t,e){if(t){var n=this._a,r=this._b,o=this._c,c=this._d,l=t._a,h=t._c,d=t._b,f=t._d,_=t._tx,v=t._ty;this._a=l*n+d*o,this._c=h*n+f*o,this._b=l*r+d*c,this._d=h*r+f*c,this._tx+=_*n+v*o,this._ty+=_*r+v*c,e||this._changed()}return this},prepend:function(t,e){if(t){var n=this._a,r=this._b,o=this._c,c=this._d,l=this._tx,h=this._ty,d=t._a,f=t._c,_=t._b,v=t._d,m=t._tx,x=t._ty;this._a=d*n+f*r,this._c=d*o+f*c,this._b=_*n+v*r,this._d=_*o+v*c,this._tx=d*l+f*h+m,this._ty=_*l+v*h+x,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var a=this._a,b=this._b,t=this._c,e=this._d,n=this._tx,r=this._ty,o=a*e-b*t,c=null;return o&&!isNaN(o)&&isFinite(n)&&isFinite(r)&&(this._a=e/o,this._b=-b/o,this._c=-t/o,this._d=a/o,this._tx=(t*r-e*n)/o,this._ty=(b*n-a*r)/o,c=this),c},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new z(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,n){return arguments.length<3?this._transformPoint(S.read(arguments)):this._transformCoordinates(t,e,n)},_transformPoint:function(t,e,n){var r=t.x,o=t.y;return e||(e=new S),e._set(r*this._a+o*this._c+this._tx,r*this._b+o*this._d+this._ty,n)},_transformCoordinates:function(t,e,n){for(var i=0,r=2*n;i<r;i+=2){var o=t[i],c=t[i+1];e[i]=o*this._a+c*this._c+this._tx,e[i+1]=o*this._b+c*this._d+this._ty}return e},_transformCorners:function(rect){var t=rect.x,e=rect.y,n=t+rect.width,r=e+rect.height,o=[t,e,n,e,n,r,t,r];return this._transformCoordinates(o,o,4)},_transformBounds:function(t,e,n){for(var r=this._transformCorners(t),o=r.slice(0,2),c=o.slice(),i=2;i<8;i++){var l=r[i],h=1&i;l<o[h]?o[h]=l:l>c[h]&&(c[h]=l)}return e||(e=new j),e._set(o[0],o[1],c[0]-o[0],c[1]-o[1],n)},inverseTransform:function(){return this._inverseTransform(S.read(arguments))},_inverseTransform:function(t,e,n){var a=this._a,b=this._b,r=this._c,o=this._d,c=this._tx,l=this._ty,h=a*o-b*r,d=null;if(h&&!isNaN(h)&&isFinite(c)&&isFinite(l)){var f=t.x-this._tx,_=t.y-this._ty;e||(e=new S),d=e._set((f*o-_*r)/h,(_*a-f*b)/h,n)}return d},decompose:function(){var t,e,n,a=this._a,b=this._b,r=this._c,o=this._d,c=a*o-b*r,l=Math.sqrt,h=Math.atan2,d=180/Math.PI;if(0!==a||0!==b){var f=l(a*a+b*b);t=Math.acos(a/f)*(b>0?1:-1),e=[f,c/f],n=[h(a*r+b*o,f*f),0]}else if(0!==r||0!==o){var s=l(r*r+o*o);t=Math.asin(r/s)*(o>0?1:-1),e=[c/s,s],n=[0,h(a*r+b*o,s*s)]}else t=0,n=e=[0,0];return{translation:this.getTranslation(),rotation:t*d,scaling:new S(e),skewing:new S(n[0]*d,n[1]*d)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new S(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},f.each(["a","b","c","d","tx","ty"],(function(t){var e=f.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._changed()}}),{})),T=f.extend({_class:"Line",initialize:function(t,e,n,r,o){var c=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=n,this._vy=r,c=o):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,c=n),c||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new S(this._px,this._py)},getVector:function(){return new S(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(line,t){return T.intersect(this._px,this._py,this._vx,this._vy,line._px,line._py,line._vx,line._vy,!0,t)},getSide:function(t,e){return T.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return T.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(line){return S.isCollinear(this._vx,this._vy,line._vx,line._vy)},isOrthogonal:function(line){return S.isOrthogonal(this._vx,this._vy,line._vx,line._vy)},statics:{intersect:function(t,e,n,r,o,c,l,h,d,f){d||(n-=t,r-=e,l-=o,h-=c);var _=n*h-r*l;if(!w.isMachineZero(_)){var v=t-o,m=e-c,x=(l*m-h*v)/_,y=(n*m-r*v)/_,C=-1e-12,k=1+1e-12;if(f||C<x&&x<k&&C<y&&y<k)return f||(x=x<=0?0:x>=1?1:x),new S(t+x*n,e+x*r)}},getSide:function(t,e,n,r,o,c,l,h){l||(n-=t,r-=e);var d=o-t,f=d*r-(c-e)*n;return!h&&w.isMachineZero(f)&&(f=(d*n+d*n)/(n*n+r*r))>=0&&f<=1&&(f=0),f<0?-1:f>0?1:0},getSignedDistance:function(t,e,n,r,o,c,l){return l||(n-=t,r-=e),0===n?r>0?o-t:t-o:0===r?n<0?c-e:e-c:((o-t)*r-(c-e)*n)/(r>n?r*Math.sqrt(1+n*n/(r*r)):n*Math.sqrt(1+r*r/(n*n)))},getDistance:function(t,e,n,r,o,c,l){return Math.abs(T.getSignedDistance(t,e,n,r,o,c,l))}}}),P=m.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(element){m.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new nt(null,null,this),this._view=ot.create(this,element||pt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return f.serialize(this._children,t,!0,e)},_changed:function(t,e){if(1&t){var view=this._view;view&&(view._needsUpdate=!0,!view._requested&&view._autoUpdate&&view.requestUpdate())}var n=this._changes;if(n&&e){var r=this._changesById,o=e._id,c=r[o];c?c.flags|=t:n.push(r[o]={item:e,flags:t})}},clear:function(){for(var t=this._children,i=t.length-1;i>=0;i--)t[i].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return!!t.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(style){this._currentStyle.set(style)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new B({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:E,match:function(n){var r=n._definition,o=r._id;return e[o]||(e[o]=!0,t.push(r)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var n in t){var r=t[n],o=r._selection;1&o&&r.isInserted()?e.push(r):o||this._updateSelection(r)}return e},_updateSelection:function(t){var e=t._id,n=this._selectionItems;t._selection?n[e]!==t&&(this._selectionCount++,n[e]=t):n[e]===t&&(this._selectionCount--,delete n[e])},selectAll:function(){for(var t=this._children,i=0,e=t.length;i<e;i++)t[i].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var i in t)t[i].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(l,t)},insertLayer:function(t,e){if(e instanceof B){e._remove(!1,!0),f.splice(this._children,[e],t,0),e._setProject(this,!0);var n=e._name;n&&e.setName(n),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,n){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(l,new B(A.NO_INSERT),!0)).insertChild(t,e),n&&e.activate&&e.activate(),e},getItems:function(t){return A._getItems(this,t)},getItem:function(t){return A._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return f.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var n=e[t];if(n){for(var r in n){var o=n[r];for(var c in e){var l=e[c];l&&l!=n&&delete l[o._id]}o.remove()}e[t]=null}}},draw:function(t,e,n){this._updateVersion++,t.save(),e.applyToContext(t);for(var r=this._children,param=new f({offset:new S(0,0),pixelRatio:n,viewMatrix:e.isIdentity()?null:e,matrices:[new z],updateMatrix:!0}),i=0,o=r.length;i<o;i++)r[i].draw(t,param);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var c=this._selectionItems,l=this._scope.settings.handleSize,h=this._updateVersion;for(var d in c)c[d]._drawSelection(t,e,l,c,h);t.restore()}}}),A=f.extend(_,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=f.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new z,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return f.each(t,(function(t){this._events[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}}),{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var n=t&&f.isPlainObject(t),r=n&&!0===t.internal,o=this._matrix=new z,c=n&&t.project||xt.project,h=xt.settings;return this._id=r?null:C.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&h.applyMatrix,e&&o.translate(e),o._owner=this,this._style=new nt(c._currentStyle,this,c),r||n&&0==t.insert||!h.insertItems&&(!n||!0!==t.insert)?this._setProject(c):(n&&t.parent||c)._insertItem(l,this,!0),n&&t!==A.NO_INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(t,e){var n={},r=this;function o(o){for(var c in o){var l=r[c];f.equals(l,"leading"===c?1.2*o.fontSize:o[c])||(n[c]=f.serialize(l,t,"data"!==c,e))}}return o(this._serializeFields),this instanceof L||o(this._style._defaults),[this._class,n]},_changed:function(t){var symbol=this._symbol,e=this._parent||symbol,n=this._project;8&t&&(this._bounds=this._position=this._decomposed=l),16&t&&(this._globalMatrix=l),e&&72&t&&A._clearBoundsCache(e),2&t&&A._clearBoundsCache(this),n&&n._changed(t,this),symbol&&symbol._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var n=e._children,r=e._namedChildren;(r[t]=r[t]||[]).push(this),t in n||(n[t]=this)}this._name=t||l,this._changed(256)},getStyle:function(){return this._style},setStyle:function(style){this.getStyle().set(style)}},f.each(["locked","visible","blendMode","opacity","guide"],(function(t){var e=f.capitalize(t),n="_"+t,r={locked:256,visible:265};this["get"+e]=function(){return this[n]},this["set"+e]=function(e){e!=this[n]&&(this[n]=e,this._changed(r[t]||257))}}),{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,i=0,e=t.length;i<e;i++)if(t[i].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var i=0,n=t.length;i<n;i++)if(!t[i].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var i=0,n=e.length;i<n;i++)e[i].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(data){this._data=data},getPosition:function(t){var e=t?S:k,n=this._position||(this._position=this._getPositionFromBounds());return new e(n.x,n.y,this,"setPosition")},setPosition:function(){this.translate(S.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new k(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=S.read(arguments,0,{clone:!0,readNull:!0}),this._position=l}},f.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},(function(t,e){this[e]=function(e){return this.getBounds(e,t)}}),{beans:!0,getBounds:function(t,e){var n=e||t instanceof z,r=f.set({},n?e:t,this._boundsOptions);r.stroke&&!this.getStrokeScaling()||(r.cacheItem=this);var rect=this._getCachedBounds(n&&t,r).rect;return arguments.length?rect:new M(rect.x,rect.y,rect.width,rect.height,this,"setBounds")},setBounds:function(){var rect=j.read(arguments),t=this.getBounds(),e=this._matrix,n=new z,r=rect.getCenter();n.translate(r),rect.width==t.width&&rect.height==t.height||(e.isInvertible()||(e.set(e._backup||(new z).translate(e.getTranslation())),t=this.getBounds()),n.scale(0!==t.width?rect.width/t.width:0,0!==t.height?rect.height/t.height:0)),r=t.getCenter(),n.translate(-r.x,-r.y),this.transform(n)},_getBounds:function(t,e){var n=this._children;return n&&n.length?(A._updateBoundsCache(this,e.cacheItem),A._getBounds(n,t,e)):new j},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,n){t=t&&t._orNullIfIdentity();var r=e.internal&&!n,o=e.cacheItem,c=r?null:this._matrix._orNullIfIdentity(),l=o&&(!t||t.equals(c))&&this._getBoundsCacheKey(e,r),h=this._bounds;if(A._updateBoundsCache(this._parent||this._symbol,o),l&&h&&l in h)return{rect:(_=h[l]).rect.clone(),nonscaling:_.nonscaling};var d=this._getBounds(t||c,e),rect=d.rect||d,style=this._style,f=d.nonscaling||style.hasStroke()&&!style.getStrokeScaling();if(l){h||(this._bounds=h={});var _=h[l]={rect:rect.clone(),nonscaling:f,internal:r}}return{rect:rect,nonscaling:f}},_getStrokeMatrix:function(t,e){var n=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,r=n?n.getViewMatrix().invert():t;return r&&r._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var n=e._id,r=t._boundsCache=t._boundsCache||{ids:{},list:[]};r.ids[n]||(r.list.push(e),r.ids[n]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=l;for(var i=0,n=e.list,r=n.length;i<r;i++){var o=n[i];o!==t&&(o._bounds=o._position=l,o._boundsCache&&A._clearBoundsCache(o))}}},_getBounds:function(t,e,n){var r=1/0,o=-r,c=r,l=o,h=!1;n=n||{};for(var i=0,d=t.length;i<d;i++){var f=t[i];if(f._visible&&!f.isEmpty(!0)){var _=f._getCachedBounds(e&&e.appended(f._matrix),n,!0),rect=_.rect;r=Math.min(rect.x,r),c=Math.min(rect.y,c),o=Math.max(rect.x+rect.width,o),l=Math.max(rect.y+rect.height,l),_.nonscaling&&(h=!0)}}return{rect:isFinite(r)?new j(r,c,o-r,l-c):new j,nonscaling:h}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var n=this._decomposed;this.rotate(t-e),n&&(n.rotation=t,this._decomposed=n)}},getScaling:function(){var t=this._decompose(),s=t&&t.scaling;return new k(s?s.x:1,s?s.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=S.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var n=this.getRotation(),r=this._decomposed,o=new z,c=w.isZero;if(c(t.x)||c(t.y))o.translate(r.translation),n&&o.rotate(n),o.scale(e.x,e.y),this._matrix.set(o);else{var l=this.getPosition(!0);o.translate(l),n&&o.rotate(n),o.scale(e.x/t.x,e.y/t.y),n&&o.rotate(-n),o.translate(l.negate()),this.transform(o)}r&&(r.scaling=e,this._decomposed=r)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix;if(e)for(var n=this._parent,r=[];n;){if(!n._globalMatrix){e=null;for(var i=0,o=r.length;i<o;i++)r[i]._globalMatrix=null;break}r.push(n),n=n._parent}e||(e=this._globalMatrix=this._matrix.clone(),(n=this._parent)&&e.prepend(n.getGlobalMatrix(!0)));return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof B)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return f.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(A.NO_INSERT),n=this._children,r=f.pick(t?t.insert:l,t===l||!0===t),o=f.pick(t?t.deep:l,!0);n&&e.copyAttributes(this),n&&!o||e.copyContent(this),n||e.copyAttributes(this),r&&e.insertAbove(this);var c=this._name,h=this._parent;if(c&&h){n=h._children;for(var d=c,i=1;n[c];)c=d+" "+i++;c!==d&&e.setName(c)}return e},copyContent:function(source){for(var t=source._children,i=0,e=t&&t.length;i<e;i++)this.addChild(t[i].clone(!1),!0)},copyAttributes:function(source,t){this.setStyle(source._style);for(var e=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,n=e.length;i<n;i++){var r=e[i];source.hasOwnProperty(r)&&(this[r]=source[r])}t||this._matrix.set(source._matrix,!0),this.setApplyMatrix(source._applyMatrix),this.setPivot(source._pivot),this.setSelection(source._selection);var data=source._data,o=source._name;this._data=data?f.clone(data):null,o&&this.setName(o)},rasterize:function(t,e){var n,r,o;f.isPlainObject(t)?(n=t.resolution,r=t.insert,o=t.raster):(n=t,r=e),o?o.matrix.reset(!0):o=new R(A.NO_INSERT);var c=this.getStrokeBounds(),h=(n||this.getView().getResolution())/72,d=c.getTopLeft().floor(),_=c.getBottomRight().ceil(),v=new O(_.subtract(d)),m=v.multiply(h);if(o.setSize(m,!0),!m.isZero()){var x=o.getContext(!0),y=(new z).scale(h).translate(d.negate());x.save(),y.applyToContext(x),this.draw(x,new f({matrices:[y]})),x.restore()}return o.transform((new z).translate(d.add(v.divide(2))).scale(1/h)),(r===l||r)&&o.insertAbove(this),o},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(S.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var i=e.length-1;i>=0;i--)if(e[i].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return j.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new X.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof A&&this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0}},new function(){function t(){var t=arguments;return this._hitTest(S.read(t),$.getOptions(t))}function e(){var t=arguments,e=S.read(t),n=$.getOptions(t),r=[];return this._hitTest(e,new f({all:r},n)),r}function n(t,e,n,r){var o=this._children;if(o)for(var i=o.length-1;i>=0;i--){var c=o[i],l=c!==r&&c._hitTest(t,e,n);if(l&&!e.all)return l}return null}return P.inject({hitTest:t,hitTestAll:e,_hitTest:n}),{hitTest:t,hitTestAll:e,_hitTestChildren:n}},{_hitTest:function(t,e,n){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var r=this._matrix,o=n?n.appended(r):this.getGlobalMatrix().prepend(this.getView()._matrix),c=Math.max(e.tolerance,1e-12),l=e._tolerancePadding=new O(X._getStrokePadding(c,r._shiftless().invert()));if(!(t=r._inverseTransform(t))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(l.multiply(2))._containsPoint(t))return null;var h,d,_=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==f.hyphenate(this._class)||e.class&&!(this instanceof e.class)),v=e.match,m=this;function filter(t){return t&&v&&!v(t)&&(t=null),t&&e.all&&e.all.push(t),t}function x(e,n){var r=n?h["get"+n]():m.getPosition();if(t.subtract(r).divide(l).length<=1)return new $(e,m,{name:n?f.hyphenate(n):e,point:r})}var y=e.position,w=e.center,C=e.bounds;if(_&&this._parent&&(y||w||C)){if((w||C)&&(h=this.getInternalBounds()),!(d=y&&x("position")||w&&x("center","Center"))&&C)for(var S=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],i=0;i<8&&!d;i++)d=x("bounds",S[i]);d=filter(d)}return d||(d=this._hitTestChildren(t,e,o)||_&&filter(this._hitTestSelf(t,e,o,this.getStrokeScaling()?null:o._shiftless().invert()))||null),d&&d.point&&(d.point=r.transform(d.point)),d},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new $("fill",this)},matches:function(t,e){var n=typeof t;if("object"===n){for(var r in t)if(t.hasOwnProperty(r)&&!this.matches(r,t[r]))return!1;return!0}if("function"===n)return t(this);if("match"===t)return e(this);var o=/^(empty|editable)$/.test(t)?this["is"+f.capitalize(t)]():"type"===t?f.hyphenate(this._class):this[t];if("class"===t){if("function"==typeof e)return this instanceof e;o=this._class}if("function"==typeof e)return!!e(o);if(e){if(e.test)return e.test(o);if(f.isPlainObject(e))return function t(e,n){for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],o=n[i];if(f.isPlainObject(r)&&f.isPlainObject(o)){if(!t(r,o))return!1}else if(!f.equals(r,o))return!1}return!0}(e,o)}return f.equals(o,e)},getItems:function(t){return A._getItems(this,t,this._matrix)},getItem:function(t){return A._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,n,r,param,o){if(!param){var c="object"==typeof n&&n,l=c&&c.overlapping,h=c&&c.inside,rect=(w=l||h)&&j.read([w]);param={items:[],recursive:c&&!1!==c.recursive,inside:!!h,overlapping:!!l,rect:rect,path:l&&new X.Rectangle({rectangle:rect,insert:!1})},c&&(n=f.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var d=e._children,_=param.items;r=(rect=param.rect)&&(r||new z);for(var i=0,v=d&&d.length;i<v;i++){var m=d[i],x=r&&r.appended(m._matrix),y=!0;if(rect){var w=m.getBounds(x);if(!rect.intersects(w))continue;rect.contains(w)||param.overlapping&&(w.contains(rect)||param.path.intersects(m,x))||(y=!1)}if(y&&m.matches(n)&&(_.push(m),o))break;if(!1!==param.recursive&&t(m,n,x,param,o),o&&_.length>0)break}return _}}},{importJSON:function(t){var e=f.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(l,t)},insertChild:function(t,e){var n=e?this.insertChildren(t,[e]):null;return n&&n[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var n=this._children;if(n&&e&&e.length>0){for(var r={},i=(e=f.slice(e)).length-1;i>=0;i--){var o=(d=e[i])&&d._id;!d||r[o]?e.splice(i,1):(d._remove(!1,!0),r[o]=!0)}f.splice(n,e,t,0);for(var c=this._project,l=c._changes,h=(i=0,e.length);i<h;i++){var d,_=(d=e[i])._name;d._parent=this,d._setProject(c,!0),_&&d.setName(_),l&&d._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var n=t&&t._getOwner(),r=t!==this&&n?this:null;return r&&(r._remove(!1,!0),n._insertItem(t._index+e,r)),r},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(l,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(l,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&1===e.length){var n=e[0].reduce(t);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,n=t._namedChildren,r=this._name,o=n[r],c=o?o.indexOf(this):-1;-1!==c&&(e[r]==this&&delete e[r],o.splice(c,1),o.length?e[r]=o[0]:delete n[r])}},_remove:function(t,e){var n=this._getOwner(),r=this._project,o=this._index;return this._style&&this._style._dispose(),!!n&&(this._name&&this._removeNamed(),null!=o&&(r._activeLayer===this&&(r._activeLayer=this.getNextSibling()||this.getPreviousSibling()),f.splice(n._children,null,o,1)),this._installEvents(!1),t&&r._changes&&this._changed(5),e&&n._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=f.pick(e,this._children.length);for(var n=f.splice(this._children,null,t,e-t),i=n.length-1;i>=0;i--)n[i]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var i=0,t=this._children.length;i<t;i++)this._children[i]._index=i;this._changed(11)}},isEmpty:function(t){var e=this._children,n=e?e.length:0;if(t){for(var i=0;i<n;i++)if(!e[i].isEmpty(t))return!1;return!0}return!n},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){var e=[];do{e.unshift(t)}while(t=t._parent);return e}for(var n=e(this),r=e(t),i=0,o=Math.min(n.length,r.length);i<o;i++)if(n[i]!=r[i])return n[i]._index<r[i]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return-1===this._getOrder(t)},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},f.each(["rotate","scale","shear","skew"],(function(t){var e="rotate"===t;this[t]=function(){var n=arguments,r=(e?f:S).read(n),o=S.read(n,0,{readNull:!0});return this.transform((new z)[t](r,o||this.getPosition(!0)))}}),{translate:function(){var t=new z;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,n){var r=this._matrix,o=t&&!t.isIdentity(),c=n&&this._canApplyMatrix||this._applyMatrix&&(o||!r.isIdentity()||e&&this._children);if(!o&&!c)return this;if(o){!t.isInvertible()&&r.isInvertible()&&(r._backup=r.getValues()),r.prepend(t,!0);var style=this._style,l=style.getFillColor(!0),h=style.getStrokeColor(!0);l&&l.transform(t),h&&h.transform(t)}if(c&&(c=this._transformContent(r,e,n))){var d=this._pivot;d&&r._transformPoint(d,d,!0),r.reset(!0),n&&this._canApplyMatrix&&(this._applyMatrix=!0)}var f=this._bounds,_=this._position;(o||c)&&this._changed(25);var v=o&&f&&t.decompose();if(v&&v.skewing.isZero()&&v.rotation%90==0){for(var m in f){var x=f[m];if(x.nonscaling)delete f[m];else if(c||!x.internal){var rect=x.rect;t._transformBounds(rect,rect)}}this._bounds=f;var y=f[this._getBoundsCacheKey(this._boundsOptions||{})];y&&(this._position=this._getPositionFromBounds(y.rect))}else o&&_&&this._pivot&&(this._position=t._transformPoint(_,_));return this},_transformContent:function(t,e,n){var r=this._children;if(r){for(var i=0,o=r.length;i<o;i++)r[i].transform(t,e,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(S.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(S.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(S.read(arguments))},localToParent:function(){return this._matrix._transformPoint(S.read(arguments))},fitBounds:function(t,e){t=j.read(arguments);var n=this.getBounds(),r=n.height/n.width,o=t.height/t.width,c=(e?r>o:r<o)?t.width/n.width:t.height/n.height,l=new j(new S,new O(n.width*c,n.height*c));l.setCenter(t.getCenter()),this.setBounds(l)}}),{_setStyles:function(t,param,e){var style=this._style,n=this._matrix;if(style.hasFill()&&(t.fillStyle=style.getFillColor().toCanvasStyle(t,n)),style.hasStroke()){t.strokeStyle=style.getStrokeColor().toCanvasStyle(t,n),t.lineWidth=style.getStrokeWidth();var r=style.getStrokeJoin(),o=style.getStrokeCap(),c=style.getMiterLimit();if(r&&(t.lineJoin=r),o&&(t.lineCap=o),c&&(t.miterLimit=c),xt.support.nativeDash){var l=style.getDashArray(),h=style.getDashOffset();l&&l.length&&("setLineDash"in t?(t.setLineDash(l),t.lineDashOffset=h):(t.mozDash=l,t.mozDashOffset=h))}}if(style.hasShadow()){var d=param.pixelRatio||1,f=e._shiftless().prepend((new z).scale(d,d)),_=f.transform(new S(style.getShadowBlur(),0)),v=f.transform(this.getShadowOffset());t.shadowColor=style.getShadowColor().toCanvasStyle(t),t.shadowBlur=_.getLength(),t.shadowOffsetX=v.x,t.shadowOffsetY=v.y}},draw:function(t,param,e){this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var n=param.matrices,r=param.viewMatrix,o=this._matrix,c=n[n.length-1].appended(o);if(c.isInvertible()){r=r?r.appended(c):c,n.push(c),param.updateMatrix&&(this._globalMatrix=c);var l,h,d,f=this._blendMode,_=w.clamp(this._opacity,0,1),v="normal"===f,m=vt.nativeModes[f],x=v&&1===_||param.dontStart||param.clip||(m||v&&_<1)&&this._canComposite(),y=param.pixelRatio||1;if(!x){var C=this.getStrokeBounds(r);if(!C.width||!C.height)return void n.pop();d=param.offset,h=param.offset=C.getTopLeft().floor(),l=t,t=pt.getContext(C.getSize().ceil().add(1).multiply(y)),1!==y&&t.scale(y,y)}t.save();var S=e?e.appended(o):this._canScaleStroke&&!this.getStrokeScaling(!0)&&r,k=!x&&param.clipItem,O=!S||k;if(x?(t.globalAlpha=_,m&&(t.globalCompositeOperation=f)):O&&t.translate(-h.x,-h.y),O&&(x?o:r).applyToContext(t),k&&param.clipItem.draw(t,param.extend({clip:!0})),S){t.setTransform(y,0,0,y,0,0);var I=param.offset;I&&t.translate(-I.x,-I.y)}this._draw(t,param,r,S),t.restore(),n.pop(),param.clip&&!param.dontFinish&&t.clip(this.getFillRule()),x||(vt.process(f,t,l,_,h.subtract(d).multiply(y)),pt.release(t),param.offset=d)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof G)return e._isUpdated(t);var n=this._updateVersion===t;return!n&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,n=!0),n},_drawSelection:function(t,e,n,r,o){var c=this._selection,l=1&c,h=2&c||l&&this._selectBounds,d=4&c;if(this._drawSelected||(l=!1),(l||h||d)&&this._isUpdated(o)){var f,_=this.getSelectedColor(!0)||(f=this.getLayer())&&f.getSelectedColor(!0),v=e.appended(this.getGlobalMatrix(!0)),m=n/2;if(t.strokeStyle=t.fillStyle=_?_.toCanvasStyle(t):"#009dec",l&&this._drawSelected(t,v,r),d){var x=this.getPosition(!0),y=this._parent,w=y?y.localToGlobal(x):x,C=w.x,S=w.y;t.beginPath(),t.arc(C,S,m,0,2*Math.PI,!0),t.stroke();for(var k=[[0,-1],[1,0],[0,1],[-1,0]],O=m,I=n+1,i=0;i<4;i++){var j=k[i],M=j[0],z=j[1];t.moveTo(C+M*O,S+z*O),t.lineTo(C+M*I,S+z*I),t.stroke()}}if(h){var T=v._transformCorners(this.getInternalBounds());t.beginPath();for(i=0;i<8;i++)t[i?"lineTo":"moveTo"](T[i],T[++i]);t.closePath(),t.stroke();for(i=0;i<8;i++)t.fillRect(T[i]-m,T[++i]-m,n,n)}}},_canComposite:function(){return!1}},f.each(["down","drag","up","move"],(function(t){this["removeOn"+f.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}}),{removeOn:function(t){for(var e in t)if(t[e]){var n="mouse"+e,r=this._project,o=r._removeSets=r._removeSets||{};o[n]=o[n]||{},o[n][this._id]=this}return this}}),{tween:function(t,e,n){n||(n=e,e=t,t=null,n||(n=e,e=null));var r=n&&n.easing,o=n&&n.start,c=null!=n&&("number"==typeof n?n:n.duration),l=new gt(this,t,e,c,r,o);return c&&this.on("frame",(function t(e){l._handleFrame(1e3*e.time),l.running||this.off("frame",t)})),l},tweenTo:function(t,e){return this.tween(null,t,e)},tweenFrom:function(t,e){return this.tween(t,null,e)}}),L=A.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function t(e){t.base.call(this,e),2050&e&&(this._clipItem=l)},_getClipItem:function(){var t=this._clipItem;if(t===l){t=null;for(var e=this._children,i=0,n=e.length;i<n;i++)if(e[i]._clipMask){t=e[i];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,n){var r=this._getClipItem();return r?r._getCachedBounds(r._matrix.prepended(e),f.set({},n,{stroke:!1})):t.base.call(this,e,n)},_hitTestChildren:function t(e,n,r){var o=this._getClipItem();return(!o||o.contains(e))&&t.base.call(this,e,n,r,o)},_draw:function(t,param){var e=param.clip,n=!e&&this._getClipItem();param=param.extend({clipItem:n,clip:!1}),e?(t.beginPath(),param.dontStart=param.dontFinish=!0):n&&n.draw(t,param.extend({clip:!0}));for(var r=this._children,i=0,o=r.length;i<o;i++){var c=r[i];c!==n&&c.draw(t,param)}}}),B=L.extend({_class:"Layer",initialize:function(){L.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function t(){return this._parent?t.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),N=A.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,e){this._initialize(t,e)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&f.equals(this._radius,t._radius)},copyContent:function(source){this.setType(source._type),this.setSize(source._size),this.setRadius(source._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new I(t.width,t.height,this,"setSize")},setSize:function(){var t=O.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,n=t.width,r=t.height;"rectangle"===e?this._radius.set(O.min(this._radius,t.divide(2).abs())):"circle"===e?(n=r=(n+r)/2,this._radius=n/2):"ellipse"===e&&this._radius._set(n/2,r/2),this._size._set(n,r),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new I(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var n=2*t;this._radius=t,this._size._set(n,n)}else if(t=O.read(arguments),this._radius){if(this._radius.equals(t))return;if(this._radius.set(t),"rectangle"===e){n=O.max(this._size,t.multiply(2));this._size.set(n)}else"ellipse"===e&&this._size._set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var path=new(X[f.capitalize(this._type)])({center:new S,size:this._size,radius:this._radius,insert:!1});return path.copyAttributes(this),xt.settings.applyMatrix&&path.setApplyMatrix(!0),(t===l||t)&&path.insertAbove(this),path},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,param,e,n){var style=this._style,r=style.hasFill(),o=style.hasStroke(),c=param.dontFinish||param.clip,l=!n;if(r||o||c){var h=this._type,d=this._radius,f="circle"===h;if(param.dontStart||t.beginPath(),l&&f)t.arc(0,0,d,0,2*Math.PI,!0);else{var _=f?d:d.width,v=f?d:d.height,m=this._size,x=m.width,y=m.height;if(l&&"rectangle"===h&&0===_&&0===v)t.rect(-x/2,-y/2,x,y);else{var w=x/2,C=y/2,S=.44771525016920644,k=_*S,O=v*S,I=[-w,-C+v,-w,-C+O,-w+k,-C,-w+_,-C,w-_,-C,w-k,-C,w,-C+O,w,-C+v,w,C-v,w,C-O,w-k,C,w-_,C,-w+_,C,-w+k,C,-w,C-O,-w,C-v];n&&n.transform(I,I,32),t.moveTo(I[0],I[1]),t.bezierCurveTo(I[2],I[3],I[4],I[5],I[6],I[7]),w!==_&&t.lineTo(I[8],I[9]),t.bezierCurveTo(I[10],I[11],I[12],I[13],I[14],I[15]),C!==v&&t.lineTo(I[16],I[17]),t.bezierCurveTo(I[18],I[19],I[20],I[21],I[22],I[23]),w!==_&&t.lineTo(I[24],I[25]),t.bezierCurveTo(I[26],I[27],I[28],I[29],I[30],I[31])}}t.closePath()}c||!r&&!o||(this._setStyles(t,param,e),r&&(t.fill(style.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),o&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var rect=new j(this._size).setCenter(0,0),style=this._style,n=e.stroke&&style.hasStroke()&&style.getStrokeWidth();return t&&(rect=t._transformBounds(rect)),n?rect.expand(X._getStrokePadding(n,this._getStrokeMatrix(t,e))):rect}},new function(){function t(t,e,n){var r=t._radius;if(!r.isZero())for(var o=t._size.divide(2),q=1;q<=4;q++){var c=new S(q>1&&q<4?-1:1,q>2?-1:1),l=c.multiply(o),h=l.subtract(c.multiply(r));if(new j(n?l.add(c.multiply(n)):l,h).contains(e))return{point:h,quadrant:q}}}function e(t,e,n,r){var o=t.divide(e);return(!r||o.isInQuadrant(r))&&o.subtract(o.normalize()).multiply(e).divide(n).length<=1}return{_contains:function e(n){if("rectangle"===this._type){var r=t(this,n);return r?n.subtract(r.point).divide(this._radius).getLength()<=1:e.base.call(this,n)}return n.divide(this.size).getLength()<=.5},_hitTestSelf:function n(r,o,c,l){var h=!1,style=this._style,d=o.stroke&&style.hasStroke(),f=o.fill&&style.hasFill();if(d||f){var _=this._type,v=this._radius,m=d?style.getStrokeWidth()/2:0,x=o._tolerancePadding.add(X._getStrokePadding(m,!style.getStrokeScaling()&&l));if("rectangle"===_){var y=x.multiply(2),w=t(this,r,y);if(w)h=e(r.subtract(w.point),v,x,w.quadrant);else{var rect=new j(this._size).setCenter(0,0),C=rect.expand(y),S=rect.expand(y.negate());h=C._containsPoint(r)&&!S._containsPoint(r)}}else h=e(r,v,x)}return h?new $(d?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function t(t,e,n,r,o){var c=f.create(N.prototype);return c._type=t,c._size=n,c._radius=r,c._initialize(f.getNamed(o),e),c}return{Circle:function(){var e=arguments,n=S.readNamed(e,"center"),r=f.readNamed(e,"radius");return t("circle",n,new O(2*r),r,e)},Rectangle:function(){var e=arguments,rect=j.readNamed(e,"rectangle"),n=O.min(O.readNamed(e,"radius"),rect.getSize(!0).divide(2));return t("rectangle",rect.getCenter(!0),rect.getSize(!0),n,e)},Ellipse:function(){var e=arguments,ellipse=N._readEllipse(e),n=ellipse.radius;return t("ellipse",ellipse.center,n.multiply(2),n,e)},_readEllipse:function(t){var e,n;if(f.hasNamed(t,"radius"))e=S.readNamed(t,"center"),n=O.readNamed(t,"radius");else{var rect=j.readNamed(t,"rectangle");e=rect.getCenter(!0),n=rect.getSize(!0).divide(2)}return{center:e,radius:n}}}}}),R=A.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(source,t){if(!this._initialize(source,t!==l&&S.read(arguments))){var image,e=typeof source,object="string"===e?d.getElementById(source):"object"===e?source:null;if(object&&object!==A.NO_INSERT)if(object.getContext||null!=object.naturalHeight)image=object;else if(object){var n=O.read(arguments);n.isZero()||(image=pt.getCanvas(n))}image?this.setImage(image):this.setSource(source)}this._size||(this._size=new O,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(source){var image=source._image,canvas=source._canvas;if(image)this._setImage(image);else if(canvas){var t=pt.getCanvas(source._size);t.getContext("2d").drawImage(canvas,0,0),this._setImage(t)}this._crossOrigin=source._crossOrigin},getSize:function(){var t=this._size;return new I(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(t,e){var n=O.read(arguments);if(n.equals(this._size))e&&this.clear();else if(n.width>0&&n.height>0){var element=!e&&this.getElement();this._setImage(pt.getCanvas(n)),element&&this.getContext(!0).drawImage(element,0,0,n.width,n.height)}else this._canvas&&pt.release(this._canvas),this._size=n.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new S(0,0).transform(t),u=new S(1,0).transform(t).subtract(e),n=new S(0,1).transform(t).subtract(e);return new O(72/u.getLength(),72/n.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(image){var t=this;function e(e){var view=t.getView(),n=e&&e.type||"load";view&&t.responds(n)&&(xt=view._scope,t.emit(n,new ct(e)))}this._setImage(image),this._loaded?setTimeout(e,0):image&&st.add(image,{load:function(n){t._setImage(image),e(n)},error:e})},_setImage:function(image){this._canvas&&pt.release(this._canvas),image&&image.getContext?(this._image=null,this._canvas=image,this._loaded=!0):(this._image=image,this._canvas=null,this._loaded=!!(image&&image.src&&image.complete)),this._size=new O(image?image.naturalWidth||image.width:0,image?image.naturalHeight||image.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=pt.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){pt.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var image=this._image;return image&&image.src||this.toDataURL()},setSource:function(t){var image=new c.Image,e=this._crossOrigin;e&&(image.crossOrigin=e),t&&(image.src=t),this.setImage(image)},getCrossOrigin:function(){var image=this._image;return image&&image.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var image=this._image;image&&(image.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing="string"==typeof t?t:t?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var rect=j.read(arguments),t=pt.getContext(rect.getSize());return t.drawImage(this.getCanvas(),rect.x,rect.y,rect.width,rect.height,0,0,rect.width,rect.height),t.canvas},getSubRaster:function(){var rect=j.read(arguments),t=new R(A.NO_INSERT);return t._setImage(this.getSubCanvas(rect)),t.translate(rect.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var image=this._image,t=image&&image.src;if(/^data:/.test(t))return t;var canvas=this.getCanvas();return canvas?canvas.toDataURL.apply(canvas,arguments):null},drawImage:function(image){var t=S.read(arguments,1);this.getContext(!0).drawImage(image,t.x,t.y)},getAverageColor:function(object){var t,path;if(object?object instanceof Y?(path=object,t=object.getBounds()):"object"==typeof object&&("width"in object?t=new j(object):"x"in object&&(t=new j(object.x-.5,object.y-.5,1,1))):t=this.getBounds(),!t)return null;var e=Math.min(t.width,32),n=Math.min(t.height,32),r=R._sampleContext;r?r.clearRect(0,0,33,33):r=R._sampleContext=pt.getContext(new O(32)),r.save();var o=(new z).scale(e/t.width,n/t.height).translate(-t.x,-t.y);o.applyToContext(r),path&&path.draw(r,new f({clip:!0,matrices:[o]})),this._matrix.applyToContext(r);var element=this.getElement(),c=this._size;element&&r.drawImage(element,-c.width/2,-c.height/2),r.restore();for(var l=r.getImageData(.5,.5,Math.ceil(e),Math.ceil(n)).data,h=[0,0,0],d=0,i=0,_=l.length;i<_;i+=4){var v=l[i+3];d+=v,v/=255,h[0]+=l[i]*v,h[1]+=l[i+1]*v,h[2]+=l[i+2]*v}for(i=0;i<3;i++)h[i]/=d;return d?Q.read(h):null},getPixel:function(){var t=S.read(arguments),data=this.getContext().getImageData(t.x,t.y,1,1).data;return new Q("rgb",[data[0]/255,data[1]/255,data[2]/255],data[3]/255)},setPixel:function(){var t=arguments,e=S.read(t),n=Q.read(t),r=n._convert("rgb"),o=n._alpha,c=this.getContext(!0),l=c.createImageData(1,1),data=l.data;data[0]=255*r[0],data[1]=255*r[1],data[2]=255*r[2],data[3]=null!=o?255*o:255,c.putImageData(l,e.x,e.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=O.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var rect=j.read(arguments);return rect.isEmpty()&&(rect=new j(this._size)),this.getContext().getImageData(rect.x,rect.y,rect.width,rect.height)},setImageData:function(data){var t=S.read(arguments,1);this.getContext(!0).putImageData(data,t.x,t.y)},_getBounds:function(t,e){var rect=new j(this._size).setCenter(0,0);return t?t._transformBounds(rect):rect},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new $("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t,param,e){var element=this.getElement();if(element&&element.width>0&&element.height>0){t.globalAlpha=w.clamp(this._opacity,0,1),this._setStyles(t,param,e);var n=this._smoothing,r="off"===n;it.setPrefixed(t,r?"imageSmoothingEnabled":"imageSmoothingQuality",!r&&n),t.drawImage(element,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),E=A.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,e){this._initialize(t,e!==l&&S.read(arguments,1))||this.setDefinition(t instanceof D?t:new D(t))},_equals:function(t){return this._definition===t._definition},copyContent:function(source){this.setDefinition(source._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(t),e)},_hitTestSelf:function(t,e,n){var r=e.extend({all:!1}),o=this._definition._item._hitTest(t,r,n);return o&&(o.item=this),o},_draw:function(t,param){this._definition._item.draw(t,param)}}),D=f.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=C.get(),this.project=xt.project,t&&this.setItem(t,e)},_serialize:function(t,e){return e.add(this,(function(){return f.serialize([this._class,this._item],t,!1,e)}))},_changed:function(t){8&t&&A._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new S),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new E(this,t)},clone:function(){return new D(this._item.clone(!1))},equals:function(symbol){return symbol===this||symbol&&this._item.equals(symbol._item)||!1}}),$=f.extend({_class:"HitResult",initialize:function(t,e,n){this.type=t,this.item=e,n&&this.inject(n)},statics:{getOptions:function(t){var e=t&&f.read(t);return new f({type:null,tolerance:xt.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),F=f.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,e,n,r,o,c){var h,d,f,_,v=arguments.length;v>0&&(null==t||"object"==typeof t?1===v&&t&&"point"in t?(h=t.point,d=t.handleIn,f=t.handleOut,_=t.selection):(h=t,d=e,f=n,_=r):(h=[t,e],d=n!==l?[n,r]:null,f=o!==l?[o,c]:null)),new V(h,this,"_point"),new V(d,this,"_handleIn"),new V(f,this,"_handleOut"),_&&this.setSelection(_)},_serialize:function(t,e){var n=this._point,r=this._selection,o=r||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return r&&o.push(r),f.serialize(o,t,!0,e)},_changed:function(t){var path=this._path;if(path){var e,n=path._curves,r=this._index;n&&(t&&t!==this._point&&t!==this._handleIn||!(e=r>0?n[r-1]:path._closed?n[n.length-1]:null)||e._changed(),t&&t!==this._point&&t!==this._handleOut||!(e=n[r])||e._changed()),path._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(S.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(S.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(S.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,path=this._path;this._selection=t=t||0,path&&t!==e&&(path._updateSelection(this,e,t),path._changed(257))},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==l?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var path=this._path,t=this._index;return path?(t>0&&!path._closed&&t===path._segments.length-1&&t--,path.getCurves()[t]||null):null},getLocation:function(){var t=this.getCurve();return t?new Z(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,n){var r=t||{},o=r.type,c=r.factor,h=this.getPrevious(),d=this.getNext(),f=(h||this)._point,_=this._point,v=(d||this)._point,m=f.getDistance(_),x=_.getDistance(v);if(o&&"catmull-rom"!==o){if("geometric"!==o)throw new Error("Smoothing method '"+o+"' not supported.");if(h&&d){var y=f.subtract(v),w=c===l?.4:c,C=w*m/(m+x);e||this.setHandleIn(y.multiply(C)),n||this.setHandleOut(y.multiply(C-w))}}else{var a=c===l?.5:c,k=Math.pow(m,a),O=k*k,I=Math.pow(x,a),j=I*I;if(!e&&h){var M=2*j+3*I*k+O,z=3*I*(I+k);this.setHandleIn(0!==z?new S((j*f._x+M*_._x-O*v._x)/z-_._x,(j*f._y+M*_._y-O*v._y)/z-_._y):new S)}if(!n&&d){M=2*O+3*k*I+j,z=3*k*(k+I);this.setHandleOut(0!==z?new S((O*v._x+M*_._x-j*f._x)/z-_._x,(O*v._y+M*_._y-j*f._y)/z-_._y):new S)}}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var path=this._path;return path&&this._index===path._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,n=t.clone();t.set(e),e.set(n)},reversed:function(){return new F(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new F(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,n){var u=1-n,r=n,o=t._point,c=e._point,l=t._handleIn,h=e._handleIn,d=e._handleOut,f=t._handleOut;this._point._set(u*o._x+r*c._x,u*o._y+r*c._y,!0),this._handleIn._set(u*l._x+r*h._x,u*l._y+r*h._y,!0),this._handleOut._set(u*f._x+r*d._x,u*f._y+r*d._y,!0),this._changed()},_transformCoordinates:function(t,e,n){var r=this._point,o=n&&this._handleIn.isZero()?null:this._handleIn,c=n&&this._handleOut.isZero()?null:this._handleOut,l=r._x,h=r._y,i=2;return e[0]=l,e[1]=h,o&&(e[i++]=o._x+l,e[i++]=o._y+h),c&&(e[i++]=c._x+l,e[i++]=c._y+h),t&&(t._transformCoordinates(e,e,i/2),l=e[0],h=e[1],n?(r._x=l,r._y=h,i=2,o&&(o._x=e[i++]-l,o._y=e[i++]-h),c&&(c._x=e[i++]-l,c._y=e[i++]-h)):(o||(e[i++]=l,e[i++]=h),c||(e[i++]=l,e[i++]=h))),e}}),V=S.extend({initialize:function(t,e,n){var r,o,c;if(t)if((r=t[0])!==l)o=t[1];else{var h=t;(r=h.x)===l&&(r=(h=S.read(arguments)).x),o=h.y,c=h.selected}else r=o=0;this._x=r,this._y=o,this._owner=e,e[n]=this,c&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=w.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),H=f.extend({_class:"Curve",beans:!0,initialize:function(t,e,n,r,o,c,l,h){var d,f,_,v,m,x,y=arguments.length;3===y?(this._path=t,d=e,f=n):y?1===y?"segment1"in t?(d=new F(t.segment1),f=new F(t.segment2)):"point1"in t?(_=t.point1,m=t.handle1,x=t.handle2,v=t.point2):Array.isArray(t)&&(_=[t[0],t[1]],v=[t[6],t[7]],m=[t[2]-t[0],t[3]-t[1]],x=[t[4]-t[6],t[5]-t[7]]):2===y?(d=new F(t),f=new F(e)):4===y?(_=t,m=e,x=n,v=r):8===y&&(_=[t,e],v=[l,h],m=[n-t,r-e],x=[o-l,c-h]):(d=new F,f=new F),this._segment1=d||new F(_,null,m),this._segment2=f||new F(v,x,null)},_serialize:function(t,e){return f.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=l},clone:function(){return new H(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return H.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,n=e._handleOut;(t=e.remove())&&this._segment1._handleOut.set(n)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(S.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(S.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(S.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(S.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var path=this._path;return path&&this._segment1._index===path._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return H.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],i=0;i<8;i+=2)e.push(new S(t[i],t[i+1]));return e}},{getLength:function(){return null==this._length&&(this._length=H.getLength(this.getValues(),0,1)),this._length},getArea:function(){return H.getArea(this.getValues())},getLine:function(){return new T(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new H(H.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return H.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(time,t){var e=null;if(time>=1e-8&&time<=.99999999){var n=H.subdivide(this.getValues(),time),r=n[0],o=n[1],c=t||this.hasHandles(),l=this._segment1,h=this._segment2,path=this._path;c&&(l._handleOut._set(r[2]-r[0],r[3]-r[1]),h._handleIn._set(o[4]-o[6],o[5]-o[7]));var d=r[6],f=r[7],_=new F(new S(d,f),c&&new S(r[4]-d,r[5]-f),c&&new S(o[2]-d,o[3]-f));path?(path.insert(l._index+1,_),e=this.getNext()):(this._segment2=_,this._changed(),e=new H(_,h))}return e},splitAt:function(t){var path=this._path;return path?path.splitAt(t):null},splitAtTime:function(time){return this.splitAt(this.getLocationAtTime(time))},divide:function(t,e){return this.divideAtTime(t===l?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===l?.5:e?t:this.getTimeAt(t))},reversed:function(){return new H(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,n,r){var o=t._point,h1=t._handleOut,h2=e._handleIn,c=e._point,l=o.x,h=o.y,d=c.x,f=c.y,_=r?[l,h,l,h,d,f,d,f]:[l,h,l+h1._x,h+h1._y,d+h2._x,f+h2._y,d,f];return n&&n._transformCoordinates(_,_,4),_},subdivide:function(t,e){var n=t[0],r=t[1],o=t[2],c=t[3],h=t[4],d=t[5],f=t[6],_=t[7];e===l&&(e=.5);var u=1-e,v=u*n+e*o,m=u*r+e*c,x=u*o+e*h,y=u*c+e*d,w=u*h+e*f,C=u*d+e*_,S=u*v+e*x,k=u*m+e*y,O=u*x+e*w,I=u*y+e*C,j=u*S+e*O,M=u*k+e*I;return[[n,r,v,m,S,k,j,M],[j,M,O,I,w,C,f,_]]},getMonoCurves:function(t,e){var n=[],r=e?0:1,o=t[r+0],c=t[r+2],l=t[r+4],h=t[r+6];if(o>=c==c>=l&&c>=l==l>=h||H.isStraight(t))n.push(t);else{var a=3*(c-l)-o+h,b=2*(o+l)-4*c,d=c-o,f=[],_=w.solveQuadratic(a,b,d,f,1e-8,.99999999);if(_){f.sort();var v=f[0],m=H.subdivide(t,v);n.push(m[0]),_>1&&(v=(f[1]-v)/(1-v),m=H.subdivide(m[1],v),n.push(m[0])),n.push(m[1])}else n.push(t)}return n},solveCubic:function(t,e,n,r,o,c){var l=t[e],h=t[e+2],d=t[e+4],f=t[e+6],_=0;if(!(l<n&&f<n&&h<n&&d<n||l>n&&f>n&&h>n&&d>n)){var v=3*(h-l),b=3*(d-h)-v,a=f-l-v-b;_=w.solveCubic(a,b,v,l-n,r,o,c)}return _},getTimeOf:function(t,e){var n=new S(t[0],t[1]),r=new S(t[6],t[7]),o=1e-7;if(null===(e.isClose(n,1e-12)?0:e.isClose(r,1e-12)?1:null))for(var c=[e.x,e.y],l=[],h=0;h<2;h++)for(var d=H.solveCubic(t,h,c[h],l,0,1),i=0;i<d;i++){var u=l[i];if(e.isClose(H.getPoint(t,u),o))return u}return e.isClose(n,o)?0:e.isClose(r,o)?1:null},getNearestTime:function(t,e){if(H.isStraight(t)){var n=t[0],r=t[1],o=t[6]-n,c=t[7]-r,l=o*o+c*c;if(0===l)return 0;var u=((e.x-n)*o+(e.y-r)*c)/l;return u<1e-12?0:u>.999999999999?1:H.getTimeOf(t,new S(n+u*o,r+u*c))}var h=1/0,d=0;function f(n){if(n>=0&&n<=1){var r=e.getDistance(H.getPoint(t,n),!0);if(r<h)return h=r,d=n,!0}}for(var i=0;i<=100;i++)f(i/100);for(var _=.005;_>1e-8;)f(d-_)||f(d+_)||(_/=2);return d},getPart:function(t,e,n){var r=e>n;if(r){var o=e;e=n,n=o}return e>0&&(t=H.subdivide(t,e)[1]),n<1&&(t=H.subdivide(t,(n-e)/(1-e))[0]),r?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var n=t[0],r=t[1],o=t[2],c=t[3],l=t[4],h=t[5],d=t[6],f=t[7],_=3*o-2*n-d,v=3*c-2*r-f,m=3*l-2*d-n,x=3*h-2*f-r;return Math.max(_*_,m*m)+Math.max(v*v,x*x)<=16*e*e},getArea:function(t){var e=t[0],n=t[1],r=t[2],o=t[3],c=t[4],l=t[5],h=t[6],d=t[7];return 3*((d-n)*(r+c)-(h-e)*(o+l)+o*(e-c)-r*(n-l)+d*(c+e/3)-h*(l+n/3))/20},getBounds:function(t){for(var e=t.slice(0,2),n=e.slice(),r=[0,0],i=0;i<2;i++)H._addBounds(t[i],t[i+2],t[i+4],t[i+6],i,0,e,n,r);return new j(e[0],e[1],n[0]-e[0],n[1]-e[1])},_addBounds:function(t,e,n,r,o,c,l,h,d){function f(t,e){var n=t-e,r=t+e;n<l[o]&&(l[o]=n),r>h[o]&&(h[o]=r)}c/=2;var _=l[o]+c,v=h[o]-c;if(t<_||e<_||n<_||r<_||t>v||e>v||n>v||r>v)if(e<t!=e<r&&n<t!=n<r)f(t,0),f(r,0);else{var a=3*(e-n)-t+r,b=2*(t+n)-4*e,m=e-t,x=w.solveQuadratic(a,b,m,d);f(r,0);for(var i=0;i<x;i++){var y=d[i],u=1-y;1e-8<=y&&y<=.99999999&&f(u*u*u*t+3*u*u*y*e+3*u*y*y*n+y*y*y*r,c)}}}}},f.each(["getBounds","getStrokeBounds","getHandleBounds"],(function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=X[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}}),{}),f.each({isStraight:function(t,h1,h2,e){if(h1.isZero()&&h2.isZero())return!0;var n=e.subtract(t);if(n.isZero())return!1;if(n.isCollinear(h1)&&n.isCollinear(h2)){var r=new T(t,e);if(r.getDistance(t.add(h1))<1e-7&&r.getDistance(e.add(h2))<1e-7){var div=n.dot(n),o=n.dot(h1)/div,c=n.dot(h2)/div;return o>=0&&o<=1&&c<=0&&c>=-1}}return!1},isLinear:function(t,h1,h2,e){var n=e.subtract(t).divide(3);return h1.equals(n)&&h2.negate().equals(n)}},(function(t,e){this[e]=function(e){var n=this._segment1,r=this._segment2;return t(n._point,n._handleOut,r._handleIn,r._point,e)},this.statics[e]=function(e,n){var r=e[0],o=e[1],c=e[6],l=e[7];return t(new S(r,o),new S(e[2]-r,e[3]-o),new S(e[4]-c,e[5]-l),new S(c,l),n)}}),{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&t>=0&&t<=1?new Z(this,t):null},getTimeAt:function(t,e){return H.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=S.read(arguments);return t.isZero()?[]:H.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(S.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return H.getTimeOf(this.getValues(),S.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=S.read(arguments),e=this.getValues(),n=H.getNearestTime(e,t),r=H.getPoint(e,n);return new Z(this,n,r,null,t.getDistance(r))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return f.each(t,(function(t){this[t+"At"]=function(e,n){var r=this.getValues();return H[t](r,n?e:H.getTimeAt(r,e))},this[t+"AtTime"]=function(time){return H[t](this.getValues(),time)}}),{statics:{_evaluateMethods:t}})},new function(){function t(t){var e=t[0],n=t[1],r=t[2],o=t[3],c=t[4],l=t[5],h=t[6],d=t[7],f=9*(r-c)+3*(h-e),_=6*(e+c)-12*r,v=3*(r-e),m=9*(o-l)+3*(d-n),x=6*(n+l)-12*o,y=3*(o-n);return function(t){var e=(f*t+_)*t+v,n=(m*t+x)*t+y;return Math.sqrt(e*e+n*n)}}function e(a,b){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(b-a))))}function n(t,e,n,r){if(null==e||e<0||e>1)return null;var o=t[0],c=t[1],l=t[2],h=t[3],d=t[4],f=t[5],_=t[6],v=t[7],m=w.isZero;m(l-o)&&m(h-c)&&(l=o,h=c),m(d-_)&&m(f-v)&&(d=_,f=v);var x,y,C=3*(l-o),k=3*(d-l)-C,O=_-o-C-k,I=3*(h-c),j=3*(f-h)-I,M=v-c-I-j;if(0===n)x=0===e?o:1===e?_:((O*e+k)*e+C)*e+o,y=0===e?c:1===e?v:((M*e+j)*e+I)*e+c;else{var z=1e-8,T=1-z;if(e<z?(x=C,y=I):e>T?(x=3*(_-d),y=3*(v-f)):(x=(3*O*e+2*k)*e+C,y=(3*M*e+2*j)*e+I),r){0===x&&0===y&&(e<z||e>T)&&(x=d-l,y=f-h);var P=Math.sqrt(x*x+y*y);P&&(x/=P,y/=P)}if(3===n){d=6*O*e+2*k,f=6*M*e+2*j;var A=Math.pow(x*x+y*y,1.5);x=0!==A?(x*f-y*d)/A:0,y=0}}return 2===n?new S(y,-x):new S(x,y)}return{statics:{classify:function(t){var e=t[0],n=t[1],r=t[2],o=t[3],c=t[4],h=t[5],d=t[6],f=t[7],_=r*(n-f)+o*(d-e)+e*f-n*d,v=3*(c*(o-n)+h*(e-r)+r*n-o*e),m=v-_,x=m-_+(e*(f-h)+n*(c-d)+d*h-f*c),y=Math.sqrt(x*x+m*m+v*v),s=0!==y?1/y:0,C=w.isZero,S="serpentine";function k(t,e,n){var r=e!==l,o=r&&e>0&&e<1,c=r&&n>0&&n<1;return!r||(o||c)&&("loop"!==t||o&&c)||(t="arch",o=c=!1),{type:t,roots:o||c?o&&c?e<n?[e,n]:[n,e]:[o?e:n]:null}}if(m*=s,v*=s,C(x*=s))return C(m)?k(C(v)?"line":"quadratic"):k(S,v/(3*m));var O=3*m*m-4*x*v;if(C(O))return k("cusp",m/(2*x));var I=O>0?Math.sqrt(O/3):Math.sqrt(-O),j=2*x;return k(O>0?S:"loop",(m+I)/j,(m-I)/j)},getLength:function(n,a,b,r){if(a===l&&(a=0),b===l&&(b=1),H.isStraight(n)){var o=n;b<1&&(o=H.subdivide(o,b)[0],a/=b),a>0&&(o=H.subdivide(o,a)[1]);var c=o[6]-o[0],h=o[7]-o[1];return Math.sqrt(c*c+h*h)}return w.integrate(r||t(n),a,b,e(a,b))},getTimeAt:function(n,r,o){if(o===l&&(o=r<0?1:0),0===r)return o;var c=Math.abs,h=r>0,a=h?o:0,b=h?1:o,d=t(n),f=H.getLength(n,a,b,d),_=c(r)-f;if(c(_)<1e-12)return h?b:a;if(_>1e-12)return null;var v=r/f,m=0;return w.findRoot((function(t){return m+=w.integrate(d,o,t,e(o,t)),o=t,m-r}),d,o+v,a,b,32,1e-12)},getPoint:function(t,e){return n(t,e,0,!1)},getTangent:function(t,e){return n(t,e,1,!0)},getWeightedTangent:function(t,e){return n(t,e,1,!1)},getNormal:function(t,e){return n(t,e,2,!0)},getWeightedNormal:function(t,e){return n(t,e,2,!1)},getCurvature:function(t,e){return n(t,e,3,!1).x},getPeaks:function(t){var e=t[0],n=t[1],r=t[2],o=t[3],c=t[4],l=t[5],h=3*r-e-3*c+t[6],d=3*e-6*r+3*c,f=-3*e+3*r,_=3*o-n-3*l+t[7],v=3*n-6*o+3*l,m=-3*n+3*o,x=[];return w.solveCubic(9*(h*h+_*_),9*(h*d+v*_),2*(d*d+v*v)+3*(f*h+m*_),f*d+v*m,x,1e-8,.99999999),x.sort()}}}},new function(){function t(t,e,n,r,o,c,l){var h=!l&&n.getPrevious()===o,d=!l&&n!==o&&n.getNext()===o,f=1e-8,_=1-f;if(null!==r&&r>=(h?f:0)&&r<=(d?_:1)&&null!==c&&c>=(d?f:0)&&c<=(h?_:1)){var v=new Z(n,r,null,l),m=new Z(o,c,null,l);v._intersection=m,m._intersection=v,e&&!e(v)||Z.insert(t,v,!0)}}function e(r,o,c,l,h,d,f,_,v,m,x,y,w){if(++v>=4096||++_>=40)return v;var C,S,k=o[0],O=o[1],I=o[6],j=o[7],M=T.getSignedDistance,z=M(k,O,I,j,o[2],o[3]),P=M(k,O,I,j,o[4],o[5]),A=z*P>0?3/4:4/9,L=A*Math.min(0,z,P),B=A*Math.max(0,z,P),N=M(k,O,I,j,r[0],r[1]),R=M(k,O,I,j,r[2],r[3]),E=M(k,O,I,j,r[4],r[5]),D=M(k,O,I,j,r[6],r[7]),$=function(t,e,n,r){var o,c=[0,t],l=[1/3,e],h=[2/3,n],d=[1,r],f=e-(2*t+r)/3,_=n-(t+2*r)/3;if(f*_<0)o=[[c,l,d],[c,h,d]];else{var v=f/_;o=[v>=2?[c,l,d]:v<=.5?[c,h,d]:[c,l,h,d],[c,d]]}return(f||_)<0?o.reverse():o}(N,R,E,D),F=$[0],V=$[1];if(0===z&&0===P&&0===N&&0===R&&0===E&&0===D||null==(C=n(F,V,L,B))||null==(S=n(F.reverse(),V.reverse(),L,B)))return v;var Z=m+(x-m)*C,Y=m+(x-m)*S;if(Math.max(w-y,Y-Z)<1e-9){var X=(Z+Y)/2,u=(y+w)/2;t(h,d,f?l:c,f?u:X,f?c:l,f?X:u)}else{r=H.getPart(r,C,S);var G=w-y;if(S-C>.8)if(Y-Z>G){X=(Z+Y)/2;v=e(o,(U=H.subdivide(r,.5))[0],l,c,h,d,!f,_,v,y,w,Z,X),v=e(o,U[1],l,c,h,d,!f,_,v,y,w,X,Y)}else{var U;u=(y+w)/2;v=e((U=H.subdivide(o,.5))[0],r,l,c,h,d,!f,_,v,y,u,Z,Y),v=e(U[1],r,l,c,h,d,!f,_,v,u,w,Z,Y)}else v=0===G||G>=1e-9?e(o,r,l,c,h,d,!f,_,v,y,w,Z,Y):e(r,o,c,l,h,d,f,_,v,Z,Y,y,w)}return v}function n(t,e,n,o){return t[0][1]<n?r(t,!0,n):e[0][1]>o?r(e,!1,o):t[0][0]}function r(t,e,n){for(var r=t[0][0],o=t[0][1],i=1,c=t.length;i<c;i++){var l=t[i][0],h=t[i][1];if(e?h>=n:h<=n)return h===n?l:r+(n-o)*(l-r)/(h-o);r=l,o=h}return null}function o(t,e,n,r,o){var c=w.isZero;if(c(r)&&c(o)){var l=H.getTimeOf(t,new S(e,n));return null===l?[]:[l]}for(var h=Math.atan2(-o,r),d=Math.sin(h),f=Math.cos(h),_=[],v=[],i=0;i<8;i+=2){var m=t[i]-e,x=t[i+1]-n;_.push(m*f-x*d,m*d+x*f)}return H.solveCubic(_,1,0,v,0,1),v}function c(e,n,r,c,l,h,d){for(var f=n[0],_=n[1],v=o(e,f,_,n[6]-f,n[7]-_),i=0,m=v.length;i<m;i++){var x=v[i],y=H.getPoint(e,x),w=H.getTimeOf(n,y);null!==w&&t(l,h,d?c:r,d?w:x,d?r:c,d?x:w)}}function l(e,n,r,o,c,l){var h=T.intersect(e[0],e[1],e[6],e[7],n[0],n[1],n[6],n[7]);h&&t(c,l,r,H.getTimeOf(e,h),o,H.getTimeOf(n,h))}function h(n,r,o,h,d,_){var v=1e-12,m=Math.min,x=Math.max;if(x(n[0],n[2],n[4],n[6])+v>m(r[0],r[2],r[4],r[6])&&m(n[0],n[2],n[4],n[6])-v<x(r[0],r[2],r[4],r[6])&&x(n[1],n[3],n[5],n[7])+v>m(r[1],r[3],r[5],r[7])&&m(n[1],n[3],n[5],n[7])-v<x(r[1],r[3],r[5],r[7])){var y=f(n,r);if(y)for(var i=0;i<2;i++){var w=y[i];t(d,_,o,w[0],h,w[1],!0)}else{var C=H.isStraight(n),k=H.isStraight(r),O=C&&k,I=C&&!k,j=d.length;if((O?l:C||k?c:e)(I?r:n,I?n:r,I?h:o,I?o:h,d,_,I,0,0,0,1,0,1),!O||d.length===j)for(i=0;i<4;i++){var M=i>>1,z=1&i,T=6*M,P=6*z,A=new S(n[T],n[T+1]),L=new S(r[P],r[P+1]);A.isClose(L,v)&&t(d,_,o,M,h,z)}}}return d}function d(e,n,r,o){var c=H.classify(e);if("loop"===c.type){var l=c.roots;t(r,o,n,l[0],n,l[1])}return r}function f(t,e){function n(t){var e=t[6]-t[0],n=t[7]-t[1];return e*e+n*n}var r=Math.abs,o=T.getDistance,c=1e-7,l=H.isStraight(t),h=H.isStraight(e),d=l&&h,f=n(t)<n(e),_=f?e:t,v=f?t:e,m=_[0],x=_[1],y=_[6]-m,w=_[7]-x;if(o(m,x,y,w,v[0],v[1],!0)<c&&o(m,x,y,w,v[6],v[7],!0)<c)!d&&o(m,x,y,w,_[2],_[3],!0)<c&&o(m,x,y,w,_[4],_[5],!0)<c&&o(m,x,y,w,v[2],v[3],!0)<c&&o(m,x,y,w,v[4],v[5],!0)<c&&(l=h=d=!0);else if(d)return null;if(l^h)return null;for(var C=[t,e],k=[],i=0;i<4&&k.length<2;i++){var O=1&i,I=1^O,j=i>>1,M=H.getTimeOf(C[O],new S(C[I][j?6:0],C[I][j?7:1]));if(null!=M){var z=O?[j,M]:[M,j];(!k.length||r(z[0]-k[0][0])>1e-8&&r(z[1]-k[0][1])>1e-8)&&k.push(z)}if(i>2&&!k.length)break}if(2!==k.length)k=null;else if(!d){var P=H.getPart(t,k[0][0],k[1][0]),A=H.getPart(e,k[0][1],k[1][1]);(r(A[2]-P[2])>c||r(A[3]-P[3])>c||r(A[4]-P[4])>c||r(A[5]-P[5])>c)&&(k=null)}return k}return{getIntersections:function(t){var e=this.getValues(),n=t&&t!==this&&t.getValues();return n?h(e,n,this,t,[]):d(e,this,[])},statics:{getOverlaps:f,getIntersections:function(t,e,n,r,o,c){var l=!e;l&&(e=t);for(var f=t.length,_=e.length,v=new Array(f),m=l?v:new Array(_),y=[],i=0;i<f;i++)v[i]=t[i].getValues(r);if(!l)for(i=0;i<_;i++)m[i]=e[i].getValues(o);for(var w=x.findCurveBoundsCollisions(v,m,1e-7),C=0;C<f;C++){var S=t[C],k=v[C];l&&d(k,S,y,n);var O=w[C];if(O)for(var I=0;I<O.length;I++){if(c&&y.length)return y;var j=O[I];if(!l||j>C){var M=e[j];h(k,m[j],S,M,y,n)}}}return y},getCurveLineIntersections:o,getTimesWithTangent:function(t,e){var n=t[0],r=t[1],o=t[2],c=t[3],l=t[4],h=t[5],d=t[6],f=t[7],_=e.normalize(),v=_.x,m=_.y,x=3*d-9*l+9*o-3*n,y=3*f-9*h+9*c-3*r,C=6*l-12*o+6*n,S=6*h-12*c+6*r,k=3*o-3*n,O=3*c-3*r,I=2*x*m-2*y*v,j=[];if(Math.abs(I)<w.CURVETIME_EPSILON){if(0!=(I=x*S-y*C)){var M=-(x*O-y*k)/I;M>=0&&M<=1&&j.push(M)}}else{var z=(C*C-4*x*k)*m*m+(-2*C*S+4*y*k+4*x*O)*v*m+(S*S-4*y*O)*v*v,T=C*m-S*v;if(z>=0&&0!=I){var P=Math.sqrt(z),A=-(T+P)/I,L=(-T+P)/I;A>=0&&A<=1&&j.push(A),L>=0&&L<=1&&j.push(L)}}return j}}}}),Z=f.extend({_class:"CurveLocation",initialize:function(t,time,e,n,r){if(time>=.99999999){var o=t.getNext();o&&(time=0,t=o)}this._setCurve(t),this._time=time,this._point=e||t.getPointAtTime(time),this._overlap=n,this._distance=r,this._intersection=this._next=this._previous=null},_setPath:function(path){this._path=path,this._version=path?path._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var e=t.getCurve();e?this._setCurve(e):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),time=this.getTime();0===time?t=e._segment1:1===time?t=e._segment2:null!=time&&(t=e.getPartLength(0,time)<e.getPartLength(time,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){var path=this._path,t=this;function e(e){var n=e&&e.getCurve();if(n&&null!=(t._time=n.getTimeOf(t._point)))return t._setCurve(n),n}return path&&path._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||e(this._segment)||e(this._segment1)||e(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),time=this._time;return t&&null==time?this._time=t.getTimeOf(this._point):time},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var path=this.getPath(),e=this.getIndex();if(path&&null!=e)for(var n=path.getCurves(),i=0;i<e;i++)t+=n[i].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(null==t){var e=this.getCurve(),time=this.getTime();this._curveOffset=t=null!=time&&e&&e.getPartLength(0,time)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),path=t._path,e=t&&t.splitAtTime(this.getTime());return e&&this._setSegment(path.getLastSegment()),e},equals:function(t,e){var n=this===t;if(!n&&t instanceof Z){var r=this.getCurve(),o=t.getCurve(),c=r._path;if(c===o._path){var l=Math.abs,h=l(this.getOffset()-t.getOffset()),d=!e&&this._intersection,f=!e&&t._intersection;n=(h<1e-7||c&&l(c.getLength()-h)<1e-7)&&(!d&&!f||d&&f&&d.equals(f,!0))}}return n},toString:function(){var t=[],e=this.getPoint(),n=y.instance;e&&t.push("point: "+e);var r=this.getIndex();null!=r&&t.push("index: "+r);var time=this.getTime();return null!=time&&t.push("time: "+n.number(time)),null!=this._distance&&t.push("distance: "+n.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),n=t.getCurve();return!(e.isStraight()&&n.isStraight()&&e.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var e=this.getTime(),n=t.getTime(),r=1e-8,o=1-r,c=e>=r&&e<=o,l=n>=r&&n<=o;if(c&&l)return!this.isTouching();var h=this.getCurve(),d=h&&e<r?h.getPrevious():h,f=t.getCurve(),_=f&&n<r?f.getPrevious():f;if(e>o&&(h=h.getNext()),n>o&&(f=f.getNext()),!(d&&h&&_&&f))return!1;var v=[];function m(t,e){var n=t.getValues(),r=H.classify(n).roots||H.getPeaks(n),o=r.length,c=H.getLength(n,e&&o?r[o-1]:0,!e&&o?r[0]:1);v.push(o?c:c/32)}function x(t,e,n){return e<n?t>e&&t<n:t>e||t<n}c||(m(d,!0),m(h,!1)),l||(m(_,!0),m(f,!1));var y=this.getPoint(),w=Math.min.apply(Math,v),C=c?h.getTangentAtTime(e):h.getPointAt(w).subtract(y),S=c?C.negate():d.getPointAt(-w).subtract(y),k=l?f.getTangentAtTime(n):f.getPointAt(w).subtract(y),O=l?k.negate():_.getPointAt(-w).subtract(y),I=S.getAngle(),j=C.getAngle(),M=O.getAngle(),z=k.getAngle();return!!(c?x(I,M,z)^x(j,M,z)&&x(I,z,M)^x(j,z,M):x(M,I,j)^x(z,I,j)&&x(M,j,I)^x(z,j,I))},hasOverlap:function(){return!!this._overlap}},f.each(H._evaluateMethods,(function(t){var e=t+"At";this[t]=function(){var t=this.getCurve(),time=this.getTime();return null!=time&&t&&t[e](time,!0)}}),{preserve:!0}),new function(){function t(t,e,n){var r=t.length,o=0,c=r-1;function l(n,o){for(var i=n+o;i>=-1&&i<=r;i+=o){var c=t[(i%r+r)%r];if(!e.getPoint().isClose(c.getPoint(),1e-7))break;if(e.equals(c))return c}return null}for(;o<=c;){var h,d=o+c>>>1,f=t[d];if(n&&(h=e.equals(f)?f:l(d,-1)||l(d,1)))return e._overlap&&(h._overlap=h._intersection._overlap=!0),h;var _=e.getPath(),v=f.getPath();(_!==v?_._id-v._id:e.getIndex()+e.getTime()-(f.getIndex()+f.getTime()))<0?c=d-1:o=d+1}return t.splice(o,0,e),e}return{statics:{insert:t,expand:function(e){for(var n=e.slice(),i=e.length-1;i>=0;i--)t(n,e[i]._intersection,!1);return n}}}}),Y=A.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var data,e,n;if(f.isPlainObject(t)?(e=t.segments,data=t.pathData):Array.isArray(t)?e=t:"string"==typeof t&&(data=t),e){var r=e[0];n=r&&Array.isArray(r[0])}else data&&(n=(data.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(data));return new(n?G:X)(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(data){var t,e,n,r=data&&data.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),o=!1,c=new S,l=new S;function h(e,n){var r=+t[e];return o&&(r+=c[n]),r}function d(t){return new S(h(t,"x"),h(t+1,"y"))}this.clear();for(var i=0,f=r&&r.length;i<f;i++){var _=r[i],v=_[0],m=v.toLowerCase(),x=(t=_.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&t.length;switch(o=v===m,"z"!==e||/[mz]/.test(m)||this.moveTo(c),m){case"m":case"l":for(var y="m"===m,w=0;w<x;w+=2)this[y?"moveTo":"lineTo"](c=d(w)),y&&(l=c,y=!1);n=c;break;case"h":case"v":var C="h"===m?"x":"y";c=c.clone();for(w=0;w<x;w++)c[C]=h(w,C),this.lineTo(c);n=c;break;case"c":for(w=0;w<x;w+=6)this.cubicCurveTo(d(w),n=d(w+2),c=d(w+4));break;case"s":for(w=0;w<x;w+=4)this.cubicCurveTo(/[cs]/.test(e)?c.multiply(2).subtract(n):c,n=d(w),c=d(w+2)),e=m;break;case"q":for(w=0;w<x;w+=4)this.quadraticCurveTo(n=d(w),c=d(w+2));break;case"t":for(w=0;w<x;w+=2)this.quadraticCurveTo(n=/[qt]/.test(e)?c.multiply(2).subtract(n):c,c=d(w)),e=m;break;case"a":for(w=0;w<x;w+=7)this.arcTo(c=d(w+5),new O(+t[w],+t[w+1]),+t[w+2],+t[w+4],+t[w+3]);break;case"z":this.closePath(1e-12),c=l}e=m}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!("evenodd"===this.getFillRule()?1&e.windingL||1&e.windingR:e.winding)},getIntersections:function(path,t,e,n){var r=this===path||!path,o=this._matrix._orNullIfIdentity(),c=r?o:(e||path._matrix)._orNullIfIdentity();return r||this.getBounds(o).intersects(path.getBounds(c),1e-12)?H.getIntersections(this.getCurves(),!r&&path.getCurves(),t,o,c,n):[]},getCrossings:function(path){return this.getIntersections(path,(function(t){return t.isCrossing()}))},getNearestLocation:function(){for(var t=S.read(arguments),e=this.getCurves(),n=1/0,r=null,i=0,o=e.length;i<o;i++){var c=e[i].getNearestLocation(t);c._distance<n&&(n=c._distance,r=c)}return r},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t},interpolate:function(t,e,n){var r=!this._children,o=r?"_segments":"_children",c=t[o],l=e[o],h=this[o];if(!c||!l||c.length!==l.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var d=h.length,f=l.length;if(d<f)for(var _=r?F:X,i=d;i<f;i++)this.add(new _);else d>f&&this[r?"removeSegments":"removeChildren"](f,d);for(i=0;i<f;i++)h[i].interpolate(c[i],l[i],n);r&&(this.setClosed(t._closed),this._changed(9))},compare:function(path){var t=!1;if(path){var e=this._children||[this],n=path._children?path._children.slice():[path],r=e.length,o=n.length,c=[],l=0;t=!0;for(var h=x.findItemBoundsCollisions(e,n,w.GEOMETRIC_EPSILON),d=r-1;d>=0&&t;d--){var f=e[d];t=!1;var _=h[d];if(_)for(var v=_.length-1;v>=0&&!t;v--)f.compare(n[_[v]])&&(c[_[v]]||(c[_[v]]=!0,l++),t=!0)}t=t&&l===o}return t}}),X=Y.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var e=arguments,n=Array.isArray(t)?"object"==typeof t[0]?t:e:!t||t.size!==l||t.x===l&&t.point===l?null:e;n&&n.length>0?this.setSegments(n):(this._curves=l,this._segmentSelection=0,n||"string"!=typeof t||(this.setPathData(t),t=null)),this._initialize(!n&&t)},_equals:function(t){return this._closed===t._closed&&f.equals(this._segments,t._segments)},copyContent:function(source){this.setSegments(source._segments),this._closed=source._closed},_changed:function t(e){if(t.base.call(this,e),8&e){if(this._length=this._area=l,32&e)this._version++;else if(this._curves)for(var i=0,n=this._curves.length;i<n;i++)this._curves[i]._changed()}else 64&e&&(this._bounds=l)},getStyle:function(){var t=this._parent;return(t instanceof G?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),n=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=l,n){var r=t[n-1];"boolean"==typeof r&&(this.setClosed(r),n--),this._add(F.readList(t,0,{},n))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var n=this._countCurves();t=this._curves=new Array(n);for(var i=0;i<n;i++)t[i]=new H(this,e[i],e[i+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new H(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(t,e){var n,r,o,c,l,h,d,f,_=this._segments,v=_.length,m=new y(e),x=new Array(6),w=!0,C=[];function S(e,_){if(e._transformCoordinates(t,x),n=x[0],r=x[1],w)C.push("M"+m.pair(n,r)),w=!1;else if(l=x[2],h=x[3],l===n&&h===r&&d===o&&f===c){if(!_){var v=n-o,y=r-c;C.push(0===v?"v"+m.number(y):0===y?"h"+m.number(v):"l"+m.pair(v,y))}}else C.push("c"+m.pair(d-o,f-c)+" "+m.pair(l-o,h-c)+" "+m.pair(n-o,r-c));o=n,c=r,d=x[4],f=x[5]}if(!v)return"";for(var i=0;i<v;i++)S(_[i]);return this._closed&&v>0&&(S(_[0],!0),C.push("z")),C.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,n=new Array(6),i=0,r=e.length;i<r;i++)e[i]._transformCoordinates(t,n,!0);return!0},_add:function(t,e){for(var n=this._segments,r=this._curves,o=t.length,c=null==e,i=(e=c?n.length:e,0);i<o;i++){var l=t[i];l._path&&(l=t[i]=l.clone()),l._path=this,l._index=e+i,l._selection&&this._updateSelection(l,0,l._selection)}if(c)f.push(n,t);else{n.splice.apply(n,[e,0].concat(t));i=e+o;for(var h=n.length;i<h;i++)n[i]._index=i}if(r){var d=this._countCurves(),_=e>0&&e+o-1===d?e-1:e,v=_,m=Math.min(_+o,d);t._curves&&(r.splice.apply(r,[_,0].concat(t._curves)),v+=t._curves.length);for(i=v;i<m;i++)r.splice(i,0,new H(this,null,null));this._adjustCurves(_,m)}return this._changed(41),t},_adjustCurves:function(t,e){for(var n,r=this._segments,o=this._curves,i=t;i<e;i++)(n=o[i])._path=this,n._segment1=r[i],n._segment2=r[i+1]||r[0],n._changed();(n=o[this._closed&&!t?r.length-1:t-1])&&(n._segment2=r[t]||r[0],n._changed()),(n=o[e])&&(n._segment1=r[e],n._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){var e=arguments;return e.length>1&&"number"!=typeof t?this._add(F.readList(e)):this._add([F.read(e)])[0]},insert:function(t,e){var n=arguments;return n.length>2&&"number"!=typeof e?this._add(F.readList(n,1),t):this._add([F.read(n,1)],t)[0]},addSegment:function(){return this._add([F.read(arguments)])[0]},insertSegment:function(t){return this._add([F.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(F.readList(t))},insertSegments:function(t,e){return this._add(F.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,n){t=t||0,e=f.pick(e,this._segments.length);var r=this._segments,o=this._curves,c=r.length,l=r.splice(t,e-t),h=l.length;if(!h)return l;for(var i=0;i<h;i++){var d=l[i];d._selection&&this._updateSelection(d,d._selection,0),d._index=d._path=null}i=t;for(var _=r.length;i<_;i++)r[i]._index=i;if(o){var v=t>0&&e===c+(this._closed?1:0)?t-1:t;for(i=(o=o.splice(v,h)).length-1;i>=0;i--)o[i]._path=null;n&&(l._curves=o.slice(1)),this._adjustCurves(v,v)}return this._changed(41),l},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,i=0,e=t.length;i<e;i++)if(t[i].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,i=0,e=t.length;i<e;i++)t[i].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,i=0,n=t.length;i<n;i++)e+=t[i].getLength();this._length=e}return this._length},getArea:function(){var area=this._area;if(null==area){var t=this._segments,e=this._closed;area=0;for(var i=0,n=t.length;i<n;i++){var r=i+1===n;area+=H.getArea(H.getValues(t[i],t[r?0:i+1],null,r&&!e))}this._area=area}return area},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){1&e||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,n=e.length,r=t?7:0;this._segmentSelection=r*n;for(var i=0;i<n;i++)e[i]._selection=r},_updateSelection:function(t,e,n){t._selection=n,(this._segmentSelection+=n-e)>0&&this.setSelected(!0)},divideAt:function(t){var e,n=this.getLocationAt(t);return n&&(e=n.getCurve().divideAt(n.getCurveOffset()))?e._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),n=e&&e.index,time=e&&e.time;time>.99999999&&(n++,time=0);var r=this.getCurves();if(n>=0&&n<r.length){time>=1e-8&&r[n++].divideAtTime(time);var path,o=this.removeSegments(n,this._segments.length,!0);return this._closed?(this.setClosed(!1),path=this):((path=new X(A.NO_INSERT)).insertAbove(this),path.copyAttributes(this)),path._add(o,0),this.addSegment(o[0]),path}return null},split:function(t,time){var e,n=time===l?t:(e=this.getCurves()[t])&&e.getLocationAtTime(time);return null!=n?this.splitAt(n):null},join:function(path,t){var e=t||0;if(path&&path!==this){var n=path._segments,r=this.getLastSegment(),o=path.getLastSegment();if(!o)return this;r&&r._point.isClose(o._point,e)&&path.reverse();var c=path.getFirstSegment();if(r&&r._point.isClose(c._point,e))r.setHandleOut(c._handleOut),this._add(n.slice(1));else{var l=this.getFirstSegment();l&&l._point.isClose(c._point,e)&&path.reverse(),o=path.getLastSegment(),l&&l._point.isClose(o._point,e)?(l.setHandleIn(o._handleIn),this._add(n.slice(0,n.length-1),0)):this._add(n.slice())}path._closed&&this._add([n[0]]),path.remove()}var h=this.getFirstSegment(),d=this.getLastSegment();return h!==d&&h._point.isClose(d._point,e)&&(h.setHandleIn(d._handleIn),d.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),n=t&&t.simplify,r=n?1e-7:0,i=e.length-1;i>=0;i--){var o=e[i];!o.hasHandles()&&(!o.hasLength(r)||n&&o.isCollinear(o.getNext()))&&o.remove()}return this},reverse:function(){this._segments.reverse();for(var i=0,t=this._segments.length;i<t;i++){var e=this._segments[i],n=e._handleIn;e._handleIn=e._handleOut,e._handleOut=n,e._index=i}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new U(this,t||.25,256,!0).parts,n=e.length,r=[],i=0;i<n;i++)r.push(new F(e[i].curve.slice(0,2)));!this._closed&&n>0&&r.push(new F(e[n-1].curve.slice(6))),this.setSegments(r)},simplify:function(t){var e=new W(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){var e=this,n=t||{},r=n.type||"asymmetric",o=this._segments,c=o.length,h=this._closed;function d(t,n){var r=t&&t.index;if(null!=r){var path=t.path;if(path&&path!==e)throw new Error(t._class+" "+r+" of "+path+" is not part of "+e);n&&t instanceof H&&r++}else r="number"==typeof t?t:n;return Math.min(r<0&&h?r%c:r<0?r+c:r,c-1)}var f=h&&n.from===l&&n.to===l,_=d(n.from,0),v=d(n.to,c-1);if(_>v)if(h)_-=c;else{var m=_;_=v,v=m}if(/^(?:asymmetric|continuous)$/.test(r)){var x="asymmetric"===r,y=Math.min,w=v-_+1,C=w-1,S=f?y(w,4):1,k=S,O=S,I=[];if(h||(k=y(1,_),O=y(1,c-v-1)),(C+=k+O)<=1)return;for(var i=0,j=_-k;i<=C;i++,j++)I[i]=o[(j<0?j+c:j)%c]._point;var M=I[0]._x+2*I[1]._x,z=I[0]._y+2*I[1]._y,T=2,P=C-1,A=[M],L=[z],B=[T],N=[],R=[];for(i=1;i<C;i++){var E=i<P,b=E?4:x?2:7,u=E?4:x?3:8,D=E?2:x?0:1,$=(E||x?1:2)/T;T=B[i]=b-$,M=A[i]=u*I[i]._x+D*I[i+1]._x-$*M,z=L[i]=u*I[i]._y+D*I[i+1]._y-$*z}N[P]=A[P]/B[P],R[P]=L[P]/B[P];for(i=C-2;i>=0;i--)N[i]=(A[i]-N[i+1])/B[i],R[i]=(L[i]-R[i+1])/B[i];N[C]=(3*I[C]._x-N[P])/2,R[C]=(3*I[C]._y-R[P])/2;i=k;var F=C-O;for(j=_;i<=F;i++,j++){var V=o[j<0?j+c:j],Z=V._point,Y=N[i]-Z._x,X=R[i]-Z._y;(f||i<F)&&V.setHandleOut(Y,X),(f||i>k)&&V.setHandleIn(-Y,-X)}}else for(i=_;i<=v;i++)o[i<0?i+c:i].smooth(n,!f&&i===_,!f&&i===v)},toShape:function(t){if(!this._closed)return null;var e,n,r,o,c,h,d,f=this._segments;function _(i,t){var e=f[i],n=e.getNext(),r=f[t],o=r.getNext();return e._handleOut.isZero()&&n._handleIn.isZero()&&r._handleOut.isZero()&&o._handleIn.isZero()&&n._point.subtract(e._point).isCollinear(o._point.subtract(r._point))}function v(i){var t=f[i],e=t.getNext(),n=t._handleOut,r=e._handleIn,o=.5522847498307936;if(n.isOrthogonal(r)){var c=t._point,l=e._point,h=new T(c,n,!0).intersect(new T(l,r,!0),!0);return h&&w.isZero(n.getLength()/h.subtract(c).getLength()-o)&&w.isZero(r.getLength()/h.subtract(l).getLength()-o)}return!1}function m(i,t){return f[i]._point.getDistance(f[t]._point)}if(!this.hasHandles()&&4===f.length&&_(0,2)&&_(1,3)&&(c=f[1],h=c.getPrevious(),d=c.getNext(),h._handleOut.isZero()&&c._handleIn.isZero()&&c._handleOut.isZero()&&d._handleIn.isZero()&&c._point.subtract(h._point).isOrthogonal(d._point.subtract(c._point)))?(e=N.Rectangle,n=new O(m(0,3),m(0,1)),o=f[1]._point.add(f[2]._point).divide(2)):8===f.length&&v(0)&&v(2)&&v(4)&&v(6)&&_(1,5)&&_(3,7)?(e=N.Rectangle,r=(n=new O(m(1,6),m(0,3))).subtract(new O(m(0,7),m(1,2))).divide(2),o=f[3]._point.add(f[4]._point).divide(2)):4===f.length&&v(0)&&v(1)&&v(2)&&v(3)&&(w.isZero(m(0,2)-m(1,3))?(e=N.Circle,r=m(0,2)/2):(e=N.Ellipse,r=new O(m(2,0)/2,m(3,1)/2)),o=f[1]._point),e){var x=this.getPosition(!0),y=new e({center:x,size:n,radius:r,insert:!1});return y.copyAttributes(this,!0),y._matrix.prepend(this._matrix),y.rotate(o.subtract(x).getAngle()+90),(t===l||t)&&y.insertAbove(this),y}return null},toPath:"#clone",compare:function t(path){if(!path||path instanceof G)return t.base.call(this,path);var e=this.getCurves(),n=path.getCurves(),r=e.length,o=n.length;if(!r||!o)return r==o;for(var c,l,h=e[0].getValues(),d=[],f=0,_=0,i=0;i<o;i++){var v=n[i].getValues();if(d.push(v),y=H.getOverlaps(h,v)){c=!i&&y[0][0]>0?o-1:i,l=y[0][1];break}}var m,x=Math.abs;for(v=d[c];h&&v;){var y;if(y=H.getOverlaps(h,v))if(x(y[0][0]-_)<1e-8){1===(_=y[1][0])&&(h=++f<r?e[f].getValues():null,_=0);var w=y[0][1];if(x(w-l)<1e-8){if(m||(m=[c,w]),1===(l=y[1][1])&&(++c>=o&&(c=0),v=d[c]||n[c].getValues(),l=0),!h)return m[0]===c&&m[1]===l;continue}}break}return!1},_hitTestSelf:function(t,e,n,r){var o,c,l,area,h,d,f=this,style=this.getStyle(),_=this._segments,v=_.length,m=this._closed,x=e._tolerancePadding,y=x,w=e.stroke&&style.hasStroke(),C=e.fill&&style.hasFill(),S=e.curves,k=w?style.getStrokeWidth()/2:C&&e.tolerance>0||S?0:null;function O(e,n){return t.subtract(e).divide(n).length<=1}function I(t,n,r){if(!e.selected||n.isSelected()){var o=t._point;if(n!==o&&(n=n.add(o)),O(n,y))return new $(r,f,{segment:t,point:n})}}function j(t,n){return(n||e.segments)&&I(t,t._point,"segment")||!n&&e.handles&&(I(t,t._handleIn,"handle-in")||I(t,t._handleOut,"handle-out"))}function M(t){area.add(t)}function z(e){var n,h=m||e._index>0&&e._index<v-1;return"round"===(h?o:c)?O(e._point,y):(area=new X({internal:!0,closed:!0}),h?e.isSmooth()||X._addBevelJoin(e,o,k,l,null,r,M,!0):"square"===c&&X._addSquareCap(e,c,k,null,r,M,!0),area.isEmpty()?void 0:area.contains(t)||(n=area.getNearestLocation(t))&&O(n.getPoint(),x))}if(null!==k&&(k>0?(o=style.getStrokeJoin(),c=style.getStrokeCap(),l=style.getMiterLimit(),y=y.add(X._getStrokePadding(k,r))):o=c="round"),!e.ends||e.segments||m){if(e.segments||e.handles)for(var i=0;i<v;i++)if(d=j(_[i]))return d}else if(d=j(_[0],!0)||j(_[v-1],!0))return d;if(null!==k){if(h=this.getNearestLocation(t)){var time=h.getTime();0===time||1===time&&v>1?z(h.getSegment())||(h=null):O(h.getPoint(),y)||(h=null)}if(!h&&"miter"===o&&v>1)for(i=0;i<v;i++){var T=_[i];if(t.getDistance(T._point)<=l*k&&z(T)){h=T.getLocation();break}}}return!h&&C&&this._contains(t)||h&&!w&&!S?new $("fill",this):h?new $(w?"stroke":"curve",this,{location:h,point:h.getPoint()}):null}},f.each(H._evaluateMethods,(function(t){this[t+"At"]=function(e){var n=this.getLocationAt(e);return n&&n[t]()}}),{beans:!1,getLocationOf:function(){for(var t=S.read(arguments),e=this.getCurves(),i=0,n=e.length;i<n;i++){var r=e[i].getLocationOf(t);if(r)return r}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if("number"==typeof t){for(var e=this.getCurves(),n=0,i=0,r=e.length;i<r;i++){var o=n,c=e[i];if((n+=c.getLength())>t)return c.getLocationAt(t-o)}if(e.length>0&&t<=this.getLength())return new Z(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=S.read(arguments);if(t.isZero())return[];for(var e=[],n=0,r=this.getCurves(),i=0,o=r.length;i<o;i++){for(var c=r[i],l=c.getTimesWithTangent(t),h=0,d=l.length;h<d;h++){var f=n+c.getOffsetAtTime(l[h]);e.indexOf(f)<0&&e.push(f)}n+=c.length}return e}}),new function(){function t(t,path,e){var n,r,o,c,l,h,d,f,_=path._segments,v=_.length,m=new Array(6),x=!0;function y(_){if(e)_._transformCoordinates(e,m),n=m[0],r=m[1];else{var v=_._point;n=v._x,r=v._y}if(x)t.moveTo(n,r),x=!1;else{if(e)l=m[2],h=m[3];else{var y=_._handleIn;l=n+y._x,h=r+y._y}l===n&&h===r&&d===o&&f===c?t.lineTo(n,r):t.bezierCurveTo(d,f,l,h,n,r)}if(o=n,c=r,e)d=m[4],f=m[5];else{y=_._handleOut;d=o+y._x,f=c+y._y}}for(var i=0;i<v;i++)y(_[i]);path._closed&&v>0&&y(_[0])}return{_draw:function(e,param,n,r){var o=param.dontStart,c=param.dontFinish||param.clip,style=this.getStyle(),l=style.hasFill(),h=style.hasStroke(),d=style.getDashArray(),f=!xt.support.nativeDash&&h&&d&&d.length;function _(i){return d[(i%f+f)%f]}if(o||e.beginPath(),(l||h&&!f||c)&&(t(e,this,r),this._closed&&e.closePath()),!c&&(l||h)&&(this._setStyles(e,param,n),l&&(e.fill(style.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),h)){if(f){o||e.beginPath();for(var v,m=new U(this,.25,32,!1,r),x=m.length,y=-style.getDashOffset(),i=0;y>0;)y-=_(i--)+_(i--);for(;y<x;)v=y+_(i++),(y>0||v>0)&&m.drawPart(e,Math.max(y,0),Math.max(v,0)),y=v+_(i++)}e.stroke()}},_drawSelected:function(e,n){e.beginPath(),t(e,this,n),e.stroke(),function(t,e,n,r){if(!(r<=0))for(var o,c,l=r/2,h=r-2,d=l-1,f=new Array(6),i=0,_=e.length;i<_;i++){var v=e[i],m=v._selection;if(v._transformCoordinates(n,f),o=f[0],c=f[1],2&m&&y(2),4&m&&y(4),t.fillRect(o-l,c-l,r,r),h>0&&!(1&m)){var x=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(o-d,c-d,h,h),t.fillStyle=x}}function y(e){var n=f[e],r=f[e+1];o==n&&c==r||(t.beginPath(),t.moveTo(o,c),t.lineTo(n,r),t.stroke(),t.beginPath(),t.arc(n,r,l,0,2*Math.PI,!0),t.fill())}}(e,this._segments,n,xt.settings.handleSize)}}},new function(){function t(t){var e=t._segments;if(!e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new F(S.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new F(S.read(arguments))])},cubicCurveTo:function(){var e=arguments,n=S.read(e),r=S.read(e),o=S.read(e),c=t(this);c.setHandleOut(n.subtract(c._point)),this._add([new F(o,r.subtract(o))])},quadraticCurveTo:function(){var e=arguments,n=S.read(e),r=S.read(e),o=t(this)._point;this.cubicCurveTo(n.add(o.subtract(n).multiply(1/3)),n.add(r.subtract(n).multiply(1/3)),r)},curveTo:function(){var e=arguments,n=S.read(e),r=S.read(e),o=f.pick(f.read(e),.5),c=1-o,l=t(this)._point,h=n.subtract(l.multiply(c*c)).subtract(r.multiply(o*o)).divide(2*o*c);if(h.isNaN())throw new Error("Cannot put a curve through points with parameter = "+o);this.quadraticCurveTo(h,r)},arcTo:function(){var e,n,r,o,c=arguments,l=Math.abs,h=Math.sqrt,d=t(this),_=d._point,v=S.read(c),m=f.peek(c);if("boolean"==typeof(I=f.pick(m,!0)))var x=(M=_.add(v).divide(2)).add(M.subtract(_).rotate(I?-90:90));else if(f.remain(c)<=2)x=v,v=S.read(c);else if(!_.equals(v)){var y=O.read(c),C=w.isZero;if(C(y.width)||C(y.height))return this.lineTo(v);var k=f.read(c),I=!!f.read(c),j=!!f.read(c),M=_.add(v).divide(2),P=(tt=_.subtract(M).rotate(-k)).x,A=tt.y,L=l(y.width),B=l(y.height),N=L*L,R=B*B,E=P*P,D=A*A,$=h(E/N+D/R);if($>1&&(N=(L*=$)*L,R=(B*=$)*B),l($=(N*R-N*D-R*E)/(N*D+R*E))<1e-12&&($=0),$<0)throw new Error("Cannot create an arc with the given arguments");e=new S(L*A/B,-B*P/L).multiply((j===I?-1:1)*h($)).rotate(k).add(M),n=(r=(o=(new z).translate(e).rotate(k).scale(L,B))._inverseTransform(_)).getDirectedAngle(o._inverseTransform(v)),!I&&n>0?n-=360:I&&n<0&&(n+=360)}if(x){var V=new T(_.add(x).divide(2),x.subtract(_).rotate(90),!0),H=new T(x.add(v).divide(2),v.subtract(x).rotate(90),!0),line=new T(_,v),Z=line.getSide(x);if(!(e=V.intersect(H,!0))){if(!Z)return this.lineTo(v);throw new Error("Cannot create an arc with the given arguments")}n=(r=_.subtract(e)).getDirectedAngle(v.subtract(e));var Y=line.getSide(e,!0);0===Y?n=Z*l(n):Z===Y&&(n+=n<0?360:-360)}if(n){for(var X=1e-7,G=l(n),U=G>=360?4:Math.ceil((G-X)/90),W=n/U,J=W*Math.PI/360,K=4/3*Math.sin(J)/(1+Math.cos(J)),Q=[],i=0;i<=U;i++){var tt=v,et=null;if(i<U&&(et=r.rotate(90).multiply(K),o?(tt=o._transformPoint(r),et=o._transformPoint(r.add(et)).subtract(tt)):tt=e.add(r)),i){var nt=r.rotate(-90).multiply(K);o&&(nt=o._transformPoint(r.add(nt)).subtract(tt)),Q.push(new F(tt,nt,et))}else d.setHandleOut(et);r=r.rotate(W)}this._add(Q)}},lineBy:function(){var e=S.read(arguments),n=t(this)._point;this.lineTo(n.add(e))},curveBy:function(){var e=arguments,n=S.read(e),r=S.read(e),o=f.read(e),c=t(this)._point;this.curveTo(c.add(n),c.add(r),o)},cubicCurveBy:function(){var e=arguments,n=S.read(e),r=S.read(e),o=S.read(e),c=t(this)._point;this.cubicCurveTo(c.add(n),c.add(r),c.add(o))},quadraticCurveBy:function(){var e=arguments,n=S.read(e),r=S.read(e),o=t(this)._point;this.quadraticCurveTo(o.add(n),o.add(r))},arcBy:function(){var e=arguments,n=t(this)._point,r=n.add(S.read(e)),o=f.pick(f.peek(e),!0);"boolean"==typeof o?this.arcTo(r,o):this.arcTo(r,n.add(S.read(e)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(t,e){var n=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return X[n](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,path,n,r,o){var c=t[0];if(!c)return new j;var l=new Array(6),h=c._transformCoordinates(n,new Array(6)),d=h.slice(0,2),f=d.slice(),_=new Array(2);function v(t){t._transformCoordinates(n,l);for(var i=0;i<2;i++)H._addBounds(h[i],h[i+4],l[i+2],l[i],i,o?o[i]:0,d,f,_);var e=h;h=l,l=e}for(var i=1,m=t.length;i<m;i++)v(t[i]);return e&&v(c),new j(d[0],d[1],f[0]-d[0],f[1]-d[1])},getStrokeBounds:function(t,e,path,n,r){var style=path.getStyle(),o=style.hasStroke(),c=style.getStrokeWidth(),l=o&&path._getStrokeMatrix(n,r),h=o&&X._getStrokePadding(c,l),d=X.getBounds(t,e,path,n,r,h);if(!o)return d;var f=c/2,_=style.getStrokeJoin(),v=style.getStrokeCap(),m=style.getMiterLimit(),x=new j(new O(h));function y(t){d=d.include(t)}function w(t){d=d.unite(x.setCenter(t._point.transform(n)))}function C(t,e){"round"===e||t.isSmooth()?w(t):X._addBevelJoin(t,e,f,m,n,l,y)}function S(t,e){"round"===e?w(t):X._addSquareCap(t,e,f,n,l,y)}var k=t.length-(e?0:1);if(k>0){for(var i=1;i<k;i++)C(t[i],_);e?C(t[0],_):(S(t[0],v),S(t[t.length-1],v))}return d},_getStrokePadding:function(t,e){if(!e)return[t,t];var n=new S(t,0).transform(e),r=new S(0,t).transform(e),o=n.getAngleInRadians(),a=n.getLength(),b=r.getLength(),c=Math.sin(o),l=Math.cos(o),h=Math.tan(o),d=Math.atan2(b*h,a),f=Math.atan2(b,h*a);return[Math.abs(a*Math.cos(d)*l+b*Math.sin(d)*c),Math.abs(b*Math.sin(f)*l+a*Math.cos(f)*c)]},_addBevelJoin:function(t,e,n,r,o,c,l,h){var d=t.getCurve(),f=d.getPrevious(),_=d.getPoint1().transform(o),v=f.getNormalAtTime(1).multiply(n).transform(c),m=d.getNormalAtTime(0).multiply(n).transform(c),x=v.getDirectedAngle(m);if((x<0||x>=180)&&(v=v.negate(),m=m.negate()),h&&l(_),l(_.add(v)),"miter"===e){var y=new T(_.add(v),new S(-v.y,v.x),!0).intersect(new T(_.add(m),new S(-m.y,m.x),!0),!0);y&&_.getDistance(y)<=r*n&&l(y)}l(_.add(m))},_addSquareCap:function(t,e,n,r,o,c,l){var h=t._point.transform(r),d=t.getLocation(),f=d.getNormal().multiply(0===d.getTime()?n:-n).transform(o);"square"===e&&(l&&(c(h.subtract(f)),c(h.add(f))),h=h.add(f.rotate(-90))),c(h.add(f)),c(h.subtract(f))},getHandleBounds:function(t,e,path,n,r){var o,c,style=path.getStyle();if(r.stroke&&style.hasStroke()){var l=path._getStrokeMatrix(n,r),h=style.getStrokeWidth()/2,d=h;"miter"===style.getStrokeJoin()&&(d=h*style.getMiterLimit()),"square"===style.getStrokeCap()&&(d=Math.max(d,h*Math.SQRT2)),o=X._getStrokePadding(h,l),c=X._getStrokePadding(d,l)}for(var f=new Array(6),_=1/0,v=-_,m=_,x=v,i=0,y=t.length;i<y;i++){t[i]._transformCoordinates(n,f);for(var w=0;w<6;w+=2){var C=w?o:c,S=C?C[0]:0,k=C?C[1]:0,O=f[w],I=f[w+1],M=O-S,z=O+S,T=I-k,P=I+k;M<_&&(_=M),z>v&&(v=z),T<m&&(m=T),P>x&&(x=P)}}return new j(_,m,v-_,x-m)}}});X.inject({statics:new function(){var t=.5522847498307936,e=[new F([-1,0],[0,t],[0,-t]),new F([0,-1],[-t,0],[t,0]),new F([1,0],[0,-t],[0,t]),new F([0,1],[t,0],[-t,0])];function n(t,e,n){var r=f.getNamed(n),path=new X(r&&0==r.insert&&A.NO_INSERT);return path._add(t),path._closed=e,path.set(r,{insert:!0})}function r(t,r,o){for(var c=new Array(4),i=0;i<4;i++){var l=e[i];c[i]=new F(l._point.multiply(r).add(t),l._handleIn.multiply(r),l._handleOut.multiply(r))}return n(c,!0,o)}return{Line:function(){var t=arguments;return n([new F(S.readNamed(t,"from")),new F(S.readNamed(t,"to"))],!1,t)},Circle:function(){var t=arguments,e=S.readNamed(t,"center"),n=f.readNamed(t,"radius");return r(e,new O(n),t)},Rectangle:function(){var e,r=arguments,rect=j.readNamed(r,"rectangle"),o=O.readNamed(r,"radius",0,{readNull:!0}),c=rect.getBottomLeft(!0),l=rect.getTopLeft(!0),tr=rect.getTopRight(!0),br=rect.getBottomRight(!0);if(!o||o.isZero())e=[new F(c),new F(l),new F(tr),new F(br)];else{var h=(o=O.min(o,rect.getSize(!0).divide(2))).width,d=o.height,f=h*t,_=d*t;e=[new F(c.add(h,0),null,[-f,0]),new F(c.subtract(0,d),[0,_]),new F(l.add(0,d),null,[0,-_]),new F(l.add(h,0),[-f,0],null),new F(tr.subtract(h,0),null,[f,0]),new F(tr.add(0,d),[0,-_],null),new F(br.subtract(0,d),null,[0,_]),new F(br.subtract(h,0),[f,0])]}return n(e,!0,r)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=arguments,ellipse=N._readEllipse(t);return r(ellipse.center,ellipse.radius,t)},Oval:"#Ellipse",Arc:function(){var t=arguments,e=S.readNamed(t,"from"),n=S.readNamed(t,"through"),r=S.readNamed(t,"to"),o=f.getNamed(t),path=new X(o&&0==o.insert&&A.NO_INSERT);return path.moveTo(e),path.arcTo(n,r),path.set(o)},RegularPolygon:function(){for(var t=arguments,e=S.readNamed(t,"center"),r=f.readNamed(t,"sides"),o=f.readNamed(t,"radius"),c=360/r,l=r%3==0,h=new S(0,l?-o:o),d=l?-1:.5,_=new Array(r),i=0;i<r;i++)_[i]=new F(e.add(h.rotate((i+d)*c)));return n(_,!0,t)},Star:function(){for(var t=arguments,e=S.readNamed(t,"center"),r=2*f.readNamed(t,"points"),o=f.readNamed(t,"radius1"),c=f.readNamed(t,"radius2"),l=360/r,h=new S(0,-1),d=new Array(r),i=0;i<r;i++)d[i]=new F(e.add(h.rotate(l*i).multiply(i%2?c:o)));return n(d,!0,t)}}}});var G=Y.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function t(e,n){var r=n,o=r[0];o&&"number"==typeof o[0]&&(r=[r]);for(var i=n.length-1;i>=0;i--){var c=r[i];r!==n||c instanceof X||(r=f.slice(r)),Array.isArray(c)?r[i]=new X({segments:c,insert:!1}):c instanceof G&&(r.splice.apply(r,[i,1].concat(c.removeChildren())),c.remove())}return t.base.call(this,e,r)},reduce:function t(e){for(var n=this._children,i=n.length-1;i>=0;i--){var path;(path=n[i].reduce(e)).isEmpty()&&path.remove()}return n.length?t.base.call(this):((path=new X(A.NO_INSERT)).copyAttributes(this),path.insertAbove(this),this.remove(),path)},isClosed:function(){for(var t=this._children,i=0,e=t.length;i<e;i++)if(!t[i]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],i=0,n=t.length;i<n;i++)f.push(e,t[i].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,area=0,i=0,e=t.length;i<e;i++)area+=t[i].getArea();return area},getLength:function(){for(var t=this._children,e=0,i=0,n=t.length;i<n;i++)e+=t[i].getLength();return e},getPathData:function(t,e){for(var n=this._children,r=[],i=0,o=n.length;i<o;i++){var c=n[i],l=c._matrix;r.push(c.getPathData(t&&!l.isIdentity()?t.appended(l):t,e))}return r.join("")},_hitTestChildren:function t(e,n,r){return t.base.call(this,e,n.class===X||"path"===n.type?n:f.set({},n,{fill:!1}),r)},_draw:function(t,param,e,n){var r=this._children;if(r.length){param=param.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var i=0,o=r.length;i<o;i++)r[i].draw(t,param,n);if(!param.clip){this._setStyles(t,param,e);var style=this._style;style.hasFill()&&(t.fill(style.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),style.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,n){for(var r=this._children,i=0,o=r.length;i<o;i++){var c=r[i],l=c._matrix;n[c._id]||c._drawSelected(t,l.isIdentity()?e:e.appended(l))}}},new function(){function t(t,e){var n=t._children;if(e&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return f.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],(function(e){this[e]=function(){var path=t(this,!0);path[e].apply(path,arguments)}}),{moveTo:function(){var e=t(this),path=e&&e.isEmpty()?e:new X(A.NO_INSERT);path!==e&&this.addChild(path),path.moveTo.apply(path,arguments)},moveBy:function(){var e=t(this,!0),n=e&&e.getLastSegment(),r=S.read(arguments);this.moveTo(n?r.add(n._point):r)},closePath:function(e){t(this,!0).closePath(e)}})},f.each(["reverse","flatten","simplify","smooth"],(function(t){this[t]=function(param){for(var e,n=this._children,i=0,r=n.length;i<r;i++)e=n[i][t](param)||e;return e}}),{}));Y.inject(new function(){var t=Math.min,e=Math.max,n=Math.abs,r={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function o(path){return path._children||[path]}function c(path,t){var e=path.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(t){for(var n=o(e),i=0,r=n.length;i<r;i++){(path=n[i])._closed||path.isEmpty()||(path.closePath(1e-12),path.getFirstSegment().setHandleIn(0,0),path.getLastSegment().setHandleOut(0,0))}e=e.resolveCrossings().reorient("nonzero"===e.getFillRule(),!0)}return e}function h(t,e,n,r,o){var c=new G(A.NO_INSERT);return c.addChildren(t,!0),c=c.reduce({simplify:e}),o&&0==o.insert||c.insertAbove(r&&n.isSibling(r)&&n.getIndex()<r.getIndex()?r:n),c.copyAttributes(n,!0),c}function d(t){return t.hasOverlap()||t.isCrossing()}function _(t,e,n,l){if(l&&(0==l.trace||l.stroke)&&/^(subtract|intersect)$/.test(n))return v(t,e,n);var _=c(t,!0),m=e&&t!==e&&c(e,!0),y=r[n];y[n]=!0,m&&(y.subtract||y.exclude)^m.isClockwise()^_.isClockwise()&&m.reverse();var w,k=S(Z.expand(_.getIntersections(m,d))),j=o(_),M=m&&o(m),z=[],T=[];function P(t){for(var i=0,e=t.length;i<e;i++){var path=t[i];f.push(z,path._segments),f.push(T,path.getCurves()),path._overlapsOnly=!0}}function A(t){for(var e=[],i=0,n=t&&t.length;i<n;i++)e.push(T[t[i]]);return e}if(k.length){P(j),M&&P(M);for(var L=new Array(T.length),i=0,B=T.length;i<B;i++)L[i]=T[i].getValues();var N=x.findCurveBoundsCollisions(L,L,0,!0),R={};for(i=0;i<T.length;i++){var E=T[i],D=E._path._id;(R[D]=R[D]||{})[E.getIndex()]={hor:A(N[i].hor),ver:A(N[i].ver)}}for(i=0,B=k.length;i<B;i++)O(k[i]._segment,_,m,R,y);for(i=0,B=z.length;i<B;i++){var $=z[i],F=$._intersection;$._winding||O($,_,m,R,y),F&&F._overlap||($._path._overlapsOnly=!1)}w=I(z,y)}else w=C(M?j.concat(M):j.slice(),(function(t){return!!y[t]}));return h(w,!0,t,e,l)}function v(t,e,n){var r=c(t),o=c(e),l=r.getIntersections(o,d),f="subtract"===n,_="divide"===n,v={},m=[];function x(path){if(!v[path._id]&&(_||o.contains(path.getPointAt(path.getLength()/2))^f))return m.unshift(path),v[path._id]=!0}for(var i=l.length-1;i>=0;i--){var path=l[i].split();path&&(x(path)&&path.getFirstSegment().setHandleIn(0,0),r.getLastSegment().setHandleOut(0,0))}return x(r),h(m,!1,t,e)}function m(t,e){for(var n=t;n;){if(n===e)return;n=n._previous}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._previous;)e=e._previous;t._next=e,e._previous=t}}function y(t){for(var i=t.length-1;i>=0;i--)t[i].clearHandles()}function C(t,e,r){var o=t&&t.length;if(o){var c=f.each(t,(function(path,i){this[path._id]={container:null,winding:path.isClockwise()?1:-1,index:i}}),{}),l=t.slice().sort((function(a,b){return n(b.getArea())-n(a.getArea())})),h=l[0],d=x.findItemBoundsCollisions(l,null,w.GEOMETRIC_EPSILON);null==r&&(r=h.isClockwise());for(var i=0;i<o;i++){var _=l[i],v=c[_._id],m=0,y=d[i];if(y)for(var C=null,S=y.length-1;S>=0;S--)if(y[S]<i){C=C||_.getInteriorPoint();var k=l[y[S]];if(k.contains(C)){var O=c[k._id];m=O.winding,v.winding+=m,v.container=O.exclude?O.container:k;break}}if(e(v.winding)===e(m))v.exclude=!0,t[v.index]=null;else{var I=v.container;_.setClockwise(I?!I.isClockwise():r)}}}return t}function S(t,e,n){var r,o,c,l=e&&[],h=1e-8,d=!1,f=n||[],_=n&&{};function v(t){return t._path._id+"."+t._segment1._index}for(var i=(n&&n.length)-1;i>=0;i--){(x=n[i])._path&&(_[v(x)]=!0)}for(i=t.length-1;i>=0;i--){var x,w,C=t[i],time=C._time,S=time,k=e&&!e(C);if((x=C._curve)&&(x!==o?(d=!x.hasHandles()||_&&_[v(x)],r=[],c=null,o=x):c>=h&&(time/=c)),k)r&&r.push(C);else{if(e&&l.unshift(C),c=S,time<h)w=x._segment1;else if(time>.99999999)w=x._segment2;else{var O=x.divideAtTime(time,!0);d&&f.push(x,O),w=O._segment1;for(var I=r.length-1;I>=0;I--){var j=r[I];j._time=(j._time-time)/(1-time)}}C._setSegment(w);var M=w._intersection,z=C._intersection;if(M){m(M,z);for(var T=M;T;)m(T._intersection,M),T=T._next}else w._intersection=z}}return n||y(f),l||t}function k(r,o,c,l,h){var d,f,_=Array.isArray(o)?o:o[c?"hor":"ver"],v=c?1:0,m=1^v,x=[r.x,r.y],y=x[v],w=x[m],C=1e-6,S=y-1e-9,O=y+1e-9,I=0,j=0,M=0,z=0,T=!1,P=!1,A=1,L=[];function B(n){var f=n[m+0],_=n[m+6];if(!(w<t(f,_)||w>e(f,_))){var x=n[v+0],I=n[v+2],j=n[v+4],P=n[v+6];if(f!==_){var B=w===f?0:w===_||S>e(x,I,j,P)||O<t(x,I,j,P)?1:H.solveCubic(n,m,w,L,0,1)>0?L[0]:1,a=0===B?x:1===B?P:H.getPoint(n,B)[c?"y":"x"],N=f>_?1:-1,R=d[m]>d[m+6]?1:-1,E=d[v+6];return w!==f?(a<S?M+=N:a>O?z+=N:T=!0,a>y-C&&a<y+C&&(A/=2)):(N!==R?x<S?M+=N:x>O&&(z+=N):x!=E&&(E<O&&a>O?(z+=N,T=!0):E>S&&a<S&&(M+=N,T=!0)),A/=4),d=n,!h&&a>S&&a<O&&0===H.getTangent(n,B)[c?"x":"y"]&&k(r,o,!c,l,!0)}(x<O&&P>S||P<O&&x>S)&&(T=!0)}}function N(n){var r=n[m+0],o=n[m+2],l=n[m+4],h=n[m+6];if(w<=e(r,o,l,h)&&w>=t(r,o,l,h))for(var d,f=n[v+0],_=n[v+2],x=n[v+4],y=n[v+6],C=S>e(f,_,x,y)||O<t(f,_,x,y)?[n]:H.getMonoCurves(n,c),i=0,k=C.length;i<k;i++)if(d=B(C[i]))return d}for(var i=0,R=_.length;i<R;i++){var E,D=_[i],path=D._path,$=D.getValues();if(!(i&&_[i-1]._path===path||(d=null,path._closed||(f=H.getValues(path.getLastCurve().getSegment2(),D.getSegment1(),null,!l))[m]!==f[m+6]&&(d=f),d))){d=$;for(var F=path.getLastCurve();F&&F!==D;){var V=F.getValues();if(V[m]!==V[m+6]){d=V;break}F=F.getPrevious()}}if(E=N($))return E;if(i+1===R||_[i+1]._path!==path){if(f&&(E=N(f)))return E;!T||M||z||(M=z=path.isClockwise(l)^c?1:-1),I+=M,j+=z,M=z=0,T&&(P=!0,T=!1),f=null}}return I=n(I),j=n(j),{winding:e(I,j),windingL:I,windingR:j,quality:A,onPath:P}}function O(t,e,r,o,c){var l=[],h=t,d=0;do{if(S=t.getCurve()){var f=S.getLength();l.push({segment:t,curve:S,length:f}),d+=f}t=t.getNext()}while(t&&!t._intersection&&t!==h);for(var _=[.5,.25,.75],v={winding:0,quality:-1},i=0;i<_.length&&v.quality<.5;i++){f=d*_[i];for(var m=0,x=l.length;m<x;m++){var y=l[m],C=y.length;if(f<=C){var S,path=(S=y.curve)._path,O=path._parent,I=O instanceof G?O:path,j=w.clamp(S.getTimeAt(f),.001,.999),M=S.getPointAtTime(j),z=n(S.getTangentAtTime(j).y)<Math.SQRT1_2,T=null;if(c.subtract&&r){var P=(I===e?r:e)._getWinding(M,z,!0);if(I===e&&P.winding||I===r&&!P.winding){if(P.quality<1)continue;T={winding:0,quality:1}}}(T=T||k(M,o[path._id][S.getIndex()],z,!0)).quality>v.quality&&(v=T);break}f-=C}}for(m=l.length-1;m>=0;m--)l[m].segment._winding=v}function I(t,e){var n,r=[];function o(t){var n;return!(!t||t._visited||e&&(!e[(n=t._winding||{}).winding]||e.unite&&2===n.winding&&n.windingL&&n.windingR))}function c(t){if(t)for(var i=0,e=n.length;i<e;i++)if(t===n[i])return!0;return!1}function l(path){for(var t=path._segments,i=0,e=t.length;i<e;i++)t[i]._visited=!0}function h(t,e){var r=t._intersection,l=r,h=[];function d(r,l){for(;r&&r!==l;){var d=r._segment,path=d&&d._path;if(path){var f=d.getNext()||path.getFirstSegment(),_=f._intersection;d!==t&&(c(d)||c(f)||f&&o(d)&&(o(f)||_&&o(_._segment)))&&h.push(d),e&&n.push(d)}r=r._next}}if(e&&(n=[t]),r){for(d(r);r&&r._previous;)r=r._previous;d(r,l)}return h}t.sort((function(t,e){var n=t._intersection,r=e._intersection,o=!(!n||!n._overlap),c=!(!r||!r._overlap),l=t._path,h=e._path;return o^c?o?1:-1:!n^!r?n?1:-1:l!==h?l._id-h._id:t._index-e._index}));for(var i=0,d=t.length;i<d;i++){var f,_,v,m=t[i],x=o(m),path=null,y=!1,w=!0,C=[];if(x&&m._path._overlapsOnly){var S=m._path,k=m._intersection._segment._path;S.compare(k)&&(S.getArea()&&r.push(S.clone(!1)),l(S),l(k),x=!1)}for(;x;){var O=!path,I=h(m,O),j=I.shift(),M=!(y=!O&&(c(m)||c(j)))&&j;if(O&&(path=new X(A.NO_INSERT),f=null),y){(m.isFirst()||m.isLast())&&(w=m._path._closed),m._visited=!0;break}if(M&&f&&(C.push(f),f=null),f||(M&&I.push(m),f={start:path._segments.length,crossings:I,visited:_=[],handleIn:v}),M&&(m=j),!o(m)){path.removeSegments(f.start);for(var z=0,T=_.length;z<T;z++)_[z]._visited=!1;_.length=0;do{(m=f&&f.crossings.shift())&&m._path||(m=null,(f=C.pop())&&(_=f.visited,v=f.handleIn))}while(f&&!o(m));if(!m)break}var P=m.getNext();path.add(new F(m._point,v,P&&m._handleOut)),m._visited=!0,_.push(m),m=P||m._path.getFirstSegment(),v=P&&P._handleIn}y&&(w&&(path.getFirstSegment().setHandleIn(v),path.setClosed(w)),0!==path.getArea()&&r.push(path))}return r}return{_getWinding:function(t,e,n){return k(t,this.getCurves(),e,n)},unite:function(path,t){return _(this,path,"unite",t)},intersect:function(path,t){return _(this,path,"intersect",t)},subtract:function(path,t){return _(this,path,"subtract",t)},exclude:function(path,t){return _(this,path,"exclude",t)},divide:function(path,t){return t&&(0==t.trace||t.stroke)?v(this,path,"divide"):h([this.subtract(path,t),this.intersect(path,t)],!0,this,path,t)},resolveCrossings:function(){var t=this._children,e=t||[this];function n(t,path){var e=t&&t._intersection;return e&&e._overlap&&e._path===path}var r=!1,o=!1,c=this.getIntersections(null,(function(t){return t.hasOverlap()&&(r=!0)||t.isCrossing()&&(o=!0)})),l=r&&o&&[];if(c=Z.expand(c),r)for(var h=S(c,(function(t){return t.hasOverlap()}),l),i=h.length-1;i>=0;i--){var d=h[i],path=d._path,_=d._segment,v=_.getPrevious(),m=_.getNext();n(v,path)&&n(m,path)&&(_.remove(),v._handleOut._set(0,0),m._handleIn._set(0,0),v===_||v.getCurve().hasLength()||(m._handleIn.set(v._handleIn),v.remove()))}o&&(S(c,r&&function(t){var e=t.getCurve(),n=t.getSegment(),r=t._intersection,o=r._curve,c=r._segment;if(e&&o&&e._path&&o._path)return!0;n&&(n._intersection=null),c&&(c._intersection=null)},l),l&&y(l),e=I(f.each(e,(function(path){f.push(this,path._segments)}),[])));var x,w=e.length;return w>1&&t?(e!==t&&this.setChildren(e),x=this):1!==w||t||(e[0]!==this&&this.setSegments(e[0].removeSegments()),x=this),x||((x=new G(A.NO_INSERT)).addChildren(e),(x=x.reduce()).copyAttributes(this),this.replaceWith(x)),x},reorient:function(t,e){var n=this._children;return n&&n.length?this.setChildren(C(this.removeChildren(),(function(e){return!!(t?e:1&e)}),e)):e!==l&&this.setClockwise(e),this},getInteriorPoint:function(){var n=this.getBounds().getCenter(!0);if(!this.contains(n)){for(var r=this.getCurves(),o=n.y,c=[],l=[],i=0,h=r.length;i<h;i++){var d=r[i].getValues(),f=d[1],_=d[3],v=d[5],m=d[7];if(o>=t(f,_,v,m)&&o<=e(f,_,v,m))for(var x=H.getMonoCurves(d),y=0,w=x.length;y<w;y++){var C=x[y],S=C[1],k=C[7];if(S!==k&&(o>=S&&o<=k||o>=k&&o<=S)){var O=o===S?C[0]:o===k?C[6]:1===H.solveCubic(C,1,o,l,0,1)?H.getPoint(C,l[0]).x:(C[0]+C[6])/2;c.push(O)}}}c.length>1&&(c.sort((function(a,b){return a-b})),n.x=(c[0]+c[1])/2)}return n}}});var U=f.extend({_class:"PathFlattener",initialize:function(path,t,e,n,r){var o,c=[],l=[],h=0,d=1/(e||32),f=path._segments,_=f[0];function v(t,e){var n=H.getValues(t,e,r);c.push(n),m(n,t._index,0,1)}function m(e,r,o,c){if(!(c-o>d)||n&&H.isStraight(e)||H.isFlatEnough(e,t||.25)){var f=e[6]-e[0],_=e[7]-e[1],v=Math.sqrt(f*f+_*_);v>0&&(h+=v,l.push({offset:h,curve:e,index:r,time:c}))}else{var x=H.subdivide(e,.5),y=(o+c)/2;m(x[0],r,o,y),m(x[1],r,y,c)}}for(var i=1,x=f.length;i<x;i++)v(_,o=f[i]),_=o;path._closed&&v(o||_,f[0]),this.curves=c,this.parts=l,this.length=h,this.index=0},_get:function(t){for(var i,e=this.parts,n=e.length,r=this.index;i=r,r&&!(e[--r].offset<t););for(;i<n;i++){var o=e[i];if(o.offset>=t){this.index=i;var c=e[i-1],l=c&&c.index===o.index?c.time:0,h=c?c.offset:0;return{index:o.index,time:l+(o.time-l)*(t-h)/(o.offset-h)}}}return{index:e[n-1].index,time:1}},drawPart:function(t,e,n){for(var r=this._get(e),o=this._get(n),i=r.index,c=o.index;i<=c;i++){var l=H.getPart(this.curves[i],i===r.index?r.time:0,i===o.index?o.time:1);i===r.index&&t.moveTo(l[0],l[1]),t.bezierCurveTo.apply(t,l.slice(2))}}},f.each(H._evaluateMethods,(function(t){this[t+"At"]=function(e){var param=this._get(e);return H[t](this.curves[param.index],param.time)}}),{})),W=f.extend({initialize:function(path){for(var t,e=this.points=[],n=path._segments,r=path._closed,i=0,o=n.length;i<o;i++){var c=n[i].point;t&&t.equals(c)||e.push(t=c.clone())}r&&(e.unshift(e[e.length-1]),e.push(e[1])),this.closed=r},fit:function(t){var e=this.points,n=e.length,r=null;return n>0&&(r=[new F(e[0])],n>1&&(this.fitCubic(r,t,0,n-1,e[1].subtract(e[0]),e[n-2].subtract(e[n-1])),this.closed&&(r.shift(),r.pop()))),r},fitCubic:function(t,e,n,r,o,c){var l=this.points;if(r-n!=1){for(var h,d=this.chordLengthParameterize(n,r),f=Math.max(e,e*e),_=!0,i=0;i<=4;i++){var v=this.generateBezier(n,r,d,o,c),m=this.findMaxError(n,r,v,d);if(m.error<e&&_)return void this.addCurve(t,v);if(h=m.index,m.error>=f)break;_=this.reparameterize(n,r,d,v),f=m.error}var x=l[h-1].subtract(l[h+1]);this.fitCubic(t,e,n,h,o,x),this.fitCubic(t,e,h,r,x.negate(),c)}else{var y=l[n],w=l[r],C=y.getDistance(w)/3;this.addCurve(t,[y,y.add(o.normalize(C)),w.add(c.normalize(C)),w])}},addCurve:function(t,e){t[t.length-1].setHandleOut(e[1].subtract(e[0])),t.push(new F(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,n,r,o){for(var c=1e-12,l=Math.abs,h=this.points,d=h[t],f=h[e],_=[[0,0],[0,0]],v=[0,0],i=0,m=e-t+1;i<m;i++){var u=n[i],x=1-u,b=3*u*x,y=x*x*x,w=b*x,C=b*u,S=u*u*u,k=r.normalize(w),O=o.normalize(C),I=h[t+i].subtract(d.multiply(y+w)).subtract(f.multiply(C+S));_[0][0]+=k.dot(k),_[0][1]+=k.dot(O),_[1][0]=_[0][1],_[1][1]+=O.dot(O),v[0]+=k.dot(I),v[1]+=O.dot(I)}var j,M,z=_[0][0]*_[1][1]-_[1][0]*_[0][1];if(l(z)>c){var T=_[0][0]*v[1]-_[1][0]*v[0];j=(v[0]*_[1][1]-v[1]*_[0][1])/z,M=T/z}else{var P=_[0][0]+_[0][1],A=_[1][0]+_[1][1];j=M=l(P)>c?v[0]/P:l(A)>c?v[1]/A:0}var L,B,N=f.getDistance(d),R=c*N;if(j<R||M<R)j=M=N/3;else{var line=f.subtract(d);L=r.normalize(j),B=o.normalize(M),L.dot(line)-B.dot(line)>N*N&&(j=M=N/3,L=B=null)}return[d,d.add(L||r.normalize(j)),f.add(B||o.normalize(M)),f]},reparameterize:function(t,e,u,n){for(var i=t;i<=e;i++)u[i-t]=this.findRoot(n,this.points[i],u[i-t]);i=1;for(var r=u.length;i<r;i++)if(u[i]<=u[i-1])return!1;return!0},findRoot:function(t,e,u){for(var n=[],r=[],i=0;i<=2;i++)n[i]=t[i+1].subtract(t[i]).multiply(3);for(i=0;i<=1;i++)r[i]=n[i+1].subtract(n[i]).multiply(2);var o=this.evaluate(3,t,u),c=this.evaluate(2,n,u),l=this.evaluate(1,r,u),h=o.subtract(e),d=c.dot(c)+h.dot(l);return w.isMachineZero(d)?u:u-h.dot(c)/d},evaluate:function(t,e,n){for(var r=e.slice(),i=1;i<=t;i++)for(var o=0;o<=t-i;o++)r[o]=r[o].multiply(1-n).add(r[o+1].multiply(n));return r[0]},chordLengthParameterize:function(t,e){for(var u=[0],i=t+1;i<=e;i++)u[i-t]=u[i-t-1]+this.points[i].getDistance(this.points[i-1]);i=1;for(var n=e-t;i<=n;i++)u[i]/=u[n];return u},findMaxError:function(t,e,n,u){for(var r=Math.floor((e-t+1)/2),o=0,i=t+1;i<e;i++){var c=this.evaluate(3,n,u[i-t]).subtract(this.points[i]),l=c.x*c.x+c.y*c.y;l>=o&&(o=l,r=i)}return{error:o,index:r}}}),J=A.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var e=t&&f.isPlainObject(t)&&t.x===l&&t.y===l;this._initialize(e&&t,!e&&S.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(source){this.setContent(source._content)},getContent:function(){return this._content},setContent:function(content){this._content=""+content,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),K=J.extend({_class:"PointText",initialize:function(){J.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new k(t.x,t.y,this,"setPoint")},setPoint:function(){var t=S.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,param,e){if(this._content){this._setStyles(t,param,e);var n=this._lines,style=this._style,r=style.hasFill(),o=style.hasStroke(),c=style.getLeading(),l=t.shadowColor;t.font=style.getFontStyle(),t.textAlign=style.getJustification();for(var i=0,h=n.length;i<h;i++){t.shadowColor=l;var line=n[i];r&&(t.fillText(line,0,0),t.shadowColor="rgba(0,0,0,0)"),o&&t.strokeText(line,0,0),t.translate(0,c)}}},_getBounds:function(t,e){var style=this._style,n=this._lines,r=n.length,o=style.getJustification(),c=style.getLeading(),l=this.getView().getTextWidth(style.getFontStyle(),n),h=0;"left"!==o&&(h-=l/("center"===o?2:1));var rect=new j(h,r?-.75*c:0,l,r*c);return t?t._transformBounds(rect,rect):rect}}),Q=f.extend(new function(){var t,e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},n={},r={transparent:[0,0,0,0]};function o(e){var n,o=e.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||e.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),c="rgb";if(o){var l=o[4]?4:3;n=new Array(l);for(var i=0;i<l;i++){var d=o[i+1];n[i]=parseInt(1==d.length?d+d:d,16)/255}}else if(o=e.match(/^(rgb|hsl)a?\((.*)\)$/)){c=o[1],n=o[2].trim().split(/[,\s]+/g);for(var f="hsl"===c,_=(i=0,Math.min(n.length,4));i<_;i++){var component=n[i];d=parseFloat(component);if(f)if(0===i){var v=component.match(/([a-z]*)$/)[1];d*={turn:360,rad:180/Math.PI,grad:.9}[v]||1}else i<3&&(d/=100);else i<3&&(d/=/%$/.test(component)?100:255);n[i]=d}}else{var m=r[e];if(!m)if(h){t||((t=pt.getContext(1,1)).globalCompositeOperation="copy"),t.fillStyle="rgba(0,0,0,0)",t.fillStyle=e,t.fillRect(0,0,1,1);var data=t.getImageData(0,0,1,1).data;m=r[e]=[data[0]/255,data[1]/255,data[2]/255]}else m=[0,0,0];n=m.slice()}return[c,n]}var c=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],l={"rgb-hsb":function(t,g,b){var e=Math.max(t,g,b),n=e-Math.min(t,g,b);return[0===n?0:60*(e==t?(g-b)/n+(g<b?6:0):e==g?(b-t)/n+2:(t-g)/n+4),0===e?0:n/e,e]},"hsb-rgb":function(t,s,b){var i,e=(t=(t/60%6+6)%6)-(i=Math.floor(t)),n=[b,b*(1-s),b*(1-s*e),b*(1-s*(1-e))];return[n[(i=c[i])[0]],n[i[1]],n[i[2]]]},"rgb-hsl":function(t,g,b){var e=Math.max(t,g,b),n=Math.min(t,g,b),r=e-n,o=0===r,c=(e+n)/2;return[o?0:60*(e==t?(g-b)/r+(g<b?6:0):e==g?(b-t)/r+2:(t-g)/r+4),o?0:c<.5?r/(e+n):r/(2-e-n),c]},"hsl-rgb":function(t,s,e){if(0===s)return[e,e,e];for(var n=[(t=(t/360%1+1)%1)+1/3,t,t-1/3],r=e<.5?e*(1+s):e+s-e*s,o=2*e-r,c=[],i=0;i<3;i++){var l=n[i];l<0&&(l+=1),l>1&&(l-=1),c[i]=6*l<1?o+6*(r-o)*l:2*l<1?r:3*l<2?o+(r-o)*(2/3-l)*6:o}return c},"rgb-gray":function(t,g,b){return[.2989*t+.587*g+.114*b]},"gray-rgb":function(g){return[g,g,g]},"gray-hsb":function(g){return[0,0,g]},"gray-hsl":function(g){return[0,0,g]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return f.each(e,(function(t,r){n[r]=[],f.each(t,(function(t,o){var c=f.capitalize(t),l=/^(hue|saturation)$/.test(t),h=n[r][o]="gradient"===r?"gradient"===t?function(t){var e=this._components[0];return e!==(t=tt.read(Array.isArray(t)?t:arguments,0,{readNull:!0}))&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:function(){return S.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:+t};this["get"+c]=function(){return this._type===r||l&&/^hs[bl]$/.test(this._type)?this._components[o]:this._convert(r)[o]},this["set"+c]=function(t){this._type===r||l&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(r),this._properties=e[r],this._type=r),this._components[o]=h.call(this,t),this._changed()}}),this)}),{_class:"Color",_readIndex:!0,initialize:function t(r){var c,l,h,d,_=arguments,v=this.__read,m=0;Array.isArray(r)&&(r=(_=r)[0]);var x=null!=r&&typeof r;if("string"===x&&r in e&&(c=r,r=_[1],Array.isArray(r)?(l=r,h=_[2]):(v&&(m=1),_=f.slice(_,1),x=typeof r)),!l){if(d="number"===x?_:"object"===x&&null!=r.length?r:null){c||(c=d.length>=3?"rgb":"gray");var y=e[c].length;h=d[y],v&&(m+=d===arguments?y+(null!=h?1:0):1),d.length>y&&(d=f.slice(d,0,y))}else if("string"===x){var w=o(r);c=w[0],4===(l=w[1]).length&&(h=l[3],l.length--)}else if("object"===x)if(r.constructor===t){if(c=r._type,l=r._components.slice(),h=r._alpha,"gradient"===c)for(var i=1,C=l.length;i<C;i++){var S=l[i];S&&(l[i]=S.clone())}}else if(r.constructor===tt)c="gradient",d=_;else{var k=e[c="hue"in r?"lightness"in r?"hsl":"hsb":"gradient"in r||"stops"in r||"radial"in r?"gradient":"gray"in r?"gray":"rgb"],O=n[c];this._components=l=[];for(i=0,C=k.length;i<C;i++){null==(I=r[k[i]])&&!i&&"gradient"===c&&"stops"in r&&(I={stops:r.stops,radial:r.radial}),null!=(I=O[i].call(this,I))&&(l[i]=I)}h=r.alpha}v&&c&&(m=1)}if(this._type=c||"rgb",!l){this._components=l=[];for(i=0,C=(O=n[this._type]).length;i<C;i++){var I;null!=(I=O[i].call(this,d&&d[i]))&&(l[i]=I)}}return this._components=l,this._properties=e[this._type],this._alpha=h,v&&(this.__read=m),this},set:"#initialize",_serialize:function(t,e){var n=this.getComponents();return f.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),t,!0,e)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(t){var e;return this._type===t?this._components.slice():(e=l[this._type+"-"+t])?e.apply(this,this._components):l["rgb-"+t].apply(this,l[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new Q(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=e[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var col=f.isPlainValue(t,!0)?Q.read(arguments):t;return col===this||col&&this._class===col._class&&this._type===col._type&&this.getAlpha()===col.getAlpha()&&f.equals(this._components,col._components)||!1},toString:function(){for(var t=this._properties,e=[],n="gradient"===this._type,r=y.instance,i=0,o=t.length;i<o;i++){var c=this._components[i];null!=c&&e.push(t[i]+": "+(n?c:r.number(c)))}return null!=this._alpha&&e.push("alpha: "+r.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){var e=this._convert("rgb"),n=t||null==this._alpha?1:this._alpha;function r(t){return Math.round(255*(t<0?0:t>1?1:t))}return e=[r(e[0]),r(e[1]),r(e[2])],n<1&&e.push(n<0?0:n),t?"#"+((1<<24)+(e[0]<<16)+(e[1]<<8)+e[2]).toString(16).slice(1):(4==e.length?"rgba(":"rgb(")+e.join(",")+")"},toCanvasStyle:function(t,e){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var n,r=this._components,o=r[0],c=o._stops,l=r[1],h=r[2],d=r[3],f=e&&e.inverted();if(f&&(l=f._transformPoint(l),h=f._transformPoint(h),d&&(d=f._transformPoint(d))),o._radial){var _=h.getDistance(l);if(d){var v=d.subtract(l);v.getLength()>_&&(d=l.add(v.normalize(_-.1)))}var m=d||l;n=t.createRadialGradient(m.x,m.y,0,l.x,l.y,_)}else n=t.createLinearGradient(l.x,l.y,h.x,h.y);for(var i=0,x=c.length;i<x;i++){var y=c[i],w=y._offset;n.addColorStop(null==w?i/(x-1):w,y._color.toCanvasStyle())}return this._canvasStyle=n},transform:function(t){if("gradient"===this._type){for(var e=this._components,i=1,n=e.length;i<n;i++){var r=e[i];t._transformPoint(r,r,!0)}this._changed()}},statics:{_types:e,random:function(){var t=Math.random;return new Q(t(),t(),t())},_setOwner:function(t,e,n){return t&&(t._owner&&e&&t._owner!==e&&(t=t.clone()),!t._owner^!e&&(t._owner=e||null,t._setter=n||null)),t}}})},new function(){return f.each({add:function(a,b){return a+b},subtract:function(a,b){return a-b},multiply:function(a,b){return a*b},divide:function(a,b){return a/b}},(function(t,e){this[e]=function(e){e=Q.read(arguments);for(var n=this._type,r=this._components,o=e._convert(n),i=0,c=r.length;i<c;i++)o[i]=t(r[i],o[i]);return new Q(n,o,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}}),{})}),tt=f.extend({_class:"Gradient",initialize:function(t,e){this._id=C.get(),t&&f.isPlainObject(t)&&(this.set(t),t=e=null),null==this._stops&&this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1)},_serialize:function(t,e){return e.add(this,(function(){return f.serialize([this._stops,this._radial],t,!0,e)}))},_changed:function(){for(var i=0,t=this._owners&&this._owners.length;i<t;i++)this._owners[i]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;-1!=e&&(this._owners.splice(e,1),this._owners.length||(this._owners=l))},clone:function(){for(var t=[],i=0,e=this._stops.length;i<e;i++)t[i]=this._stops[i].clone();return new tt(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var i=0,n=e.length;i<n;i++)e[i]._owner=l;for(i=0,n=(e=this._stops=et.readList(t,0,{clone:!0})).length;i<n;i++)e[i]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,n=t._stops,r=e.length;if(r===n.length){for(var i=0;i<r;i++)if(!e[i].equals(n[i]))return!1;return!0}}return!1}}),et=f.extend({_class:"GradientStop",initialize:function(t,e){var n=t,r=e;"object"==typeof t&&e===l&&(Array.isArray(t)&&"number"!=typeof t[0]?(n=t[0],r=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(n=t.color,r=t.offset||t.rampPoint||0)),this.setColor(n),this.setOffset(r)},clone:function(){return new et(this._color.clone(),this._offset)},_serialize:function(t,e){var n=this._color,r=this._offset;return f.serialize(null==r?[n]:[n,r],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Q._setOwner(this._color,null),this._color=Q._setOwner(Q.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),nt=f.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new S,selectedColor:null},e=f.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=f.set({},e,{fillColor:new Q}),r={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},o={beans:!0},c={_class:"Style",beans:!0,initialize:function(style,r,o){this._values={},this._owner=r,this._project=r&&r._project||o||xt.project,this._defaults=!r||r instanceof L?e:r instanceof J?n:t,style&&this.set(style)}};return f.each(e,(function(t,e){var n=/Color$/.test(e),h="shadowOffset"===e,d=f.capitalize(e),_=r[e],v="set"+d,m="get"+d;c[v]=function(t){var r=this._owner,o=r&&r._children,c=o&&o.length>0&&!(r instanceof G);if(c)for(var i=0,l=o.length;i<l;i++)o[i]._style[v](t);if(("selectedColor"===e||!c)&&e in this._defaults){var h=this._values[e];h!==t&&(n&&(h&&(Q._setOwner(h,null),h._canvasStyle=null),t&&t.constructor===Q&&(t=Q._setOwner(t,r,c&&v))),this._values[e]=t,r&&r._changed(_||129))}},c[m]=function(t){var r=this._owner,o=r&&r._children,c=o&&o.length>0&&!(r instanceof G);if(c&&!t)for(var i=0,d=o.length;i<d;i++){var _=o[i]._style[m]();if(i){if(!f.equals(x,_))return l}else x=_}else if(e in this._defaults){var x;if((x=this._values[e])===l)(x=this._defaults[e])&&x.clone&&(x=x.clone());else{var y=n?Q:h?S:null;!y||x&&x.constructor===y||(this._values[e]=x=y.read([x],0,{readNull:!0,clone:!0}))}}return x&&n&&(x=Q._setOwner(x,r,c&&v)),x},o[m]=function(t){return this._style[m](t)},o[v]=function(t){this._style[v](t)}})),f.each({Font:"FontFamily",WindingRule:"FillRule"},(function(t,e){var n="get"+e,r="set"+e;c[n]=o[n]="#get"+t,c[r]=o[r]="#set"+t})),A.inject(o),c},{set:function(style){var t=style instanceof nt,e=t?style._values:style;if(e)for(var n in e)if(n in this._defaults){var r=e[n];this[n]=r&&t&&r.clone?r.clone():r}},equals:function(style){function t(t,e,n){var r=t._values,o=e._values,c=e._defaults;for(var h in r){var d=r[h],_=o[h];if(!(n&&h in o||f.equals(d,_===l?c[h]:_)))return!1}return!0}return style===this||style&&this._class===style._class&&t(this,style)&&t(style,this,!0)||!1},_dispose:function(){var t;(t=this.getFillColor())&&(t._canvasStyle=null),(t=this.getStrokeColor())&&(t._canvasStyle=null),(t=this.getShadowColor())&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),null!=e?e:1.2*n}}),it=new function(){function t(t,e,n,r){for(var o=["","webkit","moz","Moz","ms","o"],c=e[0].toUpperCase()+e.substring(1),i=0;i<6;i++){var l=o[i],h=l?l+c:e;if(h in t){if(!n)return t[h];t[h]=r;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,view=e&&e.defaultView;return view&&view.getComputedStyle(t,"")},getBounds:function(t,e){var rect,n=t.ownerDocument,body=n.body,html=n.documentElement;try{rect=t.getBoundingClientRect()}catch(t){rect={left:0,top:0,width:0,height:0}}var r=rect.left-(html.clientLeft||body.clientLeft||0),o=rect.top-(html.clientTop||body.clientTop||0);if(!e){var view=n.defaultView;r+=view.pageXOffset||html.scrollLeft||body.scrollLeft,o+=view.pageYOffset||html.scrollTop||body.scrollTop}return new j(r,o,rect.width,rect.height)},getViewportBounds:function(t){var e=t.ownerDocument,view=e.defaultView,html=e.documentElement;return new j(0,0,view.innerWidth||html.clientWidth,view.innerHeight||html.clientHeight)},getOffset:function(t,e){return it.getBounds(t,e).getPoint()},getSize:function(t){return it.getBounds(t,!0).getSize()},isInvisible:function(t){return it.getSize(t).equals(new O(0,0))},isInView:function(t){return!it.isInvisible(t)&&it.getViewportBounds(t).intersects(it.getBounds(t,!0))},isInserted:function(t){return d.body.contains(t)},getPrefixed:function(e,n){return e&&t(e,n)},setPrefixed:function(e,n,r){if("object"==typeof n)for(var o in n)t(e,o,!0,n[o]);else t(e,n,!0,r)}}},st={add:function(t,e){if(t)for(var n in e)for(var r=e[n],o=n.split(/[\s,]+/g),i=0,c=o.length;i<c;i++){var l=o[i],h=t===d&&("touchstart"===l||"touchmove"===l)&&{passive:!1};t.addEventListener(l,r,h)}},remove:function(t,e){if(t)for(var n in e)for(var r=e[n],o=n.split(/[\s,]+/g),i=0,c=o.length;i<c;i++)t.removeEventListener(o[i],r,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new S(e.pageX||e.clientX+d.documentElement.scrollLeft,e.pageY||e.clientY+d.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return st.getPoint(t).subtract(it.getOffset(e||st.getTarget(t)))}};st.requestAnimationFrame=new function(){var t,e=it.getPrefixed(h,"requestAnimationFrame"),n=!1,r=[];function o(){var t=r;r=[];for(var i=0,c=t.length;i<c;i++)t[i]();(n=e&&r.length)&&e(o)}return function(c){r.push(c),e?n||(e(o),n=!0):t||(t=setInterval(o,1e3/60))}};var ot=f.extend(_,{_class:"View",initialize:function t(e,element){function n(t){return element[t]||parseInt(element.getAttribute(t),10)}function r(){var t=it.getSize(element);return t.isNaN()||t.isZero()?new O(n("width"),n("height")):t}var o;if(h&&element){this._id=element.getAttribute("id"),null==this._id&&element.setAttribute("id",this._id="paper-view-"+t._id++),st.add(element,this._viewEvents);var c="none";if(it.setPrefixed(element.style,{userDrag:c,userSelect:c,touchCallout:c,contentZooming:c,tapHighlightColor:"rgba(0,0,0,0)"}),v.hasAttribute(element,"resize")){var l=this;st.add(h,this._windowEvents={resize:function(){l.setViewSize(r())}})}if(o=r(),v.hasAttribute(element,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var f=this._stats.domElement,style=f.style,_=it.getOffset(element);style.position="absolute",style.left=_.x+"px",style.top=_.y+"px",d.body.appendChild(f)}}else o=new O(element),element=null;this._project=e,this._scope=e._scope,this._element=element,this._pixelRatio||(this._pixelRatio=h&&h.devicePixelRatio||1),this._setElementSize(o.width,o.height),this._viewSize=o,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new z)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!xt.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;ot._focused===this&&(ot._focused=null),ot._views.splice(ot._views.indexOf(this),1),delete ot._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),st.remove(this._element,this._viewEvents),st.remove(h,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:f.each(A._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),(function(t){this[t]={}}),{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;st.requestAnimationFrame((function(){if(t._requested=!1,t._animate){t.requestUpdate();var element=t._element;it.getPrefixed(d,"hidden")&&"true"!==v.getAttribute(element,"keepalive")||!it.isInView(element)||t._handleFrame()}t._autoUpdate&&t.update()})),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){xt=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new f({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,animate){var e=this._frameItems;animate?(e[t._id]={item:t,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete e[t._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var i in this._frameItems){var e=this._frameItems[i];e.item.emit("frame",new f(t,{time:e.time+=t.delta,count:e.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=l},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new I(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=O.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var element=this._element;element&&(element.width!==t&&(element.width=t),element.height!==e&&(element.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new j(new S,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return it.isInView(this._element)},isInserted:function(){return it.isInserted(this._element)},getPixelSize:function(t){var e,element=this._element;if(element){var n=element.parentNode,r=d.createElement("div");r.style.fontSize=t,n.appendChild(r),e=parseFloat(it.getStyles(r).fontSize),n.removeChild(r)}else e=parseFloat(e);return e},getTextWidth:function(t,e){return 0}},f.each(["rotate","scale","shear","skew"],(function(t){var e="rotate"===t;this[t]=function(){var n=arguments,r=(e?f:S).read(n),o=S.read(n,0,{readNull:!0});return this.transform((new z)[t](r,o||this.getCenter(!0)))}}),{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new z;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=S.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform((new z).scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(){var t=this._decompose().scaling;return new k(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=S.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(S.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(S.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(S.read(arguments))},getEventPoint:function(t){return this.viewToProject(st.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,element){return d&&"string"==typeof element&&(element=d.getElementById(element)),new(h?at:ot)(t,element)}}},new function(){if(h){var t,e,n,r,o,c=!1,l=!1,f=h.navigator;f.pointerEnabled||f.msPointerEnabled?(n="pointerdown MSPointerDown",r="pointermove MSPointerMove",o="pointerup pointercancel MSPointerUp MSPointerCancel"):(n="touchstart",r="touchmove",o="touchend touchcancel","ontouchstart"in h&&f.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(n+=" mousedown",r+=" mousemove",o+=" mouseup"));var _={},v={mouseout:function(t){var view=ot._focused,e=st.getRelatedTarget(t);if(view&&(!e||"HTML"===e.nodeName)){var n=st.getOffset(t,view._element),r=n.x,o=Math.abs,c=o(r),l=c-(1<<25);n.x=o(l)<c?l*(r<0?-1:1):r,L(view,t,view.viewToProject(n))}},scroll:A};_[n]=function(t){var view=ot._focused=P(t);c||(c=!0,view._handleMouseEvent("mousedown",t))},v[r]=function(n){var view=ot._focused;if(!l){var r=P(n);r?view!==r&&(view&&L(view,n),t||(t=view),view=ot._focused=e=r):e&&e===view&&(t&&!t.isInserted()&&(t=null),view=ot._focused=t,t=null,A())}view&&L(view,n)},v[n]=function(){l=!0},v[o]=function(t){var view=ot._focused;view&&c&&view._handleMouseEvent("mouseup",t),l=c=!1},st.add(d,v),st.add(h,{load:A});var m,x,y,w,C,S,k,O,I=!1,j=!1,M={doubleclick:"click",mousedrag:"mousemove"},z=!1,T={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:_,_handleMouseEvent:function(t,e,n){var r=this._itemEvents,o=r.native[t],l="mousemove"===t,h=this._scope.tool,view=this;function d(t){return r.virtual[t]||view.responds(t)||h&&h.responds(t)}l&&c&&d("mousedrag")&&(t="mousedrag"),n||(n=this.getEventPoint(e));var f=this.getBounds().contains(n),_=o&&f&&view._project.hitTest(n,{tolerance:0,fill:!0,stroke:!0}),v=_&&_.item||null,M=!1,T={};if(T[t.substr(5)]=!0,o&&v!==w&&(w&&B(w,null,"mouseleave",e,n),v&&B(v,null,"mouseenter",e,n),w=v),z^f&&(B(this,null,f?"mouseenter":"mouseleave",e,n),f?this:null,M=!0),!f&&!T.drag||n.equals(x)||(N(this,v,l?t:"mousemove",e,n,x),M=!0),z=f,T.down&&f||T.up&&m){if(N(this,v,t,e,n,m),T.down){if(O=v===S&&Date.now()-k<300,y=S=v,!j&&v){for(var P=v;P&&!P.responds("mousedrag");)P=P._parent;P&&(C=v)}m=n}else T.up&&(j||v!==y||(k=Date.now(),N(this,v,O?"doubleclick":"click",e,n,m),O=!1),y=C=null);z=!1,M=!0}x=n,M&&h&&(I=h._handleMouseEvent(t,e,n,T)||I),!1!==e.cancelable&&(I&&!T.move||T.down&&d("mouseup"))&&e.preventDefault()},_handleKeyEvent:function(t,e,n,r){var o,c=this._scope,l=c.tool;function h(l){l.responds(t)&&(xt=c,l.emit(t,o=o||new lt(t,e,n,r)))}this.isVisible()&&(h(this),l&&l.responds(t)&&h(l))},_countItemEvent:function(t,e){var n=this._itemEvents,r=n.native,o=n.virtual;for(var c in T)r[c]=(r[c]||0)+(T[c][t]||0)*e;o[t]=(o[t]||0)+e},statics:{updateFocus:A,_resetState:function(){c=l=I=z=!1,t=e=m=x=y=w=C=S=k=O=null}}}}function P(t){var e=st.getTarget(t);return e.getAttribute&&ot._viewsById[e.getAttribute("id")]}function A(){var view=ot._focused;if(!view||!view.isVisible())for(var i=0,t=ot._views.length;i<t;i++)if((view=ot._views[i]).isVisible()){ot._focused=e=view;break}}function L(view,t,e){view._handleMouseEvent("mousemove",t,e)}function B(t,e,n,r,o,c,l){var h,d=!1;function f(t,n){if(t.responds(n)){if(h||(h=new ut(n,r,o,e||t,c?o.subtract(c):null)),t.emit(n,h)&&(I=!0,h.prevented&&(j=!0),h.stopped))return d=!0}else{var l=M[n];if(l)return f(t,l)}}for(;t&&t!==l&&!f(t,n);)t=t._parent;return d}function N(view,t,e,n,r,o){return view._project.removeOn(e),j=I=!1,C&&B(C,null,e,n,r,o)||t&&t!==C&&!t.isDescendant(C)&&B(t,null,"mousedrag"===e?"mousemove":e,n,r,o,C)||B(view,C||t||view,e,n,r,o)}}),at=ot.extend({_class:"CanvasView",initialize:function(t,canvas){if(!(canvas instanceof h.HTMLCanvasElement)){var e=O.read(arguments,1);if(e.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+f.slice(arguments,1));canvas=pt.getCanvas(e)}var n=this._context=canvas.getContext("2d");if(n.save(),this._pixelRatio=1,!/^off|false$/.test(v.getAttribute(canvas,"hidpi"))){var r=h.devicePixelRatio||1,o=it.getPrefixed(n,"backingStorePixelRatio")||1;this._pixelRatio=r/o}ot.call(this,t,canvas),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,n){var r=this._pixelRatio;if(t.base.call(this,e*r,n*r),1!==r){var element=this._element,o=this._context;if(!v.hasAttribute(element,"resize")){var style=element.style;style.width=e+"px",style.height=n+"px"}o.restore(),o.save(),o.scale(r,r)}},getContext:function(){return this._context},getPixelSize:function t(e){var n,r=xt.agent;if(r&&r.firefox)n=t.base.call(this,e);else{var o=this._context,c=o.font;o.font=e+" serif",n=parseFloat(o.font),o.font=c}return n},getTextWidth:function(t,e){var n=this._context,r=n.font,o=0;n.font=t;for(var i=0,c=e.length;i<c;i++)o=Math.max(o,n.measureText(e[i]).width);return n.font=r,o},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,n=this._viewSize;return e.clearRect(0,0,n.width+1,n.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),ct=f.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return ht.modifiers}}),lt=ct.extend({_class:"KeyEvent",initialize:function(t,e,n,r){this.type=t,this.event=e,this.key=n,this.character=r},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),ht=new function(){var t,e,n={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},r={tab:"\t",space:" ",enter:"\r"},o={},c={},_=new f({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var t=xt&&xt.agent;return t&&t.mac?this.meta:this.control}}});function v(t){var e=t.key||t.keyIdentifier;return e=/^U\+/.test(e)?String.fromCharCode(parseInt(e.substr(2),16)):/^Arrow[A-Z]/.test(e)?e.substr(5):"Unidentified"===e||e===l?String.fromCharCode(t.keyCode):e,n[e]||(e.length>1?f.hyphenate(e):e.toLowerCase())}function m(e,n,r,l){var h,view=ot._focused;if(o[n]=e,e?c[n]=r:delete c[n],n.length>1&&(h=f.camelize(n))in _){_[h]=e;var d=xt&&xt.agent;if("meta"===h&&d&&d.mac)if(e)t={};else{for(var v in t)v in c&&m(!1,v,t[v],l);t=null}}else e&&t&&(t[n]=r);view&&view._handleKeyEvent(e?"keydown":"keyup",l,n,r)}return st.add(d,{keydown:function(t){var n=v(t),o=xt&&xt.agent;n.length>1||o&&o.chrome&&(t.altKey||o.mac&&t.metaKey||!o.mac&&t.ctrlKey)?m(!0,n,r[n]||(n.length>1?"":n),t):e=n},keypress:function(t){if(e){var n=v(t),code=t.charCode,r=code>=32?String.fromCharCode(code):n.length>1?"":n;n!==e&&(n=r.toLowerCase()),m(!0,n,r,t),e=null}},keyup:function(t){var e=v(t);e in c&&m(!1,e,c[e],t)}}),st.add(h,{blur:function(t){for(var e in c)m(!1,e,c[e],t)}}),{modifiers:_,isDown:function(t){return!!o[t]}}},ut=ct.extend({_class:"MouseEvent",initialize:function(t,e,n,r,o){this.type=t,this.event=e,this.point=n,this.target=r,this.delta=o},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),ft=ct.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,n){this.tool=t,this.type=e,this.event=n},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,n=e._parent;/^(Group|CompoundPath)$/.test(n._class);)e=n,n=n._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),gt=(m.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){m.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,n,r){xt=this._scope,r.drag&&!this.responds(t)&&(t="mousemove");var o=r.move||r.drag,c=this.responds(t),l=this.minDistance,h=this.maxDistance,d=!1,f=this;function _(t,e){var c=n,l=o?f._point:f._downPoint||c;if(o){if(f._moveCount>=0&&c.equals(l))return!1;if(l&&(null!=t||null!=e)){var h=c.subtract(l),d=h.getLength();if(d<(t||0))return!1;e&&(c=l.add(h.normalize(Math.min(d,e))))}f._moveCount++}return f._point=c,f._lastPoint=l||c,r.down&&(f._moveCount=-1,f._downPoint=c,f._downCount++),!0}function v(){c&&(d=f.emit(t,new ft(f,t,e))||d)}if(r.down)_(),v();else if(r.up)_(null,h),v();else if(c)for(;_(l,h);)v();return d}}),f.extend(_,{_class:"Tween",statics:{easings:new f({linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:2*(2-t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}})},initialize:function t(object,e,n,r,o,c){this.object=object;var l=typeof o,h="function"===l;this.type=h?l:"string"===l?o:"linear",this.easing=h?o:t.easings[this.type],this.duration=r,this.running=!1,this._then=null,this._startTime=null;var d=e||n;this._keys=d?Object.keys(d):[],this._parsedKeys=this._parseKeys(this._keys),this._from=d&&this._getState(e),this._to=d&&this._getState(n),!1!==c&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(progress){if(this.running){progress>=1&&(progress=1,this.running=!1);for(var t=this.easing(progress),e=this._keys,n=function(e){return"function"==typeof e?e(t,progress):e},i=0,r=e&&e.length;i<r;i++){var o=e[i],c=n(this._from[o]),l=n(this._to[o]),h=c&&l&&c.__add&&l.__add?l.__subtract(c).__multiply(t).__add(c):(l-c)*t+c;this._setProperty(this._parsedKeys[o],h)}this.responds("update")&&this.emit("update",new f({progress:progress,factor:t})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(time){var t=this._startTime,progress=t?(time-t)/this.duration:0;t||(this._startTime=time),this.update(progress)},_getState:function(t){for(var e=this._keys,n={},i=0,r=e.length;i<r;i++){var o,c=e[i],path=this._parsedKeys[c],l=this._getProperty(path);if(t){var h=this._resolveValue(l,t[c]);this._setProperty(path,h),o=(o=this._getProperty(path))&&o.clone?o.clone():o,this._setProperty(path,l)}else o=l&&l.clone?l.clone():l;n[c]=o}return n},_resolveValue:function(t,e){if(e){if(Array.isArray(e)&&2===e.length){var n=e[0];return n&&n.match&&n.match(/^[+\-\*\/]=/)?this._calculate(t,n[0],e[1]):e}if("string"==typeof e){var r=e.match(/^[+\-*/]=(.*)/);if(r){var o=JSON.parse(r[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,e[0],o)}}}return e},_calculate:function(t,e,n){return xt.PaperScript.calculateBinary(t,e,n)},_parseKeys:function(t){for(var e={},i=0,n=t.length;i<n;i++){var r=t[i],path=r.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[r]=path.split("/")}return e},_getProperty:function(path,t){for(var e=this.object,i=0,n=path.length-(t||0);i<n&&e;i++)e=e[path[i]];return e},_setProperty:function(path,t){var e=this._getProperty(path,1);e&&(e[path[path.length-1]]=t)}})),_t=function(t){var e=new c.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,f.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var n=e.status;0===n||200===n?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var n=e.status,r='Could not load "'+t.url+'" (Status: '+n+")";if(!t.onError)throw new Error(r);t.onError(r,n)},e.send(null)},pt=f.exports.CanvasProvider={canvases:[],getCanvas:function(t,e){if(!h)return null;var canvas,n=!0;"object"==typeof t&&(e=t.height,t=t.width),this.canvases.length?canvas=this.canvases.pop():(canvas=d.createElement("canvas"),n=!1);var r=canvas.getContext("2d");if(!r)throw new Error("Canvas "+canvas+" is unable to provide a 2D context.");return canvas.width===t&&canvas.height===e?n&&r.clearRect(0,0,t+1,e+1):(canvas.width=t,canvas.height=e),r.save(),canvas},getContext:function(t,e){var canvas=this.getCanvas(t,e);return canvas?canvas.getContext("2d"):null},release:function(t){var canvas=t&&t.canvas?t.canvas:t;canvas&&canvas.getContext&&(canvas.getContext("2d").restore(),this.canvases.push(canvas))}},vt=new function(){var t,e,n,r,br,o,c,l,h,d,_,v=Math.min,m=Math.max,x=Math.abs;function y(t,g,b){return.2989*t+.587*g+.114*b}function w(t,g,b,e){var n=e-y(t,g,b),r=(e=y(h=t+n,d=g+n,_=b+n),v(h,d,_)),o=m(h,d,_);if(r<0){var c=e-r;h=e+(h-e)*e/c,d=e+(d-e)*e/c,_=e+(_-e)*e/c}if(o>255){var l=255-e,f=o-e;h=e+(h-e)*l/f,d=e+(d-e)*l/f,_=e+(_-e)*l/f}}function C(t,g,b){return m(t,g,b)-v(t,g,b)}function S(t,g,b,s){var e,col=[t,g,b],n=m(t,g,b),r=v(t,g,b);e=0===v(r=r===t?0:r===g?1:2,n=n===t?0:n===g?1:2)?1===m(r,n)?2:1:0,col[n]>col[r]?(col[e]=(col[e]-col[r])*s/(col[n]-col[r]),col[n]=s):col[e]=col[n]=0,col[r]=0,h=col[0],d=col[1],_=col[2]}var k={multiply:function(){h=br*t/255,d=o*e/255,_=c*n/255},screen:function(){h=br+t-br*t/255,d=o+e-o*e/255,_=c+n-c*n/255},overlay:function(){h=br<128?2*br*t/255:255-2*(255-br)*(255-t)/255,d=o<128?2*o*e/255:255-2*(255-o)*(255-e)/255,_=c<128?2*c*n/255:255-2*(255-c)*(255-n)/255},"soft-light":function(){var r=t*br/255;h=r+br*(255-(255-br)*(255-t)/255-r)/255,d=(r=e*o/255)+o*(255-(255-o)*(255-e)/255-r)/255,_=(r=n*c/255)+c*(255-(255-c)*(255-n)/255-r)/255},"hard-light":function(){h=t<128?2*t*br/255:255-2*(255-t)*(255-br)/255,d=e<128?2*e*o/255:255-2*(255-e)*(255-o)/255,_=n<128?2*n*c/255:255-2*(255-n)*(255-c)/255},"color-dodge":function(){h=0===br?0:255===t?255:v(255,255*br/(255-t)),d=0===o?0:255===e?255:v(255,255*o/(255-e)),_=0===c?0:255===n?255:v(255,255*c/(255-n))},"color-burn":function(){h=255===br?255:0===t?0:m(0,255-255*(255-br)/t),d=255===o?255:0===e?0:m(0,255-255*(255-o)/e),_=255===c?255:0===n?0:m(0,255-255*(255-c)/n)},darken:function(){h=br<t?br:t,d=o<e?o:e,_=c<n?c:n},lighten:function(){h=br>t?br:t,d=o>e?o:e,_=c>n?c:n},difference:function(){(h=br-t)<0&&(h=-h),(d=o-e)<0&&(d=-d),(_=c-n)<0&&(_=-_)},exclusion:function(){h=br+t*(255-br-br)/255,d=o+e*(255-o-o)/255,_=c+n*(255-c-c)/255},hue:function(){S(t,e,n,C(br,o,c)),w(h,d,_,y(br,o,c))},saturation:function(){S(br,o,c,C(t,e,n)),w(h,d,_,y(br,o,c))},luminosity:function(){w(br,o,c,y(t,e,n))},color:function(){w(t,e,n,y(br,o,c))},add:function(){h=v(br+t,255),d=v(o+e,255),_=v(c+n,255)},subtract:function(){h=m(br-t,0),d=m(o-e,0),_=m(c-n,0)},average:function(){h=(br+t)/2,d=(o+e)/2,_=(c+n)/2},negation:function(){h=255-x(255-t-br),d=255-x(255-e-o),_=255-x(255-n-c)}},O=this.nativeModes=f.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],(function(t){this[t]=!0}),{}),I=pt.getContext(1,1);I&&(f.each(k,(function(t,e){var n="darken"===e,r=!1;I.save();try{I.fillStyle=n?"#300":"#a00",I.fillRect(0,0,1,1),I.globalCompositeOperation=e,I.globalCompositeOperation===e&&(I.fillStyle=n?"#a00":"#300",I.fillRect(0,0,1,1),r=I.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(t){}I.restore(),O[e]=r})),pt.release(I)),this.process=function(f,v,m,x,y){var w=v.canvas,C="normal"===f;if(C||O[f])m.save(),m.setTransform(1,0,0,1,0,0),m.globalAlpha=x,C||(m.globalCompositeOperation=f),m.drawImage(w,y.x,y.y),m.restore();else{var S=k[f];if(!S)return;for(var I=m.getImageData(y.x,y.y,w.width,w.height),j=I.data,M=v.getImageData(0,0,w.width,w.height).data,i=0,z=j.length;i<z;i+=4){t=M[i],br=j[i],e=M[i+1],o=j[i+1],n=M[i+2],c=j[i+2],r=M[i+3],l=j[i+3],S();var T=r*x/255,P=1-T;j[i]=T*h+P*br,j[i+1]=T*d+P*o,j[i+2]=T*_+P*c,j[i+3]=r*x+P*l}m.putImageData(I,y.x,y.y)}}},mt=new function(){var svg="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",e="http://www.w3.org/1999/xlink",n={href:e,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function r(t,e,r){for(var o in e){var c=e[o],l=n[o];"number"==typeof c&&r&&(c=r.number(c)),l?t.setAttributeNS(l,o,c):t.setAttribute(o,c)}return t}return{svg:svg,xmlns:t,xlink:e,create:function(t,e,n){return r(d.createElementNS(svg,t),e,n)},get:function(t,e){var r=n[e],o=r?t.getAttributeNS(r,e):t.getAttribute(e);return"null"===o?null:o},set:r}},bt=f.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof Y||t instanceof N||t instanceof J)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},(function(t,e){var n=f.capitalize(e),r=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:r,fromSVG:r&&f.each(r,(function(t,e){this[t]=e}),{}),exportFilter:t[3],get:"get"+n,set:"set"+n}}),{});new function(){var t;function e(e,n,r){var o,c=new f,l=e.getTranslation();n&&(e.isInvertible()?(o=(e=e._shiftless())._inverseTransform(l),l=null):o=new S,c[r?"cx":"x"]=o.x,c[r?"cy":"y"]=o.y);if(!e.isIdentity()){var h=e.decompose();if(h){var d=[],_=h.rotation,v=h.scaling,m=h.skewing;l&&!l.isZero()&&d.push("translate("+t.point(l)+")"),_&&d.push("rotate("+t.number(_)+")"),w.isZero(v.x-1)&&w.isZero(v.y-1)||d.push("scale("+t.point(v)+")"),m.x&&d.push("skewX("+t.number(m.x)+")"),m.y&&d.push("skewY("+t.number(m.y)+")"),c.transform=d.join(" ")}else c.transform="matrix("+e.getValues().join(",")+")"}return c}function n(n,r){for(var o=e(n._matrix),c=n._children,l=mt.create("g",o,t),i=0,h=c.length;i<h;i++){var d=c[i],f=m(d,r);if(f)if(d.isClipMask()){var v=mt.create("clipPath");v.appendChild(f),_(d,v,"clip"),mt.set(l,{"clip-path":"url(#"+v.id+")"})}else l.appendChild(f)}return l}function r(n){var r=n._type,o=n._radius,c=e(n._matrix,!0,"rectangle"!==r);if("rectangle"===r){r="rect";var l=n._size,h=l.width,d=l.height;c.x-=h/2,c.y-=d/2,c.width=h,c.height=d,o.isZero()&&(o=null)}return o&&("circle"===r?c.r=o:(c.rx=o.width,c.ry=o.height)),mt.create(r,c,t)}var o,l={Group:n,Layer:n,Raster:function(n,r){var o=e(n._matrix,!0),c=n.getSize(),image=n.getImage();return o.x-=c.width/2,o.y-=c.height/2,o.width=c.width,o.height=c.height,o.href=0==r.embedImages&&image&&image.src||n.toDataURL(),mt.create("image",o,t)},Path:function(n,o){var c=o.matchShapes;if(c){var l=n.toShape(!1);if(l)return r(l)}var h,d=n._segments,f=d.length,_=e(n._matrix);if(c&&f>=2&&!n.hasHandles())if(f>2){h=n._closed?"polygon":"polyline";for(var v=[],i=0;i<f;i++)v.push(t.point(d[i]._point));_.points=v.join(" ")}else{h="line";var m=d[0]._point,x=d[1]._point;_.set({x1:m.x,y1:m.y,x2:x.x,y2:x.y})}else h="path",_.d=n.getPathData(null,o.precision);return mt.create(h,_,t)},Shape:r,CompoundPath:function(n,r){var o=e(n._matrix),data=n.getPathData(null,r.precision);return data&&(o.d=data),mt.create("path",o,t)},SymbolItem:function(n,r){var o=e(n._matrix,!0),c=n._definition,l=d(c,"symbol"),h=c._item,f=h.getStrokeBounds();return l||((l=mt.create("symbol",{viewBox:t.rectangle(f)})).appendChild(m(h,r)),_(c,l,"symbol")),o.href="#"+l.id,o.x+=f.x,o.y+=f.y,o.width=f.width,o.height=f.height,o.overflow="visible",mt.create("use",o,t)},PointText:function(n){var r=mt.create("text",e(n._matrix,!0),t);return r.textContent=n._content,r}};function h(e,n,r){var o={},c=!r&&e.getParent(),style=[];return null!=e._name&&(o.id=e._name),f.each(bt,(function(n){var r=n.get,l=n.type,h=e[r]();if(n.exportFilter?n.exportFilter(e,h):!c||!f.equals(c[r](),h)){if("color"===l&&null!=h){var v=h.getAlpha();v<1&&(o[n.attribute+"-opacity"]=v)}"style"===l?style.push(n.attribute+": "+h):o[n.attribute]=null==h?"none":"color"===l?h.gradient?function(e){var n=d(e,"color");if(!n){var r,o=e.getGradient(),c=o._radial,l=e.getOrigin(),h=e.getDestination();if(c){r={cx:l.x,cy:l.y,r:l.getDistance(h)};var f=e.getHighlight();f&&(r.fx=f.x,r.fy=f.y)}else r={x1:l.x,y1:l.y,x2:h.x,y2:h.y};r.gradientUnits="userSpaceOnUse",n=mt.create((c?"radial":"linear")+"Gradient",r,t);for(var v=o._stops,i=0,m=v.length;i<m;i++){var x=v[i],y=x._color,w=y.getAlpha(),C=x._offset;r={offset:null==C?i/(m-1):C},y&&(r["stop-color"]=y.toCSS(!0)),w<1&&(r["stop-opacity"]=w),n.appendChild(mt.create("stop",r,t))}_(e,n,"color")}return"url(#"+n.id+")"}(h):h.toCSS(!0):"array"===l?h.join(","):"lookup"===l?n.toSVG[h]:h}})),style.length&&(o.style=style.join(";")),1===o.opacity&&delete o.opacity,e._visible||(o.visibility="hidden"),mt.set(n,o,t)}function d(t,e){return o||(o={ids:{},svgs:{}}),t&&o.svgs[e+"-"+(t._id||t.__id||(t.__id=C.get("svg")))]}function _(t,e,n){o||d();var r=o.ids[n]=(o.ids[n]||0)+1;e.id=n+"-"+r,o.svgs[n+"-"+(t._id||t.__id)]=e}function v(t,e){var svg=t,defs=null;if(o){for(var i in svg="svg"===t.nodeName.toLowerCase()&&t,o.svgs)defs||(svg||(svg=mt.create("svg")).appendChild(t),defs=svg.insertBefore(mt.create("defs"),svg.firstChild)),defs.appendChild(o.svgs[i]);o=null}return e.asString?(new c.XMLSerializer).serializeToString(svg):svg}function m(t,e,n){var r=l[t._class],o=r&&r(t,e);if(o){var c=e.onExport;c&&(o=c(t,o,e)||o);var data=JSON.stringify(t._data);data&&"{}"!==data&&"null"!==data&&o.setAttribute("data-paper-data",data)}return o&&h(t,o,n)}function x(e){return e||(e={}),t=new y(e.precision),e}A.inject({exportSVG:function(t){return v(m(this,t=x(t),!0),t)}}),P.inject({exportSVG:function(n){n=x(n);var r=this._children,view=this.getView(),o=f.pick(n.bounds,"view"),c=n.matrix||"view"===o&&view._matrix,l=c&&z.read([c]),rect="view"===o?new j([0,0],view.getViewSize()):"content"===o?A._getBounds(r,l,{stroke:!0}).rect:j.read([o],0,{readNull:!0}),h={version:"1.1",xmlns:mt.svg,"xmlns:xlink":mt.xlink};rect&&(h.width=rect.width,h.height=rect.height,(rect.x||0===rect.x||rect.y||0===rect.y)&&(h.viewBox=t.rectangle(rect)));var d=mt.create("svg",h,t),_=d;l&&!l.isIdentity()&&(_=d.appendChild(mt.create("g",e(l),t)));for(var i=0,y=r.length;i<y;i++)_.appendChild(m(r[i],n,!0));return v(d,n)}})},new function(){var t,e={};function n(e,n,r,o,c,l){var h=mt.get(e,n)||l,d=null==h?o?null:r?"":0:r?h:parseFloat(h);return/%\s*$/.test(h)?d/100*(c?1:t[/x|^width/.test(n)?"width":"height"]):d}function r(t,e,r,o,c,l,h){return e=n(t,e||"x",!1,o,c,l),r=n(t,r||"y",!1,o,c,h),!o||null!=e&&null!=r?new S(e,r):null}function o(t,e,r,o,c){return e=n(t,e||"width",!1,o,c),r=n(t,r||"height",!1,o,c),!o||null!=e&&null!=r?new O(e,r):null}function _(t,e,n){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?T(t)||t:"lookup"===e?n[t]:t}function v(t,e,n,r){var o=t.childNodes,c="clippath"===e,l="defs"===e,h=new L,d=h._project,f=d._currentStyle,_=[];if(c||l||(h=M(h,t,r),d._currentStyle=h._style.clone()),r)for(var defs=t.querySelectorAll("defs"),i=0,v=defs.length;i<v;i++)B(defs[i],n,!1);for(i=0,v=o.length;i<v;i++){var m,x=o[i];1!==x.nodeType||/^defs$/i.test(x.nodeName)||!(m=B(x,n,!1))||m instanceof D||_.push(m)}return h.addChildren(_),c&&(h=M(h.reduce(),t,r)),d._currentStyle=f,(c||l)&&(h.remove(),h=null),h}function m(t,e){for(var n=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),r=[],i=0,o=n.length;i<o;i+=2)r.push(new S(parseFloat(n[i]),parseFloat(n[i+1])));var path=new X(r);return"polygon"===e&&path.closePath(),path}function x(t,o){var c,l=(n(t,"href",!0)||"").substring(1),h="radialgradient"===o;if(l)(c=e[l].getGradient())._radial^h&&((c=c.clone())._radial=h);else{for(var d=t.childNodes,f=[],i=0,_=d.length;i<_;i++){var v=d[i];1===v.nodeType&&f.push(M(new et,v))}c=new tt(f,h)}var m,x,y,w="userSpaceOnUse"!==n(t,"gradientUnits",!0);return h?(x=(m=r(t,"cx","cy",!1,w,"50%","50%")).add(n(t,"r",!1,!1,w,"50%"),0),y=r(t,"fx","fy",!0,w)):(m=r(t,"x1","y1",!1,w,"0%","0%"),x=r(t,"x2","y2",!1,w,"100%","0%")),M(new Q(c,m,x,y),t)._scaleToBounds=w,null}var y={"#document":function(t,e,n,r){for(var o=t.childNodes,i=0,c=o.length;i<c;i++){var l=o[i];if(1===l.nodeType)return B(l,n,r)}},g:v,svg:v,clippath:v,polygon:m,polyline:m,path:function(t){return Y.create(t.getAttribute("d"))},lineargradient:x,radialgradient:x,image:function(t){var e=new R(n(t,"href",!0));return e.on("load",(function(){var e=o(t);this.setSize(e);var n=r(t).add(e.divide(2));this._matrix.append((new z).translate(n))})),e},symbol:function(t,e,n,r){return new D(v(t,e,n,r),!0)},defs:v,use:function(t){var o=(n(t,"href",!0)||"").substring(1),c=e[o],l=r(t);return c?c instanceof D?c.place(l):c.clone().translate(l):null},circle:function(t){return new N.Circle(r(t,"cx","cy"),n(t,"r"))},ellipse:function(t){return new N.Ellipse({center:r(t,"cx","cy"),radius:o(t,"rx","ry")})},rect:function(t){return new N.Rectangle(new j(r(t),o(t)),o(t,"rx","ry"))},line:function(t){return new X.Line(r(t,"x1","y1"),r(t,"x2","y2"))},text:function(t){var text=new K(r(t).add(r(t,"dx","dy")));return text.setContent(t.textContent.trim()||""),text},switch:v};function w(t,e,n,r){if(t.transform){for(var o=(r.getAttribute(n)||"").split(/\)\s*/g),c=new z,i=0,l=o.length;i<l;i++){var h=o[i];if(!h)break;for(var d=h.split(/\(\s*/),f=d[0],_=d[1].split(/[\s,]+/g),v=0,m=_.length;v<m;v++)_[v]=parseFloat(_[v]);switch(f){case"matrix":c.append(new z(_[0],_[1],_[2],_[3],_[4],_[5]));break;case"rotate":c.rotate(_[0],_[1]||0,_[2]||0);break;case"translate":c.translate(_[0],_[1]||0);break;case"scale":c.scale(_);break;case"skewX":c.skew(_[0],0);break;case"skewY":c.skew(0,_[0])}}t.transform(c)}}function C(t,e,n){var r="fill-opacity"===n?"getFillColor":"getStrokeColor",o=t[r]&&t[r]();o&&o.setAlpha(parseFloat(e))}var k=f.set(f.each(bt,(function(t){this[t.attribute]=function(e,n){if(e[t.set]&&(e[t.set](_(n,t.type,t.fromSVG)),"color"===t.type)){var r=e[t.get]();if(r&&r._scaleToBounds){var o=e.getBounds();r.transform((new z).translate(o.getPoint()).scale(o.getSize()))}}}}),{}),{id:function(t,n){e[n]=t,t.setName&&t.setName(n)},"clip-path":function(t,e){var n=T(e);if(n){if((n=n.clone()).setClipMask(!0),!(t instanceof L))return new L(n,t);t.insertChild(0,n)}},gradientTransform:w,transform:w,"fill-opacity":C,"stroke-opacity":C,visibility:function(t,e){t.setVisible&&t.setVisible("visible"===e)},display:function(t,e){t.setVisible&&t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){if(t.setOffset){var n=e.match(/(.*)%$/);t.setOffset(n?n[1]/100:parseFloat(e))}},viewBox:function(t,e,n,r,c){var l,rect=new j(_(e,"array")),h=o(r,null,null,!0);if(t instanceof L){var d=h?h.divide(rect.getSize()):1,f=(new z).scale(d).translate(rect.getPoint().negate());l=t}else t instanceof D&&(h&&rect.setSize(h),l=t._item);if(l){if("visible"!==I(r,"overflow",c)){var v=new N.Rectangle(rect);v.setClipMask(!0),l.addChild(v)}f&&l.transform(f)}}});function I(t,e,n){var r=t.attributes[e],o=r&&r.value;if(!o&&t.style){var style=f.camelize(e);(o=t.style[style])||n.node[style]===n.parent[style]||(o=n.node[style])}return o?"none"===o?null:o:l}function M(t,e,n){var r=e.parentNode,o={node:it.getStyles(e)||{},parent:!n&&!/^defs$/i.test(r.tagName)&&it.getStyles(r)||{}};return f.each(k,(function(n,r){var c=I(e,r,o);t=c!==l&&n(t,c,r,e,o)||t})),t}function T(t){var n=t&&t.match(/\((?:["'#]*)([^"')]+)/),r=n&&n[1],o=r&&e[h?r.replace(h.location.href.split("#")[0]+"#",""):r];return o&&o._scaleToBounds&&((o=o.clone())._scaleToBounds=!0),o}function B(n,r,c){var l,h,_,v=n.nodeName.toLowerCase(),m="#document"!==v,body=d.body;c&&m&&(t=xt.getView().getSize(),t=o(n,null,null,!0)||t,l=mt.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),h=n.parentNode,_=n.nextSibling,l.appendChild(n),body.appendChild(l));var x=xt.settings,w=x.applyMatrix,C=x.insertItems;x.applyMatrix=!1,x.insertItems=!1;var S=y[v],k=S&&S(n,v,r,c)||null;if(x.insertItems=C,x.applyMatrix=w,k){!m||k instanceof L||(k=M(k,n,c));var O=r.onImport,data=m&&n.getAttribute("data-paper-data");O&&(k=O(n,k,r)||k),r.expandShapes&&k instanceof N&&(k.remove(),k=k.toPath()),data&&(k._data=JSON.parse(data))}return l&&(body.removeChild(l),h&&(_?h.insertBefore(n,_):h.appendChild(n))),c&&(e={},k&&f.pick(r.applyMatrix,w)&&k.matrix.apply(!0,!0)),k}function E(source,t,e){if(!source)return null;t="function"==typeof t?{onLoad:t}:t||{};var n=xt,r=null;function o(svg){try{var o="object"==typeof svg?svg:(new c.DOMParser).parseFromString(svg.trim(),"image/svg+xml");if(!o.nodeName)throw o=null,new Error("Unsupported SVG source: "+source);xt=n,r=B(o,t,!0),t&&!1===t.insert||e._insertItem(l,r);var d=t.onLoad;d&&d(r,svg)}catch(t){h(t)}}function h(e,n){var r=t.onError;if(!r)throw new Error(e);r(e,n)}if("string"!=typeof source||/^[\s\S]*</.test(source)){if("undefined"!=typeof File&&source instanceof File){var f=new FileReader;return f.onload=function(){o(f.result)},f.onerror=function(){h(f.error)},f.readAsText(source)}o(source)}else{var _=d.getElementById(source);_?o(_):_t({url:source,async:!0,onLoad:o,onError:h})}return r}A.inject({importSVG:function(t,e){return E(t,e,this)}}),P.inject({importSVG:function(t,e){return this.activate(),E(t,e,this)}})};var xt=new(v.inject(f.exports,{Base:f,Numerical:w,Key:ht,DomEvent:st,DomElement:it,document:d,window:h,Symbol:D,PlacedSymbol:E}));return xt.agent.node&&n(1195)(xt),(o="function"==typeof(r=xt)?r.call(e,n,e,t):r)===l||(t.exports=o),xt}).call(this,"object"==typeof self?self:null)},1198:function(t,e,n){"use strict";n(849)},1199:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".editor-canvas[data-v-92c4628e]{--canvas-size:256px;position:relative;display:flex;align-items:center;justify-content:center;gap:16px;width:100%;height:100%}@media(max-width:480px){.editor-canvas[data-v-92c4628e]{flex-direction:column}}.editor-canvas__canvas[data-v-92c4628e]{display:block;width:var(--canvas-width)!important;height:var(--canvas-height)!important;border:1px solid var(--c-black_200);background-image:linear-gradient(45deg,#f6f6f6 25%,transparent 0),linear-gradient(-45deg,#f6f6f6 25%,transparent 0),linear-gradient(45deg,transparent 75%,#f6f6f6 0),linear-gradient(-45deg,#fff 75%,#f6f6f6 0);background-size:12px 12px;background-position:0 0,0 6px,6px -6px,-6px 0}.editor-canvas__side-left[data-v-92c4628e],.editor-canvas__side-right[data-v-92c4628e]{height:100%;width:auto;max-height:var(--canvas-height);max-width:calc(100% - var(--canvas-width))}.editor-canvas__side-left[data-v-92c4628e]:empty,.editor-canvas__side-right[data-v-92c4628e]:empty{display:none}@media(max-width:480px){.editor-canvas__side-left[data-v-92c4628e],.editor-canvas__side-right[data-v-92c4628e]{max-width:100%}}.fade-enter-active[data-v-92c4628e],.fade-leave-active[data-v-92c4628e]{transition:opacity .25s ease-out;width:auto}.fade-enter[data-v-92c4628e],.fade-leave-to[data-v-92c4628e]{opacity:0;width:0}",""]),r.locals={},t.exports=r},1212:function(t,e,n){"use strict";n(860)},1213:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".recolor-chrome input::-webkit-inner-spin-button,.recolor-chrome input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.recolor-chrome input[type=number]{-moz-appearance:textfield}.recolor-chrome .i8-dropdown .i8-icon.active-indicator-icon{display:none}",""]),r.locals={},t.exports=r},1214:function(t,e,n){"use strict";n(861)},1215:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,'.recolor-chrome[data-v-3b8e0d80]{width:280px;max-width:280px}.recolor-chrome .vc-chrome[data-v-3b8e0d80]{--chrome-height:58%;--border-radius:4px;position:relative;width:100%;box-shadow:none}@media(max-width:360px){.recolor-chrome .vc-chrome[data-v-3b8e0d80]{width:280px;margin:0 auto}}.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-saturation-wrap{padding-bottom:var(--chrome-height);border-radius:var(--border-radius);z-index:10;box-shadow:0 0 1px rgba(96,96,96,.31),0 12px 24px -6px rgba(96,96,96,.15);overflow:visible}.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-saturation,.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-saturation--black{border-radius:var(--border-radius)}.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-saturation--black{box-shadow:0 0 0 .5px rgba(0,0,0,.2)}.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-body{display:flex;flex-direction:column;width:100%;top:0;padding:16px 0 0}.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls{display:flex;flex-direction:row-reverse;align-items:center;gap:8px}.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls *{box-sizing:border-box}.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls .vc-chrome-color-wrap{position:relative}.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls .vc-chrome-color-wrap,.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls .vc-chrome-color-wrap .vc-checkerboard,.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls .vc-chrome-color-wrap .vc-chrome-active-color{width:36px;height:36px;border-radius:var(--border-radius)}.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls .vc-chrome-color-wrap .vc-checkerboard,.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls .vc-chrome-color-wrap .vc-chrome-active-color{border:.5px solid rgba(0,0,0,.2)}.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls .vc-chrome-sliders{display:flex;flex-basis:auto;flex-direction:column;gap:8px}.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls .vc-alpha,.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls .vc-alpha-checkboard-wrap,.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls .vc-alpha-container,.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls .vc-alpha-gradient,.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls .vc-chrome-alpha-wrap,.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls .vc-chrome-hue-wrap,.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls .vc-hue,.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls .vc-hue-container{height:12px;width:100%;margin:0;border-radius:12px}.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls .vc-alpha-container,.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-chrome-controls .vc-hue-container{border:.5px solid rgba(0,0,0,.2)}.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-alpha-picker,.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-hue-picker,.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-saturation-circle{width:16px;height:16px;box-sizing:border-box;border:3px solid #fff;border-radius:8px;background:var(--current-color,red);box-shadow:0 0 0 .5px rgba(0,0,0,.25);transform:translate(-50%,-25%)}.recolor-chrome .vc-chrome[data-v-3b8e0d80] .vc-saturation-circle{transform:translate(-50%,-66%)}.recolor-chrome .input-control[data-v-3b8e0d80]{--text-input-padding:0 8px;--dropdown-label-padding:0 8px 0 12px;height:32px;gap:8px;margin-top:16px}@media(max-width:360px){.recolor-chrome .input-control[data-v-3b8e0d80]{max-width:258px;margin-right:auto;margin-left:auto}}.recolor-chrome .input-control .i8-dropdown[data-v-3b8e0d80]{min-width:70px;border:var(--text-input-input-border,1px solid var(--c-black_300));border-radius:var(--text-input-input-border-radius,4px);-webkit-user-select:none;user-select:none}.recolor-chrome .input-control .i8-text-input[data-v-3b8e0d80]{max-width:100%;width:100%}.recolor-chrome .palette[data-v-3b8e0d80]{gap:4px;margin-top:16px}@media(max-width:360px){.recolor-chrome .palette[data-v-3b8e0d80]{max-width:258px;margin-right:auto;margin-left:auto}}.recolor-chrome .palette__item[data-v-3b8e0d80]{position:absolute;top:0;left:0;right:0;bottom:0}.recolor-chrome .palette__item-wrap[data-v-3b8e0d80]{position:relative;width:16px;height:16px;border:.5px solid #ccc;border-radius:2px;box-sizing:border-box;cursor:pointer;background-size:contain;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAADBJREFUOE9jfPbs2X8GPEBSUhKfNAPjqAHDIgz+//+PNx08f/4cfzoYNYCBceiHAQC5flV5JzgrxQAAAABJRU5ErkJggg==")}.recolor-chrome .palette__add[data-v-3b8e0d80]{background:none}.recolor-chrome .palette__add[data-v-3b8e0d80] .i8-icon-path{width:8px;height:8px;fill:var(--c-black_500)}.recolor-chrome .palette__add.disabled[data-v-3b8e0d80]{opacity:.5;cursor:default}',""]),r.locals={},t.exports=r},1216:function(t,e,n){"use strict";n(863)},1217:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,"input[type=range].i8-slider-v2[data-v-8d5f0ea2]{--i8-slider-v2-track-bg:var(--c-transparent-black_200);--i8-slider-v2-track-height:2px;--i8-slider-v2-track-border-radius:2px;--i8-slider-v2-thumb-size:16px;--i8-slider-v2-thumb-color:#fff;--i8-slider-v2-track-progress:50%;flex-grow:1;width:100%;-webkit-appearance:none;appearance:none;cursor:pointer;border-radius:0;padding:7px 0;border:none;background:transparent}input[type=range].i8-slider-v2[data-v-8d5f0ea2]:disabled{--i8-slider-v2-track-color:var(--c-transparent-black_300);--i8-slider-v2-thumb-color:var(--c-black_100);cursor:default}input[type=range].i8-slider-v2[data-v-8d5f0ea2]::-webkit-slider-runnable-track{height:var(--i8-slider-v2-track-height);border-radius:var(--i8-slider-v2-track-border-radius);background:var(--i8-slider-v2-track-bg);background-image:linear-gradient(var(--i8-slider-v2-track-color,var(--c-blue_500)),var(--i8-slider-v2-track-color,var(--c-blue_500)));background-size:var(--i8-slider-v2-track-progress) 100%;background-repeat:no-repeat}input[type=range].i8-slider-v2[data-v-8d5f0ea2]::-moz-range-track{height:var(--i8-slider-v2-track-height);border-radius:var(--i8-slider-v2-track-border-radius);background:var(--i8-slider-v2-track-bg);background-image:linear-gradient(var(--i8-slider-v2-track-color,var(--c-blue_500)),var(--i8-slider-v2-track-color,var(--c-blue_500)));background-size:var(--i8-slider-v2-track-progress) 100%;background-repeat:no-repeat}input[type=range].i8-slider-v2[data-v-8d5f0ea2]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;margin-top:calc(var(--i8-slider-v2-track-height)/2 - var(--i8-slider-v2-thumb-size)/2);background-color:var(--i8-slider-v2-thumb-color);height:var(--i8-slider-v2-thumb-size);width:var(--i8-slider-v2-thumb-size);border:.5px solid var(--c-transparent-black_300);border-radius:50%;box-shadow:0 0 1px rgba(96,96,96,.31),0 4px 8px rgba(96,96,96,.15)}input[type=range].i8-slider-v2[data-v-8d5f0ea2]:not(:disabled)::-webkit-slider-thumb:hover{background-color:var(--c-black_100)}input[type=range].i8-slider-v2[data-v-8d5f0ea2]:not(:disabled)::-webkit-slider-thumb:active{background-color:var(--c-black_200)}input[type=range].i8-slider-v2[data-v-8d5f0ea2]::-moz-range-thumb{background-color:var(--i8-slider-v2-thumb-color);height:var(--i8-slider-v2-thumb-size);width:var(--i8-slider-v2-thumb-size);border:.5px solid var(--c-transparent-black_300);border-radius:50%;box-shadow:0 0 1px rgba(96,96,96,.31),0 4px 8px rgba(96,96,96,.15)}input[type=range].i8-slider-v2[data-v-8d5f0ea2]:not(:disabled)::-moz-range-thumb:hover{background-color:var(--c-black_100)}input[type=range].i8-slider-v2[data-v-8d5f0ea2]:not(:disabled)::-moz-range-thumb:active{background-color:var(--c-black_200)}input[type=range].i8-slider-v2[data-v-8d5f0ea2]:focus{outline:none;--i8-slider-v2-thumb-color:var(--c-black_100)}",""]),r.locals={},t.exports=r},1218:function(t,e,n){"use strict";n(864)},1219:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".shape input::-webkit-inner-spin-button,.shape input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.shape input[type=number]{-moz-appearance:textfield}",""]),r.locals={},t.exports=r},1220:function(t,e,n){"use strict";n(865)},1221:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".tool-shape[data-v-d5d1ad12]{--dropdown-content-width:190px;--slider-range-background:var(--c-blue_500);position:relative;display:flex;flex-direction:column;align-items:center;width:100%;height:100%;box-sizing:border-box}.i8-button[data-v-d5d1ad12]{min-width:24px}.i8-button.i8-button--disabled[data-v-d5d1ad12]{background:transparent;opacity:.3}.i8-tab-group[data-v-d5d1ad12],.tabs[data-v-d5d1ad12]{display:flex;box-sizing:border-box;width:100%;max-width:280px}.i8-tab[data-v-d5d1ad12]{--tab-filled-large-padding:6px 12px;width:50%;text-align:center;transition:all .2s}.shape[data-v-d5d1ad12]{padding:15px 0;width:100%;max-width:280px;--text-input-width:70px;--text-input-padding:0 25px 0 12px}.shape__control[data-v-d5d1ad12]{padding-bottom:4px}.shape__size[data-v-d5d1ad12]{padding-bottom:16px}.shape__switch[data-v-d5d1ad12]:not(:first-child){margin-top:12px}.shape__label[data-v-d5d1ad12]{padding-bottom:5px}.shape .i8-text-input__right-icon[data-v-d5d1ad12]{-webkit-user-select:none;user-select:none;pointer-events:none;color:var(--c-black_400);top:6px;right:12px}.size[data-v-d5d1ad12]{gap:16px}.size .i8-text-input[data-v-d5d1ad12]{flex-shrink:0}.content-color[data-v-d5d1ad12]{padding:15px 0}",""]),r.locals={},t.exports=r},1224:function(t,e,n){"use strict";n(867)},1225:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".overlay-controls input::-webkit-inner-spin-button,.overlay-controls input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.overlay-controls input[type=number]{-moz-appearance:textfield}",""]),r.locals={},t.exports=r},1226:function(t,e,n){"use strict";n(868)},1227:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".tool-overlay[data-v-34bd4e86]{--text-input-width:70px;--dropdown-display:block;position:relative;display:flex;flex-direction:column;align-items:center;width:100%;height:100%;box-sizing:border-box}.align-self-start[data-v-34bd4e86]{align-self:flex-start}.overlay-controls[data-v-34bd4e86]{max-width:280px;margin-bottom:16px;gap:16px;--text-input-padding:0 30px 0 12px}.overlay-controls .i8-text-input[data-v-34bd4e86]{flex-shrink:0}.overlay-controls .i8-text-input__right-icon[data-v-34bd4e86]{-webkit-user-select:none;user-select:none;pointer-events:none;color:var(--c-black_400);top:6px;right:12px}.i8-button[data-v-34bd4e86]{min-width:24px}.i8-button.i8-button--disabled[data-v-34bd4e86]{background:transparent;opacity:.3}.i8-tab-group[data-v-34bd4e86],.tabs[data-v-34bd4e86]{display:flex;box-sizing:border-box;width:100%;max-width:280px}.i8-tab[data-v-34bd4e86]{--tab-filled-large-padding:6px 12px;width:50%;text-align:center;transition:all .2s}.i8-dropdown[data-v-34bd4e86]{margin-bottom:16px}.drop-icon[data-v-34bd4e86]{margin-top:3px}.drop-icon[data-v-34bd4e86],.drop-item-icon[data-v-34bd4e86]{width:16px;height:16px;color:transparent}.drop-item-icon[data-v-34bd4e86]{margin-right:5px}.icons-list[data-v-34bd4e86]{display:grid;grid-template-columns:repeat(auto-fill,minmax(32px,1fr));grid-auto-rows:auto;gap:7px;max-height:var(--icons-list-max-height);overflow-y:auto}.icons-list[data-v-34bd4e86]::-webkit-scrollbar{width:4px;position:relative}.icons-list[data-v-34bd4e86]::-webkit-scrollbar-thumb{background:rgba(0,0,0,.15);border:1px solid hsla(0,0%,100%,.3);border-radius:2px}.icons-list__item[data-v-34bd4e86]{width:32px;height:32px;border-radius:4px;padding:5px;box-sizing:border-box;transition:all .3s;cursor:pointer}.icons-list__item[data-v-34bd4e86]:hover{background-color:rgba(0,0,0,.03)}.icons-list__item.active[data-v-34bd4e86]{box-shadow:inset 0 0 0 2px #2186eb}.icons-list__img[data-v-34bd4e86]{width:100%;height:100%}.content-color[data-v-34bd4e86],.control-icons[data-v-34bd4e86]{padding:15px 0;width:100%}.control-icons[data-v-34bd4e86]{padding-bottom:0;--icons-list-max-height:235px;--dropdown-content-maxheight:var(--icons-list-max-height)}.loader[data-v-34bd4e86]{display:flex;align-items:center;justify-content:center;height:100%}",""]),r.locals={},t.exports=r},1228:function(t,e,n){"use strict";n(869)},1229:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".stroke-controls input::-webkit-inner-spin-button,.stroke-controls input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.stroke-controls input[type=number]{-moz-appearance:textfield}",""]),r.locals={},t.exports=r},1230:function(t,e,n){"use strict";n(870)},1231:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".tool-stroke[data-v-874d00ea]{--text-input-width:70px;position:relative;display:flex;flex-direction:column;align-items:center;width:100%;height:100%}.stroke-controls[data-v-874d00ea]{max-width:280px;margin-bottom:16px;gap:16px;--text-input-padding:0 30px 0 12px}.stroke-controls .i8-text-input[data-v-874d00ea]{flex-shrink:0}.stroke-controls .i8-text-input__right-icon[data-v-874d00ea]{-webkit-user-select:none;user-select:none;pointer-events:none;color:var(--c-black_400);top:6px;right:12px}",""]),r.locals={},t.exports=r},1232:function(t,e,n){"use strict";n(872)},1233:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".text input::-webkit-inner-spin-button,.text input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.text input[type=number]{-moz-appearance:textfield}",""]),r.locals={},t.exports=r},1234:function(t,e,n){"use strict";n(873)},1235:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".tool-text[data-v-10a79d8b]{--slider-range-background:var(--c-blue_500);position:relative;display:flex;flex-direction:column;align-items:center;width:100%;height:100%;box-sizing:border-box}.i8-button[data-v-10a79d8b]{min-width:24px}.i8-button.i8-button--disabled[data-v-10a79d8b]{background:transparent;opacity:.3}.i8-tab-group[data-v-10a79d8b],.tabs[data-v-10a79d8b]{display:flex;box-sizing:border-box;width:100%;max-width:280px}.i8-tab[data-v-10a79d8b]{--tab-filled-large-padding:6px 12px;width:50%;text-align:center;transition:all .2s}.text[data-v-10a79d8b]{padding:12px 0;width:100%;max-width:280px;--textarea-container-width:100%;--text-input-width:70px;--textarea-font-size:14px;--text-input-padding:0 28px 0 12px}.text__control[data-v-10a79d8b]{--dropdown-content-width:190px;padding-bottom:4px}.text__textarea[data-v-10a79d8b]{padding-bottom:12px}.text__size[data-v-10a79d8b]{padding-bottom:16px}.text__label[data-v-10a79d8b]{padding-bottom:5px}.text .i8-textarea[data-v-10a79d8b]{width:100%;min-width:100%;max-width:100%;max-height:5em;min-height:2em;padding:10px;font-family:inherit;box-sizing:border-box}.text .i8-text-input__right-icon[data-v-10a79d8b]{-webkit-user-select:none;user-select:none;pointer-events:none;color:var(--c-black_400);top:6px;right:12px}.position[data-v-10a79d8b]{--text-input-width:65px;gap:20px}.position .label[data-v-10a79d8b]{margin-right:8px;margin-bottom:0}.size[data-v-10a79d8b]{gap:16px}.size .i8-text-input[data-v-10a79d8b]{flex-shrink:0}.font-style .i8-icon[data-v-10a79d8b]{width:9px;height:12px}.font-style .i8-button.active[data-v-10a79d8b]{background-color:var(--button-background-color-hover,var(--c-transparent-black_100))}.content-color[data-v-10a79d8b]{padding:15px 0}",""]),r.locals={},t.exports=r},1236:function(t,e,n){"use strict";n(875)},1237:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".rotation-controls input::-webkit-inner-spin-button,.rotation-controls input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.rotation-controls input[type=number]{-moz-appearance:textfield}",""]),r.locals={},t.exports=r},1238:function(t,e,n){"use strict";n(876)},1239:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".tool-rotation[data-v-77be1ec7]{--slider-range-background:var(--c-blue_500);--slider-width:100%;--text-input-width:70px;--dropdown-outline-width:60px;position:relative;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.rotation-controls[data-v-77be1ec7]{width:100%;max-width:280px;margin-bottom:16px;gap:16px;--text-input-padding:0 16px 0 12px}.rotation-controls .i8-text-input__right-icon[data-v-77be1ec7]{-webkit-user-select:none;user-select:none;pointer-events:none;color:var(--c-black_400);top:6px;right:12px}.input-controls[data-v-77be1ec7]{--text-input-width:72px;gap:8px}",""]),r.locals={},t.exports=r},1240:function(t,e,n){"use strict";n(878)},1241:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".position input::-webkit-inner-spin-button,.position input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.position input[type=number]{-moz-appearance:textfield}",""]),r.locals={},t.exports=r},1242:function(t,e,n){"use strict";n(879)},1243:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".tool-position[data-v-490d8601]{width:100%;height:100%;box-sizing:border-box}.tool-position .position[data-v-490d8601]{--text-input-width:72px;gap:20px;--text-input-padding:0 30px 0 12px}.tool-position .position .label[data-v-490d8601]{margin-right:8px;margin-bottom:0}.tool-position .position .i8-text-input__right-icon[data-v-490d8601]{-webkit-user-select:none;user-select:none;pointer-events:none;color:var(--c-black_400);top:6px;right:12px}",""]),r.locals={},t.exports=r},1244:function(t,e,n){"use strict";n(881)},1245:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".padding-controls input::-webkit-inner-spin-button,.padding-controls input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.padding-controls input[type=number]{-moz-appearance:textfield}.padding-controls .i8-dropdown{width:44px;-webkit-user-select:none;user-select:none}.padding-controls .i8-dropdown .i8-icon.active-indicator-icon{display:none}",""]),r.locals={},t.exports=r},1246:function(t,e,n){"use strict";n(882)},1247:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".tool-padding[data-v-bd3fbde4]{--slider-range-background:var(--c-blue_500);--slider-width:100%;--text-input-width:82px;--dropdown-outline-width:60px;position:relative;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.padding-controls[data-v-bd3fbde4]{--text-input-suffix-prefix-top:0;--text-input-suffix-right:0;--dropdown-content-width:50px;--dropdown-label-padding:0 22px 0 6px;--dropdown-font-color:var(--c-black_400);--text-input-padding:0 28px 0 12px;width:100%;max-width:280px;margin-bottom:16px;gap:16px}.input-controls[data-v-bd3fbde4]{gap:8px}",""]),r.locals={},t.exports=r},1248:function(t,e,n){"use strict";n(884)},1249:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".tool-background[data-v-c0294a90]{position:relative;display:flex;justify-content:center;width:100%;height:100%}",""]),r.locals={},t.exports=r},1250:function(t,e,n){"use strict";n(885)},1251:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,'.colors[data-v-2da25b89]{--color-size:34px;--color-gap:5px;--color-columns:1;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;gap:var(--color-gap);padding:3px;margin:-3px;width:calc(var(--color-size)*var(--color-columns) + var(--color-gap) + 2px);max-height:var(--canvas-height);height:auto;box-sizing:content-box;overflow-y:auto;-ms-overflow-style:none;scrollbar-width:none}.colors[data-v-2da25b89]::-webkit-scrollbar{display:none}@media(max-width:480px){.colors[data-v-2da25b89]{width:var(--canvas-size)}}.colors .color[data-v-2da25b89],.colors .color-wrap[data-v-2da25b89]{width:calc(var(--color-size) - 2px);height:calc(var(--color-size) - 2px);border-radius:4px}.colors .color-wrap[data-v-2da25b89]{position:relative;box-shadow:inset 0 0 0 .5px rgba(0,0,0,.2);cursor:pointer;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAADBJREFUOE9jfPbs2X8GPEBSUhKfNAPjqAHDIgz+//+PNx08f/4cfzoYNYCBceiHAQC5flV5JzgrxQAAAABJRU5ErkJggg==")}.colors .color-wrap.active[data-v-2da25b89]{z-index:1}.colors .color-wrap.active[data-v-2da25b89]:before{opacity:1}.colors .color-wrap[data-v-2da25b89]:hover:after{opacity:.08}.colors .color-wrap[data-v-2da25b89]:active:after{opacity:.26}.colors .color-wrap[data-v-2da25b89]:before{width:var(--color-size);height:var(--color-size);top:-1px;left:-1px;border-radius:4px;border:1px solid #fff;box-shadow:0 0 0 2px var(--c-blue_500)}.colors .color-wrap[data-v-2da25b89]:after,.colors .color-wrap[data-v-2da25b89]:before{content:"";position:absolute;box-sizing:border-box;opacity:0;transition:all .2s}.colors .color-wrap[data-v-2da25b89]:after{width:calc(var(--color-size) - 2px);height:calc(var(--color-size) - 2px);top:0;left:0;border-radius:4px;background-color:#000}.colors .show-all[data-v-2da25b89]{background-color:#fff}.colors .i8-icon[data-v-2da25b89]{width:16px;height:4px;fill:var(--c-black_500)}',""]),r.locals={},t.exports=r},1252:function(t,e,n){"use strict";n(886)},1253:function(t,e,n){var r=n(4)((function(i){return i[1]}));r.push([t.i,".tool-recolor[data-v-1fb12be9]{position:relative;display:flex;justify-content:center;width:100%;height:100%}",""]),r.locals={},t.exports=r},1418:function(t,e,n){"use strict";n.d(e,"a",(function(){return at}));var r={};n.r(r),n.d(r,"cielab",(function(){return C})),n.d(r,"cielch",(function(){return k})),n.d(r,"cieluv",(function(){return O})),n.d(r,"cmyk",(function(){return j})),n.d(r,"csshsl",(function(){return M})),n.d(r,"cssrgb",(function(){return z})),n.d(r,"hex",(function(){return T})),n.d(r,"hsl",(function(){return A})),n.d(r,"hsluv",(function(){return L})),n.d(r,"hsv",(function(){return B})),n.d(r,"lms",(function(){return N})),n.d(r,"rgb",(function(){return W})),n.d(r,"xyY",(function(){return J})),n.d(r,"XYZ",(function(){return V})),n.d(r,"yiq",(function(){return Q}));var o={A:{X:1.0985*100,Y:100,Z:35.585},B:{X:99.072,Y:100,Z:85.223},C:{X:98.074,Y:100,Z:118.232},D50:{X:96.422,Y:100,Z:82.521},D55:{X:95.682,Y:100,Z:92.149},D65:{X:95.047,Y:100,Z:108.883},D75:{X:94.972,Y:100,Z:122.638},E:{X:100,Y:100,Z:100},F2:{X:.99186*100,Y:100,Z:67.393},F7:{X:95.041,Y:100,Z:108.747},F11:{X:1.00962*100,Y:100,Z:64.35}};function c(t){return o[t]}var l={BRADFORD:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],INVERSE_BRADFORD:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]],SRGB_XYZ:[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],INVERSE_SRGB_XYZ:[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]]};function h(t){return l[t]}const d=function(t,e){const n=new Set(Object.keys(t));return e.every((t=>n.has(t)))},f=(t,e)=>"string"==typeof t&&t.slice(0,e.length)===e;var _={hex:t=>f(t,"#"),rgb:t=>d(t,["r","g","b"]),cssrgb:t=>f(t,"rgb("),hsl:t=>d(t,["h","s","l"]),csshsl:t=>f(t,"hsl("),hsv:t=>d(t,["h","s","v"]),cmyk:t=>d(t,["c","m","y","k"]),yiq:t=>d(t,["y","i","q"]),XYZ:t=>d(t,["X","Y","Z"]),xyY:t=>d(t,["x","y","Y"]),lms:t=>d(t,["rho","gamma","beta"]),cielab:t=>d(t,["L","a","b"]),cieluv:t=>d(t,["L","u","v"]),cielch:t=>d(t,["L","C","h"]),hsluv:t=>d(t,["hu","s","l"])};const v=Object.keys(_);const m=.008856,x=903.3,y=c("D65"),w=t=>Math.pow(t,3)>m?Math.pow(t,3):(116*t-16)/x;var C={XYZ:t=>{const e=(t.L+16)/116,n=t.a/500+e,r=e-t.b/200,o=w(n),c=w(r),l=t.L>7.9996247999999985?Math.pow(e,3):t.L/x;return{X:o*y.X,Y:l*y.Y,Z:c*y.Z}}};function S(t){return t*(Math.PI/180)}var k={cieluv:t=>{const e=S(t.h),u=t.C*Math.cos(e),n=t.C*Math.sin(e);return{L:t.L,u:u,v:n}},hsluv:t=>{if(t.L>99.9999999)return{hu:t.h,s:0,l:100};if(t.L<1e-8)return{hu:t.h,s:0,l:0};const e=(t.L+16)/1560896,n=e>.008856?e:t.L/903.3,r=h("INVERSE_SRGB_XYZ");let o=[];for(let e=0;e<3;e++){let c=r[e][0],l=r[e][1],h=r[e][2];for(let e=0;e<2;e++){let r=(284517*c-94839*h)*n,d=(838422*h+769860*l+731718*c)*t.L*n-769860*e*t.L,f=(632260*h-126452*l)*n+126452*e;o.push({m:r/f,b:d/f})}}var c=Number.MAX_VALUE;let l=S(t.h);o.forEach((t=>{let e=t.b/(Math.sin(l)-t.m*Math.cos(l));e>=0&&(c=Math.min(c,e))}));let d=c;return{hu:t.h,s:t.C/d*100,l:t.L}}};var O={XYZ:t=>{const e=c("D65"),n=4*(r=e).X/(r.X+15*r.Y+3*r.Z);var r;const o=(t=>9*t.Y/(t.X+15*t.Y+3*t.Z))(e),a=1/3*(52*t.L/(t.u+13*t.L*n)-1),l=t.L>903.3*.008856?Math.pow((t.L+16)/116,3):t.L/903.3,b=-5*l,h=(l*(39*t.L/(t.v+13*t.L*o)-5)-b)/(a- -1/3);return{X:100*h,Y:100*l,Z:100*(h*a+b)}},cielch:t=>{const e=Math.sqrt(Math.pow(t.u,2)+Math.pow(t.v,2));let n=Math.atan2(t.v,t.u);return n<0&&(n+=2*Math.PI),n=n*(180/Math.PI),{L:t.L,C:e,h:n}}};const I=t=>({r:255*(1-t.c)*(1-t.k),g:255*(1-t.m)*(1-t.k),b:255*(1-t.y)*(1-t.k)});var j={rgb:I,cssrgb:t=>{const{r:e,g:g,b:b}=I(t);return"rgb("+Math.round(e)+","+Math.round(g)+","+Math.round(b)+")"}},M={hsl:t=>{const e=t.replace(/(hsl\(|\)|%|[\s]*)/g,"").split(",").map((t=>parseInt(t,10)));return{h:e[0],s:e[1],l:e[2]}}},z={rgb:t=>{const e=t.replace(/((rgb\(|\))|[\s]*)/g,"").split(",").map((t=>parseInt(t,10)));return{r:e[0],g:e[1],b:e[2]}}},T={rgb:t=>{const e=t.replace("#","").match(/.{2}/g).map((t=>parseInt(t,16)));return{r:e[0],g:e[1],b:e[2]}}};function P(t,e){return(t%e+e)%e}var A={rgb:t=>{if(0===t.s){var e=t.l/100*255;return{r:e,g:e,b:e}}var n,r,o;n=t.l>=50?t.l/100+t.s/100-t.l/100*(t.s/100):t.l/100*(1+t.s/100),r=t.l/100*2-n;var c,g,b,l=((o=t.h/360)+.333)%1,h=o,d=P(o-.333,1);return(c=6*l<1?r+6*(n-r)*l:2*l<1?n:3*l<2?r+6*(.666-l)*(n-r):r)<0&&(c=0),(g=6*h<1?r+6*(n-r)*h:2*h<1?n:3*h<2?r+6*(.666-h)*(n-r):r)<0&&(g=0),(b=6*d<1?r+6*(n-r)*d:2*d<1?n:3*d<2?r+6*(.666-d)*(n-r):r)<0&&(b=0),{r:255*c,g:255*g,b:255*b}},csshsl:t=>"hsl("+Math.round(t.h)+","+Math.round(t.s)+"%,"+Math.round(t.l)+"%)",hsv:t=>{const e=Object.assign({},t,{s:t.s/100,l:t.l/100});var n=e.s*(e.l<.5?e.l:1-e.l);return{h:e.h,s:100*(2*n/(e.l+n)),v:100*(e.l+n)}}},L={cielch:t=>{if(t.L>99.9999999)return{L:100,C:0,h:t.hu};if(t.L<1e-8)return{L:0,C:0,h:t.hu};const e=(t.l+16)/1560896,n=e>.008856?e:t.l/903.3,r=h("INVERSE_SRGB_XYZ");let o=[];for(let e=0;e<3;e++){let c=r[e][0],l=r[e][1],h=r[e][2];for(let e=0;e<2;e++){let r=(284517*c-94839*h)*n,d=(838422*h+769860*l+731718*c)*t.l*n-769860*e*t.l,f=(632260*h-126452*l)*n+126452*e;o.push({m:r/f,b:d/f})}}var c=Number.MAX_VALUE;let l=S(t.hu);o.forEach((t=>{let e=t.b/(Math.sin(l)-t.m*Math.cos(l));e>=0&&(c=Math.min(c,e))}));let d=c;return{L:t.l,C:d/100*t.s,h:t.hu}}},B={hsl:t=>{const e=Object.assign({},t,{h:t.h/360,s:t.s/100,v:t.v/100});let s,n=e.h;return s=(2-e.s)*e.v<1?e.s*e.v/((2-e.s)*e.v):e.s*e.v/(2-(2-e.s)*e.v),{h:360*n,s:100*s,l:100*((2-e.s)*e.v/2)}}},N={XYZ:t=>{const e=[t.rho,t.gamma,t.beta],n=h("INVERSE_BRADFORD").map((t=>e.reduce(((e,n,r)=>t[r]*n+e),0)));return{X:100*n[0],Y:100*n[1],Z:100*n[2]}}};function R(t,e){return t<e[0]?t=e[0]:t>e[1]&&(t=e[1]),t}const E=t=>R(t,[0,255]);function D(t){if(Math.cbrt)return Math.cbrt(t);var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e}const $=.008856,F=c("D65");var V={rgb:t=>{let e=[t.X,t.Y,t.Z].map((t=>t/100)),n=h("INVERSE_SRGB_XYZ").map((t=>e.reduce(((e,n,r)=>t[r]*n+e),0))),[r,g,b]=n.map((t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)).map((t=>255*t));return function(t){return{r:E(t.r),g:E(t.g),b:E(t.b)}}({r:r,g:g,b:b})},lms:t=>{let e=[t.X,t.Y,t.Z].map((t=>t/100)),n=h("BRADFORD").map((t=>e.reduce(((e,n,r)=>t[r]*n+e),0)));return{rho:n[0],gamma:n[1],beta:n[2]}},cielab:t=>{const e=t.X/F.X,n=t.Y/F.Y,r=t.Z/F.Z,o=t=>t>$?D(t):(903.3*t+16)/116,c=o(e),l=o(n);return{L:116*l-16,a:500*(c-l),b:200*(l-o(r))}},cieluv:t=>{const e=t.Y/F.Y,n=e>$?116*D(e)-16:903.3*e,r=t=>4*t.X/(t.X+15*t.Y+3*t.Z),o=t=>9*t.Y/(t.X+15*t.Y+3*t.Z);return{L:n,u:13*n*(r(t)-r(F)),v:13*n*(o(t)-o(F))}},xyY:t=>({x:t.X/(t.X+t.Y+t.Z),y:t.Y/(t.X+t.Y+t.Z),Y:t.Y})};const{lms:H,cielab:Z,cieluv:Y,xyY:X}=V,G=t=>{var s,e,n=t.r/255,g=t.g/255,b=t.b/255,r=[n,g,b].sort(),o=(r[0]+r[2])/2*100;return r[0]===r[2]?(s=0,e=0):(s=o>=50?(r[2]-r[0])/(2-r[2]-r[0])*100:(r[2]-r[0])/(r[2]+r[0])*100,(e=r[2]===n?(g-b)/(r[2]-r[0])*60:r[2]===g?60*(2+(b-n)/(r[2]-r[0])):60*(4+(n-g)/(r[2]-r[0])))<0?e+=360:e>360&&(e%=360)),{h:e,s:s,l:o}},U=t=>{let e=[t.r,t.g,t.b].map((t=>t/255)).map((t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4))),n=h("SRGB_XYZ"),[r,o,c]=n.map((t=>e.reduce(((e,n,r)=>t[r]*n+e),0))).map((t=>100*t));return{X:r,Y:o,Z:c}};var W={hex:t=>{var e=Math.round(t.r).toString(16);1===e.length&&(e="0"+e);var g=Math.round(t.g).toString(16);1===g.length&&(g="0"+g);var b=Math.round(t.b).toString(16);return 1===b.length&&(b="0"+b),"#"+e+g+b},cssrgb:t=>"rgb("+Math.round(t.r)+","+Math.round(t.g)+","+Math.round(t.b)+")",hsl:G,csshsl:t=>{var{h:e,s:s,l:n}=G(t);return"hsl("+Math.round(e)+","+Math.round(s)+"%,"+Math.round(n)+"%)"},cmyk:t=>{var e=t.r/255,n=t.g/255,r=t.b/255,o=1-Math.max(e,n,r);return 1!==o?{c:(1-e-o)/(1-o),m:(1-n-o)/(1-o),y:(1-r-o)/(1-o),k:o}:{c:0,m:0,y:0,k:o}},yiq:t=>{var e=t.r/255*.299+t.g/255*.587+t.b/255*.114,i=t.r/255*.596+t.g/255*-.274+t.b/255*-.322,q=t.r/255*.211+t.g/255*-.523+t.b/255*.312;return{y:e,i:i=R(i,[-.5957,.5957]),q:q=R(q,[-.5226,.5226])}},XYZ:U,lms:t=>H(U(t)),cielab:t=>Z(U(t)),cieluv:t=>Y(U(t)),xyY:t=>X(U(t))},J={XYZ:t=>{const{x:e,y:n,Y:r}=t;return{X:r/n*e,Y:r,Z:r/n*(1-e-n)}}};const K=t=>R(t,[0,255]);var Q={rgb:t=>{const i=R(t.i,[-.5957,.5957]),q=R(t.q,[-.5226,.5226]);return{r:255*K(t.y+.956*i+.621*q),g:255*K(t.y+-.272*i+-.647*q),b:255*K(t.y+-1.106*i+-1.703*q)}}};const tt={rgb:{default:"XYZ",csshsl:"hsl",hsv:"hsl"},hex:"rgb",hsl:"rgb",hsv:"hsl",csshsl:"hsl",cssrgb:"rgb",cmyk:"rgb",XYZ:{default:"rgb",cielch:"cieluv",hsluv:"cieluv"},xyY:"XYZ",lms:"XYZ",cieluv:{default:"XYZ",hsluv:"cielch"},cielch:"cieluv",cielab:"XYZ",yiq:"rgb",hsluv:"cielch"};function et(t,e,n){if(void 0===e)throw new Error("No value provided");const o=n||function(t){const e=v.find((e=>_[e](t)));if(!e)throw new Error("No type found for color "+t);return e}(e);if(o===t)return e;if(r[o][t])return nt(o,t,e);const c=tt[o],l="string"==typeof c?c:c[t]||c.default;return et(t,nt(o,l,e),l)}const nt=(t,e,n)=>r[t][e](n),it=Object.keys(_);function st(t){const object={};return it.forEach((e=>{Object.defineProperty(object,e,{get:()=>ot(e,t),enumerable:!0})})),object}const ot=(t,e)=>Array.isArray(e)?e.map((e=>et(t,e))):et(t,e);function at(t,e){var n=et("hsl",e);return n.l+=t,n.l<0?n.l=0:n.l>100&&(n.l=100),st(n)}},1420:function(t,e,n){"use strict";var r=n(2),o=n(619),c=Object(r.defineComponent)({name:"EditorCanvas",props:{svg:{type:String,require:!0,default:null},whiteBg:{type:Boolean,default:!1},centered:{type:Boolean,default:!0}},data:()=>({project:null,canvas:{}}),mounted(){this.initIcon()},methods:{initIcon(){const t=this.getSvgElement(this.svg);this.canvas={...t,svg:void 0},this.$nextTick((()=>{const canvas=this.$refs.canvas;this.project=Object(o.h)(canvas,t.svg,this.canvas,this.whiteBg,this.centered),null===this.project?this.$emit("loadError"):this.$emit("loaded",{id:this.project,size:this.canvas})}))},getSvgElement(svg,t){if(void 0===svg&&(svg=null),void 0===t&&(t=256),!svg)return null;let div=document.createElement("div");div.innerHTML=svg;let e=div.querySelector("svg"),n=e.getAttribute("width"),r=e.getAttribute("height"),o=null,c=null,l=e.getAttribute("viewBox"),h=null,d=null,f=null;if(!l)return null;try{h=l.split(" ").map((t=>Number(t)))}catch(t){throw console.error(`Incorrect SVG viewbox: "${l}"`),t}if(n||(n=h[2]+"px"),r||(r=h[3]+"px"),n&&(o=Number(n.replace(/[^0-9\.]+/g,""))),r&&(c=Number(r.replace(/[^0-9\.]+/g,""))),!r||!n)return console.error("Error size icon!"),null;const _=o>c?"width":o<c?"height":null;if(t&&"width"===_){d=t,f=t*(c/o||1),e.setAttribute("width",d),e.setAttribute("height",f)}if(t&&"height"===_){const n=o/c||1;d=t*n,f=t,e.setAttribute("height",t),e.setAttribute("width",t*n)}return t&&!_&&(e.setAttribute("height",t),e.setAttribute("width",t),d=t,f=t),e.setAttribute("overflow","visible"),{svg:e,iconWidth:n,iconWidthNumber:o,iconHeight:r,iconHeightNumber:c,canvasWidth:d,canvasHeight:f,mainDirection:_,iconViewbox:l,iconViewboxNumber:h}}}}),l=(n(1198),n(3)),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"editor-canvas",style:{"--canvas-width":`${t.canvas.canvasWidth||0}px`,"--canvas-height":`${t.canvas.canvasHeight||0}px`}},[e("div",{staticClass:"editor-canvas__side-left"},[t._t("side-left")],2),t._v(" "),e("canvas",{ref:"canvas",staticClass:"editor-canvas__canvas"}),t._v(" "),e("div",{staticClass:"editor-canvas__side-right"},[e("transition",{attrs:{name:"fade"}},[t._t("side-right")],2)],1)])}),[],!1,null,"92c4628e",null);e.a=component.exports},1421:function(t,e,n){"use strict";var r=n(2),o=n(627),c=n(656),l=n(862),h=n(13),d=n(657),f=Object(r.defineComponent)({name:"ToolShape",components:{I8SliderV2:d.a,RecolorChrome:c.a,I8TextInput:h.p,I8TabGroup:h.o,I8Tab:h.n,I8Switch:h.m},props:{project:{type:Number,require:!0,default:null},fontPath:{type:String,default:""},text:{type:Object,default:null}},data:()=>({activeTab:"shape",controls:{radius:null,size:null,color:null,filled:null,stroke:{value:null,min:1,max:10}},limits:{size:{min:10,max:100},radius:{min:0,max:100}},isLoading:!1}),watch:{activeTab(t){"color"===t&&this.$nextTick(this.initChrome)}},mounted(){this.setMinMax(),this.$nextTick((()=>{o.a.$on(`effect__reset:${this.project}`,this.reset)})),this.controls=Object(l.b)(this.project),o.a.$emit(`effect__change:${this.project}`)},beforeDestroy(){o.a.$off(`effect__reset:${this.project}`)},methods:{initChrome(){!!this.$refs.chrome&&!!this.$refs.chrome.choseColor&&this.$refs.chrome.choseColor(this.controls.color)},setTab(t){this.activeTab=t},changeFilled(){this.controls.filled=!this.controls.filled,Object(l.d)(this.project),o.a.$emit(`effect__change:${this.project}`)},changeStroke(t){const e=this.controls.stroke.max,n=this.controls.stroke.min;let r=Math.floor(t);r>e&&(r=e),r<n&&(r=n),this.controls.stroke.value=r,Object(l.d)(this.project),o.a.$emit(`effect__change:${this.project}`)},changeSize(t){const e=this.limits.size.max,n=this.limits.size.min;let r=Math.floor(t);r>e&&(r=e),r<n&&(r=n),this.controls.size=r,Object(l.d)(this.project),o.a.$emit(`effect__change:${this.project}`)},changeRadius(t){const e=this.limits.radius.max,n=this.limits.radius.min;let r=Math.floor(t);r>e&&(r=e),r<n&&(r=n),this.controls.radius=r,Object(l.d)(this.project),o.a.$emit(`effect__change:${this.project}`)},changeColor(t){Object(l.a)(this.project,t),o.a.$emit(`effect__change:${this.project}`)},setMinMax(){const t=this.$refs.inputStroke?this.$refs.inputStroke.$refs.input:null,e=this.$refs.inputSize?this.$refs.inputSize.$refs.input:null,n=this.$refs.inputRadius?this.$refs.inputRadius.$refs.input:null;t&&(t.setAttribute("min",this.controls.stroke.min),t.setAttribute("max",this.controls.stroke.max)),e&&(e.setAttribute("min",this.limits.size.min),e.setAttribute("max",this.limits.size.max)),n&&(n.setAttribute("min",this.limits.radius.min),n.setAttribute("max",this.limits.radius.max))},reset(){this.controls=Object(l.c)(this.project),o.a.$emit(`effect__change:${this.project}`)}}}),_=(n(1218),n(1220),n(3)),component=Object(_.a)(f,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"tool-shape"},[e("div",{staticClass:"tabs flex"},[e("I8TabGroup",{attrs:{type:"filled",size:"large"}},[e("I8Tab",{attrs:{active:"shape"===t.activeTab,type:"filled",size:"large"},on:{click:function(e){return t.setTab("shape")}}},[t._v("\n        "+t._s(t.text&&t.text.tabShape?t.text.tabShape:"Shape")+"\n      ")]),t._v(" "),e("I8Tab",{attrs:{active:"color"===t.activeTab,type:"filled",size:"large"},on:{click:function(e){return t.setTab("color")}}},[t._v("\n        "+t._s(t.text&&t.text.tabColor?t.text.tabColor:"Color")+"\n      ")])],1)],1),t._v(" "),t.controls&&"shape"===t.activeTab?e("div",{staticClass:"shape"},[e("div",{staticClass:"shape__size"},[e("I8Switch",{staticClass:"shape__switch",attrs:{value:t.controls.filled},on:{input:t.changeFilled}},[t._v("\n        "+t._s(t.text&&t.text.labelFilled?t.text.labelFilled:"Filled")+"\n      ")]),t._v(" "),e("I8Switch",{staticClass:"shape__switch",attrs:{value:!t.controls.filled},on:{input:t.changeFilled}},[t._v("\n        "+t._s(t.text&&t.text.labelStroke?t.text.labelStroke:"Stroke")+"\n      ")])],1),t._v(" "),t.controls.filled?t._e():e("div",{staticClass:"shape__size"},[e("div",{staticClass:"label"},[t._v("\n        "+t._s(t.text&&t.text.labelStrokeSize?t.text.labelStrokeSize:"Stroke size")+"\n      ")]),t._v(" "),e("div",{staticClass:"size flex center"},[e("I8TextInput",{ref:"inputStroke",attrs:{placeholder:"",type:"number"},on:{input:t.changeStroke},scopedSlots:t._u([{key:"icon-right",fn:function(){return[e("span",{staticClass:"i8-text-input__right-icon"},[t._v("px")])]},proxy:!0}],null,!1,1495477586),model:{value:t.controls.stroke.value,callback:function(e){t.$set(t.controls.stroke,"value",e)},expression:"controls.stroke.value"}}),t._v(" "),e("I8SliderV2",{attrs:{value:+t.controls.stroke.value,min:t.controls.stroke.min,max:t.controls.stroke.max},on:{input:t.changeStroke}})],1)]),t._v(" "),e("div",{staticClass:"shape__size"},[e("div",{staticClass:"label"},[t._v("\n        "+t._s(t.text&&t.text.labelSize?t.text.labelSize:"Size")+"\n      ")]),t._v(" "),e("div",{staticClass:"size flex center"},[e("I8TextInput",{ref:"inputSize",attrs:{placeholder:"",type:"number"},on:{input:t.changeSize},scopedSlots:t._u([{key:"icon-right",fn:function(){return[e("span",{staticClass:"i8-text-input__right-icon"},[t._v("%")])]},proxy:!0}],null,!1,2894677823),model:{value:t.controls.size,callback:function(e){t.$set(t.controls,"size",e)},expression:"controls.size"}}),t._v(" "),e("I8SliderV2",{attrs:{value:+t.controls.size,min:t.limits.size.min,max:t.limits.size.max},on:{input:t.changeSize}})],1)]),t._v(" "),e("div",{staticClass:"shape__size"},[e("div",{staticClass:"label"},[t._v("\n        "+t._s(t.text&&t.text.labelRadius?t.text.labelRadius:"Corner radius")+"\n      ")]),t._v(" "),e("div",{staticClass:"size flex center"},[e("I8TextInput",{ref:"inputRadius",attrs:{placeholder:"",type:"number"},on:{input:t.changeRadius},scopedSlots:t._u([{key:"icon-right",fn:function(){return[e("span",{staticClass:"i8-text-input__right-icon"},[t._v("%")])]},proxy:!0}],null,!1,2894677823),model:{value:t.controls.radius,callback:function(e){t.$set(t.controls,"radius",e)},expression:"controls.radius"}}),t._v(" "),e("I8SliderV2",{attrs:{value:+t.controls.radius,min:t.limits.radius.min,max:t.limits.radius.max},on:{input:t.changeRadius}})],1)])]):t._e(),t._v(" "),"color"===t.activeTab?e("div",{staticClass:"content-color"},[e("RecolorChrome",{ref:"chrome",on:{changeColor:t.changeColor}})],1):t._e()])}),[],!1,null,"d5d1ad12",null);e.a=component.exports},1422:function(t,e,n){"use strict";var r=n(2),o=n(627),c=n(656),l=n(687),h=n(13),d=n(657),f=Object(r.defineComponent)({name:"ToolOverlay",components:{RecolorChrome:c.a,I8Dropdown:h.e,I8TabGroup:h.o,I8Tab:h.n,I8DropdownItem:h.f,I8Loader:h.j,I8TextInput:h.p,I8SliderV2:d.a,I8Checkbox:h.c},props:{project:{type:Number,require:!0,default:null},text:{type:Object,default:null},iconStyle:{type:String,default:void 0}},data:()=>({rootPath:"https://s3.us-east-2.amazonaws.com/icons8.plugins/iconizer",activeTab:"icons",selectStyle:null,controls:{icon:null,styleList:null,isColor:null,color:null,posX:null,posY:null,size:{value:null,min:null,max:null},hasBackground:null},styleInfo:null}),computed:{styleList(){if(!this.controls.styleList||!this.styleInfo)return null;const t=[];for(const e in this.controls.styleList){let n=e;"clr_gls"===e&&(n="clr-gls"),"glyph_neue"===e&&(n="glyph-neue"),"wired"===e&&(n="Dusk_Wired"),"fluent_systems"===e&&(n="fluent-systems-filled");const title=this.styleInfo[n]?this.styleInfo[n].title:n,r=!!this.styleInfo[n]&&this.styleInfo[n].isColor;t.push({platform:n,name:e,value:title,isColor:r})}return t}},async mounted(){this.$nextTick((()=>{o.a.$on(`effect__reset:${this.project}`,this.reset)})),Object(l.g)(this.project,this.rootPath).then((t=>{this.controls=t,this.queryInfo().then((t=>{let e;t.success&&t.platforms&&(this.styleInfo=t.platforms),this.iconStyle&&(e=this.styleList.find((style=>style.platform===this.iconStyle))),e?this.selectStyle=e:this.styleList[0]&&this.setStyle(this.styleList[0].value),o.a.$emit(`effect__change:${this.project}`)}))}))},beforeDestroy(){Object(l.e)(this.project),o.a.$off(`effect__reset:${this.project}`)},methods:{initChrome(){!!this.$refs.chrome&&!!this.$refs.chrome.choseColor&&this.$refs.chrome.choseColor(this.controls.color)},setTab(t){this.activeTab=t,"color"===t&&this.$nextTick(this.initChrome)},setStyle(style){this.selectStyle=this.styleList.find((t=>t.value===style))},changeSize(t){let e=Math.floor(Number(t));e>this.controls.size.max&&(e=this.controls.size.max),e<this.controls.size.min&&(e=this.controls.size.min),this.controls.size.value=e,Object(l.d)(this.project,e),o.a.$emit(`effect__change:${this.project}`)},toggleOverlayBackground(t){t?(Object(l.a)(this.project),this.controls.hasBackground=!0):(Object(l.f)(this.project),this.controls.hasBackground=!1)},changeColor(t){Object(l.c)(this.project,t),o.a.$emit(`effect__change:${this.project}`)},reset(){this.controls=Object(l.h)(this.project),o.a.$emit(`effect__change:${this.project}`)},async loadIcon(t){try{const e=await fetch(`${this.rootPath}${t}`,{method:"GET",mode:"cors",cache:"no-cache",headers:{Origin:window.location.origin}}),n=await e.text(),r=this.getSvgElement(n);return Object(l.b)(this.project,r,t,this.selectStyle.isColor),o.a.$emit(`effect__change:${this.project}`),n}catch(t){throw console.error("Error query icon",t),t}},getSvgElement(svg,t){void 0===svg&&(svg=null),void 0===t&&(t=50);let e=null,n=null,div=document.createElement("div");div.innerHTML=svg;let r=div.querySelector("svg"),o=r.getAttribute("viewBox");n||(n=+o.split(" ")[2]),e||(e=+o.split(" ")[3]),n||(n=+o.split(",")[2]),e||(e=+o.split(",")[3]);const c=n>e?"width":n<e?"height":null,l=t;if(l&&"width"===c){const t=e/n||1;r.setAttribute("width",l),r.setAttribute("height",l*t)}if(l&&"height"===c){const t=n/e||1;r.setAttribute("height",l),r.setAttribute("width",l*t)}return l&&!c&&(r.setAttribute("height",l),r.setAttribute("width",l)),r.setAttribute("overflow","visible"),r},async queryInfo(){try{const t=await fetch("https://api-icons-stage.icons8.com/siteApi/icons-info");return await t.json()}catch(t){throw console.error("Error query icons-info",t),t}}}}),_=(n(1224),n(1226),n(3)),component=Object(_.a)(f,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"tool-overlay"},[e("div",{staticClass:"flex col"},[e("div",{staticClass:"label"},[t._v("\n      "+t._s(t.text&&t.text.labelSize?t.text.labelSize:"Subicon size")+"\n    ")]),t._v(" "),e("div",{staticClass:"overlay-controls flex center"},[e("I8TextInput",{ref:"inputWidth",attrs:{value:t.controls.size.value,placeholder:"",type:"number"},on:{input:t.changeSize},scopedSlots:t._u([{key:"icon-right",fn:function(){return[e("span",{staticClass:"i8-text-input__right-icon"},[t._v(t._s("px"))])]},proxy:!0}])}),t._v(" "),e("I8SliderV2",{attrs:{value:+t.controls.size.value,width:200,min:t.controls.size.min,max:t.controls.size.max,step:1},on:{input:t.changeSize}})],1)]),t._v(" "),e("div",{staticClass:"overlay-controls align-self-start flex"},[e("I8Checkbox",{staticStyle:{"user-select":"none"},attrs:{checked:t.controls.hasBackground},on:{change:t.toggleOverlayBackground}},[t._v("\n      "+t._s("Subicon background")+"\n    ")])],1),t._v(" "),e("div",{staticClass:"tabs flex"},[e("I8TabGroup",{attrs:{type:"filled",size:"large"}},[e("I8Tab",{attrs:{active:"icons"===t.activeTab,type:"filled",size:"large"},on:{click:function(e){return t.setTab("icons")}}},[t._v("\n        "+t._s(t.text&&t.text.tabIcons?t.text.tabIcons:"Icons")+"\n      ")]),t._v(" "),e("I8Tab",{attrs:{active:"color"===t.activeTab,type:"filled",size:"large",disabled:t.controls&&t.controls.isColor},on:{click:function(e){return t.setTab("color")}}},[t._v("\n        "+t._s(t.text&&t.text.tabColor?t.text.tabColor:"Color")+"\n      ")])],1)],1),t._v(" "),t.selectStyle?t._e():e("div",{staticClass:"loader"},[e("I8Loader",{attrs:{size:32}})],1),t._v(" "),"icons"===t.activeTab?e("div",{staticClass:"control-icons"},[t.selectStyle?e("I8Dropdown",{attrs:{value:t.selectStyle.value||"loading...",cleanable:!1,disabled:!t.selectStyle,mode:"outline"},scopedSlots:t._u([{key:"leftIcon",fn:function(){return[e("img",{staticClass:"drop-icon",attrs:{src:`https://img.icons8.com/${t.selectStyle.platform}/2x/home.png`,alt:t.selectStyle.value+" home"}})]},proxy:!0},{key:"default",fn:function(){return t._l(t.styleList,(function(style){return e("I8DropdownItem",{key:style.name,on:{choose:function(e){return t.setStyle(style.value)}}},[e("img",{staticClass:"drop-item-icon",attrs:{src:`https://img.icons8.com/${style.platform}/2x/home.png`,alt:style.value+" home"}}),t._v("\n          "+t._s(style.value)+"\n        ")])}))},proxy:!0}],null,!1,3707702243)}):t._e(),t._v(" "),t.controls&&t.controls.styleList&&t.selectStyle?e("div",{staticClass:"icons-list"},t._l(t.controls.styleList[t.selectStyle.name],(function(n,i){return e("div",{key:n+i,class:["icons-list__item",{active:t.controls.icon===n}],on:{click:function(e){return t.loadIcon(n)}}},[e("img",{staticClass:"icons-list__img",attrs:{src:`${t.rootPath}${n}`,alt:n}})])})),0):t._e()],1):t._e(),t._v(" "),"color"===t.activeTab?e("div",{staticClass:"content-color"},[e("RecolorChrome",{ref:"chrome",on:{changeColor:t.changeColor}})],1):t._e()])}),[],!1,null,"34bd4e86",null);e.a=component.exports},1423:function(t,e,n){"use strict";var r=n(2),o=n(627),c=n(656),l=n(688),h=n(13),d=n(657),f=Object(r.defineComponent)({name:"ToolStroke",components:{I8SliderV2:d.a,RecolorChrome:c.a,I8TextInput:h.p},props:{project:{type:Number,require:!0,default:null},text:{type:Object,default:null}},data:()=>({controls:{width:10,color:null,min:0,max:40}}),computed:{min(){return this.controls.min},max(){return this.controls.max}},mounted(){this.$nextTick((()=>{o.a.$on(`effect__reset:${this.project}`,this.reset)})),this.controls=Object(l.h)(this.project),this.initStroke(),o.a.$emit(`effect__change:${this.project}`)},beforeDestroy(){o.a.$off(`effect__reset:${this.project}`)},methods:{initStroke(){if(this.controls.color){!!this.$refs.chrome&&!!this.$refs.chrome.choseColor&&this.$refs.chrome.choseColor(this.controls.color)}this.setMinMax()},changeColor(t){const e=Object(l.c)(this.project,t);0===this.controls.width&&0!==e.width&&(this.controls.width=e.width),o.a.$emit(`effect__change:${this.project}`)},changeWidth(t){let e=Math.floor(Number(t));e>this.max&&(e=this.max),e<this.min&&(e=this.min),this.controls.width=e,Object(l.d)(this.project,e),o.a.$emit(`effect__change:${this.project}`)},setMinMax(){const t=this.$refs.inputWidth?this.$refs.inputWidth.$refs.input:null;t&&(t.setAttribute("min",this.min),t.setAttribute("max",this.max))},reset(){this.controls=Object(l.i)(this.project),o.a.$emit(`effect__change:${this.project}`)}}}),_=(n(1228),n(1230),n(3)),component=Object(_.a)(f,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"tool-stroke"},[e("div",{staticClass:"flex col"},[e("div",{staticClass:"label"},[t._v("\n      "+t._s(t.text&&t.text.labelSize?t.text.labelSize:"Stroke size")+"\n    ")]),t._v(" "),e("div",{staticClass:"stroke-controls flex center"},[e("I8TextInput",{ref:"inputWidth",attrs:{value:t.controls.width,placeholder:"",type:"number"},on:{input:t.changeWidth},scopedSlots:t._u([{key:"icon-right",fn:function(){return[e("span",{staticClass:"i8-text-input__right-icon"},[t._v("px")])]},proxy:!0}])}),t._v(" "),t.controls?e("I8SliderV2",{attrs:{value:t.controls.width,width:200,min:t.min,max:t.max,step:1},on:{input:t.changeWidth}}):t._e()],1)]),t._v(" "),e("RecolorChrome",{ref:"chrome",on:{changeColor:t.changeColor}})],1)}),[],!1,null,"874d00ea",null);e.a=component.exports},1424:function(t,e,n){"use strict";var r=n(2),o=n(627),c=n(656),l=n(871),h=n(13),d=n(657),f=Object(r.defineComponent)({name:"ToolText",components:{I8SliderV2:d.a,RecolorChrome:c.a,I8Button:h.b,I8Dropdown:h.e,I8TextInput:h.p,I8TabGroup:h.o,I8Tab:h.n,I8DropdownItem:h.f,I8Icon:h.h},props:{project:{type:Number,require:!0,default:null},fontPath:{type:String,default:""},text:{type:Object,default:null}},data:()=>({activeTab:"text",controls:{text:null,font:null,color:null,size:{value:null,min:1,max:16},posX:null,posY:null},fontsList:[{name:"Roboto",value:"Roboto"},{name:"Roboto Condensed",value:"RobotoCondensed"},{name:"Roboto Slab",value:"RobotoSlab"},{name:"PT Sans",value:"PTSans"},{name:"PT Serif",value:"PTSerif"}],selectFont:null,isBold:!0,isItalic:!1,isLoading:!1}),watch:{activeTab(t){"color"===t&&this.$nextTick(this.initChrome)}},async mounted(){this.setMinMax(),this.$nextTick((()=>{o.a.$on(`effect__reset:${this.project}`,this.reset)})),Object(l.e)(this.project,this.fontPath).then((data=>{this.controls=data,this.selectFont=this.fontsList.find((t=>t.value===this.controls.font)),this.updateFont(),o.a.$emit(`effect__change:${this.project}`)}))},beforeDestroy(){Object(l.d)(this.project),o.a.$off(`effect__reset:${this.project}`)},methods:{initChrome(){!!this.$refs.chrome&&!!this.$refs.chrome.choseColor&&this.$refs.chrome.choseColor(this.controls.color)},setTab(t){this.activeTab=t},changeTextarea(){this.isLoading=!0,Object(l.c)(this.project,this.controls).then((()=>{this.isLoading=!1,o.a.$emit(`effect__change:${this.project}`)}))},changeSize(t){const e=this.controls.size.max,n=this.controls.size.min;let r=Math.floor(t);r>e&&(r=e),r<n&&(r=n),this.controls.size.value=r,this.isLoading=!0,Object(l.c)(this.project,this.controls).then((()=>{this.isLoading=!1,o.a.$emit(`effect__change:${this.project}`)}))},changeSlider(t){this.controls.size.value=t,this.isLoading=!0,Object(l.c)(this.project,this.controls).then((()=>{this.isLoading=!1,o.a.$emit(`effect__change:${this.project}`)}))},changePosX(t){Object(l.b)(this.project,{x:t})},changePosY(t){Object(l.b)(this.project,{y:t})},changeColor(t){Object(l.a)(this.project,t)},setMinMax(){const t=this.$refs.inputSize?this.$refs.inputSize.$refs.input:null;t&&(t.setAttribute("min",this.controls.size.min),t.setAttribute("max",this.controls.size.max))},setFont(t){this.selectFont=this.fontsList.find((e=>e.name===t)),"RobotoSlab"===this.selectFont.value&&this.isItalic?this.changeItalic():this.updateFont()},changeBold(){this.isBold=!this.isBold,this.updateFont()},changeItalic(){this.isItalic=!this.isItalic,this.updateFont()},updateFont(){if(!this.selectFont||!this.selectFont.value)return;let t=this.selectFont.value;this.isBold&&(t+="Bold"),this.isItalic&&(t+="Italic"),this.controls.font=t,this.isLoading=!0,Object(l.c)(this.project,this.controls).then((()=>{this.isLoading=!1})),o.a.$emit(`effect__change:${this.project}`)},reset(){this.controls=Object(l.f)(this.project),o.a.$emit(`effect__change:${this.project}`)}}}),_=(n(1232),n(1234),n(3)),component=Object(_.a)(f,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"tool-text"},[e("div",{staticClass:"tabs flex"},[e("I8TabGroup",{attrs:{type:"filled",size:"large"}},[e("I8Tab",{attrs:{active:"text"===t.activeTab,type:"filled",size:"large"},on:{click:function(e){return t.setTab("text")}}},[t._v("\n        "+t._s(t.text&&t.text.tabText?t.text.tabText:"Text")+"\n      ")]),t._v(" "),e("I8Tab",{attrs:{active:"color"===t.activeTab,type:"filled",size:"large"},on:{click:function(e){return t.setTab("color")}}},[t._v("\n        "+t._s(t.text&&t.text.tabColor?t.text.tabColor:"Color")+"\n      ")])],1)],1),t._v(" "),t.controls&&"text"===t.activeTab?e("div",{staticClass:"text"},[t.selectFont?e("div",{staticClass:"text__control flex align-center between"},[e("I8Dropdown",{attrs:{value:t.selectFont?t.selectFont.name:"loading...",cleanable:!1,disabled:t.isLoading},on:{input:t.setFont}},t._l(t.fontsList,(function(t){return e("I8DropdownItem",{key:t.name,attrs:{value:t.name}})})),1),t._v(" "),e("div",{staticClass:"font-style flex"},[e("I8Button",{class:{active:t.isBold},attrs:{"icon-only":"",type:"text",disabled:t.isLoading},on:{click:t.changeBold}},[e("I8Icon",{attrs:{icon:"M0 0H5C6.65685 0 8 1.34315 8 3C8 3.92461 7.58171 4.75153 6.92404 5.30185C8.14732 5.84736 9 7.0741 9 8.5C9 10.433 7.433 12 5.5 12H0V0ZM1 5H5C6.10457 5 7 4.10457 7 3C7 1.89543 6.10457 1 5 1H1V5ZM1 11H5.5C6.88071 11 8 9.88071 8 8.5C8 7.11929 6.88071 6 5.5 6H1V11Z",viewBox:"0 0 9 12"}})],1),t._v(" "),e("I8Button",{class:{active:t.isItalic},attrs:{"icon-only":"",type:"text",disabled:t.isLoading||"RobotoSlab"===t.controls.font||"RobotoSlabBold"===t.controls.font},on:{click:t.changeItalic}},[e("I8Icon",{attrs:{icon:"M2.25 0L2 1H4L2 11H0.25L0 12H4.75L5 11H3L5 1H6.75L7 0H2.25Z",viewBox:"0 0 9 12"}})],1)],1)],1):t._e(),t._v(" "),e("div",{staticClass:"text__textarea"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.controls.text,expression:"controls.text"}],staticClass:"i8-textarea",attrs:{rows:"5"},domProps:{value:t.controls.text},on:{input:[function(e){e.target.composing||t.$set(t.controls,"text",e.target.value)},t.changeTextarea]}})]),t._v(" "),e("div",{staticClass:"text__size"},[e("div",{staticClass:"label"},[t._v("\n        "+t._s(t.text&&t.text.labelSize?t.text.labelSize:"Font size")+"\n      ")]),t._v(" "),e("div",{staticClass:"size flex center"},[e("I8TextInput",{ref:"inputSize",attrs:{value:t.controls.size.value,placeholder:"",type:"number"},on:{input:t.changeSize},scopedSlots:t._u([{key:"icon-right",fn:function(){return[e("span",{staticClass:"i8-text-input__right-icon"},[t._v("pt")])]},proxy:!0}],null,!1,2590423390)}),t._v(" "),e("I8SliderV2",{attrs:{value:+t.controls.size.value,min:t.controls.size.min,max:t.controls.size.max},on:{input:t.changeSlider}})],1)]),t._v(" "),e("div",{staticClass:"text__position"},[e("div",{staticClass:"label"},[t._v("\n        "+t._s(t.text&&t.text.labelPosition?t.text.labelPosition:"Position")+"\n      ")]),t._v(" "),e("div",{staticClass:"position flex align-center"},[e("div",{staticClass:"flex center"},[e("div",{staticClass:"label"},[t._v("\n            X\n          ")]),t._v(" "),e("I8TextInput",{attrs:{value:Math.round(t.controls.posX),placeholder:"",type:"number"},on:{input:t.changePosX},scopedSlots:t._u([{key:"icon-right",fn:function(){return[e("span",{staticClass:"i8-text-input__right-icon"},[t._v(t._s("px"))])]},proxy:!0}],null,!1,1403590495)})],1),t._v(" "),e("div",{staticClass:"flex center"},[e("div",{staticClass:"label"},[t._v("\n            Y\n          ")]),t._v(" "),e("I8TextInput",{attrs:{value:Math.round(t.controls.posY),placeholder:"",type:"number"},on:{input:t.changePosY},scopedSlots:t._u([{key:"icon-right",fn:function(){return[e("span",{staticClass:"i8-text-input__right-icon"},[t._v(t._s("px"))])]},proxy:!0}],null,!1,1403590495)})],1)])])]):t._e(),t._v(" "),"color"===t.activeTab?e("div",{staticClass:"content-color"},[e("RecolorChrome",{ref:"chrome",on:{changeColor:t.changeColor}})],1):t._e()])}),[],!1,null,"10a79d8b",null);e.a=component.exports},1425:function(t,e,n){"use strict";var r=n(2),o=n(627),c=n(874),l=n(13),h=n(657),d=Object(r.defineComponent)({name:"ToolRotation",components:{I8SliderV2:h.a,I8TextInput:l.p},props:{project:{type:Number,require:!0,default:null}},data:()=>({controls:null}),mounted(){this.controls=Object(c.c)(this.project),this.$nextTick((()=>{o.a.$on(`effect__reset:${this.project}`,this.reset),this.setMinMax()}))},beforeDestroy(){Object(c.b)(this.project),o.a.$off(`effect__reset:${this.project}`)},methods:{changeDegree(t){const e=this.controls.limits.max,n=this.controls.limits.min;let r=Math.floor(t);r>e&&(r=e),r<n&&(r=n),this.controls=Object(c.a)(this.project,r),o.a.$emit(`effect__change:${this.project}`)},reset(){this.controls=Object(c.d)(this.project),o.a.$emit(`effect__change:${this.project}`)},setMinMax(){const t=this.$refs.inputWidth?this.$refs.inputWidth.$refs.input:null;t&&(t.setAttribute("min",this.controls.limits.min),t.setAttribute("max",this.controls.limits.max))}}}),f=(n(1236),n(1238),n(3)),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"tool-rotation"},[t.controls?e("div",{staticClass:"rotation-controls flex col"},[e("I8SliderV2",{attrs:{min:t.controls.limits.min,max:t.controls.limits.max,step:1},on:{input:t.changeDegree},model:{value:t.controls.degree,callback:function(e){t.$set(t.controls,"degree",e)},expression:"controls.degree"}}),t._v(" "),e("div",{staticClass:"flex align-center input-controls"},[e("I8TextInput",{ref:"inputWidth",attrs:{placeholder:"",type:"number"},on:{input:t.changeDegree},scopedSlots:t._u([{key:"icon-right",fn:function(){return[e("span",{staticClass:"i8-text-input__right-icon"},[t._v("")])]},proxy:!0}],null,!1,3527401034),model:{value:t.controls.degree,callback:function(e){t.$set(t.controls,"degree",e)},expression:"controls.degree"}})],1)],1):t._e()])}),[],!1,null,"77be1ec7",null);e.a=component.exports},1426:function(t,e,n){"use strict";var r=n(2),o=n(627),c=n(877),l=n(13),h=Object(r.defineComponent)({name:"ToolPosition",components:{I8TextInput:l.p},props:{project:{type:Number,require:!0,default:null}},data:()=>({activeTab:"text",controls:{posX:null,posY:null}}),async mounted(){this.$nextTick((()=>{o.a.$on(`effect__reset:${this.project}`,this.reset)})),this.controls=Object(c.c)(this.project),o.a.$emit(`effect__change:${this.project}`)},beforeDestroy(){Object(c.b)(this.project),o.a.$off(`effect__reset:${this.project}`)},methods:{changePosX(t){Object(c.a)(this.project,{x:Math.floor(t)})},changePosY(t){Object(c.a)(this.project,{y:Math.floor(t)})},reset(){this.controls=Object(c.d)(this.project),o.a.$emit(`effect__change:${this.project}`)}}}),d=(n(1240),n(1242),n(3)),component=Object(d.a)(h,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"tool-position flex col justify-center"},[t.controls?e("div",{staticClass:"position flex"},[e("div",{staticClass:"flex center"},[e("div",{staticClass:"label"},[t._v("\n        X\n      ")]),t._v(" "),e("I8TextInput",{attrs:{value:Math.round(t.controls.posX),placeholder:"",type:"number"},on:{input:t.changePosX},scopedSlots:t._u([{key:"icon-right",fn:function(){return[e("span",{staticClass:"i8-text-input__right-icon"},[t._v("px")])]},proxy:!0}],null,!1,1495477586)})],1),t._v(" "),e("div",{staticClass:"flex center"},[e("div",{staticClass:"label"},[t._v("\n        Y\n      ")]),t._v(" "),e("I8TextInput",{attrs:{value:Math.round(t.controls.posY),placeholder:"",type:"number"},on:{input:t.changePosY},scopedSlots:t._u([{key:"icon-right",fn:function(){return[e("span",{staticClass:"i8-text-input__right-icon"},[t._v("px")])]},proxy:!0}],null,!1,1495477586)})],1)]):t._e()])}),[],!1,null,"490d8601",null);e.a=component.exports},1427:function(t,e,n){"use strict";var r=n(2),o=n(627),c=n(880),l=n(13),h=n(657),d=Object(r.defineComponent)({name:"ToolPadding",components:{I8SliderV2:h.a,I8TextInput:l.p,I8Dropdown:l.e,I8DropdownItem:l.f},props:{project:{type:Number,require:!0,default:null}},data:()=>({controls:{...c.b},selectDegree:{name:"px",value:"pixels"},degreeList:[{name:"px",value:"pixels"},{name:"%",value:"percentage"}]}),computed:{min(){return this.controls.limits[this.selectDegree.value].min},max(){return this.controls.limits[this.selectDegree.value].max}},mounted(){this.$nextTick((()=>{o.a.$on(`effect__reset:${this.project}`,this.reset),this.setMinMax()})),this.controls=Object(c.d)(this.project),this.setDegree("px")},beforeDestroy(){Object(c.c)(this.project),o.a.$off(`effect__reset:${this.project}`)},methods:{changeSize(t){let e=Math.floor(Number(t));e>this.max&&(e=this.max),e<this.min&&(e=this.min),this.controls.size=e,Object(c.a)(this.project,e),o.a.$emit(`effect__change:${this.project}`)},setMinMax(){const t=this.$refs.inputWidth?this.$refs.inputWidth.$refs.input:null;t&&(t.setAttribute("min",this.min),t.setAttribute("max",this.max))},setDegree(t){this.selectDegree=this.degreeList.find((e=>e.name===t)),Object(c.f)(this.project,this.selectDegree.value),this.setMinMax(),this.changeSize(this.controls.size)},reset(){this.controls=Object(c.e)(this.project),o.a.$emit(`effect__change:${this.project}`)}}}),f=(n(1244),n(1246),n(3)),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"tool-padding"},[t.controls?e("div",{staticClass:"padding-controls flex col"},[e("I8SliderV2",{attrs:{value:t.controls.size,min:t.min,max:t.max,step:1},on:{input:t.changeSize}}),t._v(" "),e("div",{staticClass:"flex align-center input-controls"},[e("I8TextInput",{ref:"inputWidth",attrs:{value:t.controls.size,placeholder:"",type:"number"},on:{input:t.changeSize},scopedSlots:t._u([{key:"icon-right",fn:function(){return[e("I8Dropdown",{staticClass:"i8-text-input__right-icon",attrs:{value:t.selectDegree?t.selectDegree.name:"...",cleanable:!1},on:{input:t.setDegree}},t._l(t.degreeList,(function(t){return e("I8DropdownItem",{key:t.name,attrs:{value:t.name}})})),1)]},proxy:!0}],null,!1,806232373)})],1)],1):t._e()])}),[],!1,null,"bd3fbde4",null);e.a=component.exports},1428:function(t,e,n){"use strict";var r=n(2),o=n(627),c=n(883),l=n(656),h=Object(r.defineComponent)({name:"ToolBackground",components:{RecolorChrome:l.a},props:{project:{type:Number,require:!0,default:null}},data:()=>({controls:null}),mounted(){this.$nextTick((()=>{o.a.$on(`effect__reset:${this.project}`,this.reset)})),this.controls=Object(c.b)(this.project),this.initBackground(),o.a.$emit(`effect__change:${this.project}`)},beforeDestroy(){o.a.$off(`effect__reset:${this.project}`)},methods:{initBackground(){if(!this.controls.color)return;!!this.$refs.chrome&&!!this.$refs.chrome.choseColor&&this.$refs.chrome.choseColor(this.controls.color)},changeColor(t){Object(c.a)(this.project,t),o.a.$emit(`effect__change:${this.project}`)},reset(){Object(c.c)(this.project),o.a.$emit(`effect__change:${this.project}`)}}}),d=(n(1248),n(3)),component=Object(d.a)(h,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"tool-background"},[e("RecolorChrome",{ref:"chrome",on:{changeColor:t.changeColor}})],1)}),[],!1,null,"c0294a90",null);e.a=component.exports},1429:function(t,e,n){"use strict";var r=n(2),o=n(627),c=n(13),l=n(674),h=Object(r.defineComponent)({name:"PaletteColors",components:{I8Icon:c.h},props:{project:{type:Number,require:!0,default:null},size:{type:Object,default:()=>({})}},data:()=>({activeColor:null,palette:null,isShowAllColors:!1}),computed:{countColors(){const t=Object.keys(this.palette).length,e=Math.floor(this.size.canvasHeight/34),n=4*e;return{col:Math.ceil(t/e)>=5?4:Math.ceil(t/e),rows:e,maxColors:n,colors:t}},showPalette(){return this.palette&&Object.keys(this.palette).length>=2}},mounted(){this.$nextTick((()=>{o.a.$on(`effect__reset:${this.project}`,this.reset),o.a.$on(`recolor__change-color:${this.project}`,(data=>{this.changeColor(data)})),o.a.$emit(`effect__change:${this.project}`)})),this.palette=Object(l.a)(this.project);const t=Object.keys(this.palette)[0];t&&this.choseColor(t,!1)},beforeDestroy(){o.a.$off(`effect__reset:${this.project}`),o.a.$off(`recolor__change-color:${this.project}`)},methods:{choseColor(t,e){void 0===e&&(e=!0),this.activeColor=t;const n=this.palette[t].color;e&&o.a.$emit(`recolor__chose-color:${this.project}`,n)},changeColor(t){Object(l.c)(this.project,this.activeColor,t),Object(l.b)(this.project,this.activeColor,t),o.a.$emit(`effect__change:${this.project}`)},reset(){Object(l.d)(this.project),o.a.$emit(`effect__change:${this.project}`)},showAllColors(){this.isShowAllColors=!this.isShowAllColors,this.$nextTick((()=>{this.isShowAllColors&&this.$refs.colors&&this.$refs.colors.scroll({top:25,behavior:"smooth"})}))}}}),d=(n(1250),n(3)),component=Object(d.a)(h,(function(){var t=this,e=t._self._c;t._self._setupProxy;return t.showPalette?e("div",{ref:"colors",staticClass:"colors",style:{"--color-columns":t.countColors.col||1}},[t._l(t.palette,(function(n,r,i){return[!t.isShowAllColors&&i<t.countColors.maxColors-1||t.isShowAllColors?e("div",{key:r,class:["color-wrap",{active:r===t.activeColor}],attrs:{title:n.color},on:{click:function(e){return t.choseColor(r)}}},[e("div",{staticClass:"color",style:{backgroundColor:n.color}})]):t._e()]})),t._v(" "),!t.isShowAllColors&&Object.keys(t.palette).length>=t.countColors.maxColors?e("div",{staticClass:"color-wrap show-all flex center",on:{click:t.showAllColors}},[e("I8Icon",{attrs:{icon:"M2 0C1.46957 0 0.960859 0.210714 0.585786 0.585787C0.210714 0.96086 0 1.46957 0 2C0 2.53043 0.210714 3.03914 0.585786 3.41421C0.960859 3.78929 1.46957 4 2 4C2.53043 4 3.03914 3.78929 3.41421 3.41421C3.78929 3.03914 4 2.53043 4 2C4 1.46957 3.78929 0.96086 3.41421 0.585787C3.03914 0.210714 2.53043 0 2 0ZM8 0C7.46957 0 6.96086 0.210714 6.58579 0.585787C6.21071 0.96086 6 1.46957 6 2C6 2.53043 6.21071 3.03914 6.58579 3.41421C6.96086 3.78929 7.46957 4 8 4C8.53043 4 9.03914 3.78929 9.41421 3.41421C9.78929 3.03914 10 2.53043 10 2C10 1.46957 9.78929 0.96086 9.41421 0.585787C9.03914 0.210714 8.53043 0 8 0ZM14 0C13.4696 0 12.9609 0.210714 12.5858 0.585787C12.2107 0.96086 12 1.46957 12 2C12 2.53043 12.2107 3.03914 12.5858 3.41421C12.9609 3.78929 13.4696 4 14 4C14.5304 4 15.0391 3.78929 15.4142 3.41421C15.7893 3.03914 16 2.53043 16 2C16 1.46957 15.7893 0.96086 15.4142 0.585787C15.0391 0.210714 14.5304 0 14 0Z",viewBox:"0 0 16 4"}})],1):t._e()],2):t._e()}),[],!1,null,"2da25b89",null);e.a=component.exports},1430:function(t,e,n){"use strict";var r=n(2),o=n(656),c=n(627),l=n(674),h=Object(r.defineComponent)({name:"ToolRecolor",components:{RecolorChrome:o.a},props:{project:{type:Number,require:!0,default:null}},mounted(){c.a.$on(`recolor__chose-color:${this.project}`,(data=>{this.choseColor(data)}))},beforeDestroy(){c.a.$off(`recolor__change-color:${this.project}`)},methods:{choseColor(data){!!this.$refs.chrome&&!!this.$refs.chrome.choseColor&&this.$refs.chrome.choseColor(data)},changeColor(t){c.a.$emit(`recolor__change-color:${this.project}`,t)},reset(){Object(l.d)(this.project),c.a.$emit(`effect__change:${this.project}`)}}}),d=(n(1252),n(3)),component=Object(d.a)(h,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"tool-recolor"},[e("RecolorChrome",{ref:"chrome",attrs:{project:t.project},on:{changeColor:t.changeColor}})],1)}),[],!1,null,"1fb12be9",null);e.a=component.exports},616:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"d",(function(){return _})),n.d(e,"h",(function(){return m})),n.d(e,"f",(function(){return x})),n.d(e,"e",(function(){return w})),n.d(e,"i",(function(){return C})),n.d(e,"g",(function(){return S})),n.d(e,"b",(function(){return k})),n.d(e,"c",(function(){return O}));var r=n(16),o=n.n(r),c=n(51),l=n(617);const h=Object(c.b)(),d=()=>n.e(87).then(n.t.bind(null,1433,7)),f={OPEN:"i8-auth-modal:open",ENSURE_LOGIN:"i8-auth-modal:ensure-login"},_={all:v=v||new Map,on:function(t,e){var i=v.get(t);i?i.push(e):v.set(t,[e])},off:function(t,e){var i=v.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):v.set(t,[]))},emit:function(t,e){var i=v.get(t);i&&i.slice().map((function(t){t(e)})),(i=v.get("*"))&&i.slice().map((function(n){n(t,e)}))}};var v;function m(){_.emit(f.OPEN)}function x(t,e){void 0===e&&(e={}),_.emit(f.ENSURE_LOGIN,{callback:t,options:e})}let y=!1;async function w(t,e){if(y)return;y=!0;const{setBaseURL:n,AuthModuleImplementation:r,loadTranslations:o}=await d();o(e.locale),n("https://api-icons.icons8.com/auth/v2");(await r.get()).bindStore(t)}function C(t,e){if("undefined"!=typeof window&&"GTMDataLayer"in window&&window.GTMDataLayer.push({event:t}),h&&"registration"===t&&e){let t="icon";"landings"!==t&&"icon"!==t||(t="Icons"),o.a.get("https://n8n.icons8.com/webhook/fd78bee7-e230-49a7-9ccc-55e3c954f527",{params:{email:e.email,product:t}})}}const S=h?l.production:l.default,k=()=>d().then((t=>t.I8AuthForm)),O=()=>d().then((t=>t.I8PasswordResetForm))},617:function(t){t.exports=JSON.parse('{"default":{"AUTH_REDIRECT_URI":"https://api-icons-stage.icons8.com/auth/v1/socials-callback","AUTH_FACEBOOK_CLIENT_ID":"496747381171808","AUTH_FACEBOOK_URL":"https://www.facebook.com/v6.0/dialog/oauth","AUTH_GITHUB_CLIENT_ID":"19f839086b955db0bf2f","AUTH_GITHUB_URL":"https://github.com/login/oauth/authorize","AUTH_GOOGLE_CLIENT_ID":"574833888516-i8s6kb1mha2r5saa5gu6gbt5hnh3g36u.apps.googleusercontent.com","AUTH_GOOGLE_URL":"https://accounts.google.com/o/oauth2/v2/auth","AUTH_MICROSOFT_CLIENT_ID":"059d71f7-f349-4155-8f21-9247f82c4c57","AUTH_MICROSOFT_URL":"https://login.microsoftonline.com/common/oauth2/v2.0/authorize"},"production":{"AUTH_REDIRECT_URI":"https://api-icons.icons8.com/auth/v1/socials-callback","AUTH_FACEBOOK_CLIENT_ID":"496747381171808","AUTH_FACEBOOK_URL":"https://www.facebook.com/v6.0/dialog/oauth","AUTH_GITHUB_CLIENT_ID":"08ad24fe60ec12be209d","AUTH_GITHUB_URL":"https://github.com/login/oauth/authorize","AUTH_GOOGLE_CLIENT_ID":"574833888516-i8s6kb1mha2r5saa5gu6gbt5hnh3g36u.apps.googleusercontent.com","AUTH_GOOGLE_URL":"https://accounts.google.com/o/oauth2/v2/auth","AUTH_MICROSOFT_CLIENT_ID":"059d71f7-f349-4155-8f21-9247f82c4c57","AUTH_MICROSOFT_URL":"https://login.microsoftonline.com/common/oauth2/v2.0/authorize"}}')},619:function(t,e,n){"use strict";n.d(e,"h",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f})),n.d(e,"i",(function(){return _})),n.d(e,"e",(function(){return v})),n.d(e,"f",(function(){return m})),n.d(e,"b",(function(){return x})),n.d(e,"g",(function(){return y})),n.d(e,"a",(function(){return l}));var r=n(1193),o=n.n(r);const c=[],l="#2186EB";function h(canvas,svg,t,e=!1,n=!0){if(!canvas||!svg)return void console.warn("canvas or svg is error!");o.a.setup(canvas);const view=o.a.view,r={onError:t=>{console.log("Error load svg!",t)},applyMatrix:!1},l=o.a.project.importSVG(svg,r);return null===l?null:(n&&(l.position=view.center),l.name="i8_mainSVG",l.parent.name="mainSVGLayer",l.parent.applyMatrix=!1,l.parent.pivot=l.parent.bounds.center,c[o.a.project.index]={id:Date.now(),canvas:{layers:{},nodes:{},container:canvas},project:o.a.project,effects:{}},c[o.a.project.index].size=t,function(t,e){const n=new o.a.Layer({name:"bgLayer"}),r=new o.a.Layer({name:"shapeLayer"}),l=new o.a.Layer({name:"strokeLayer",applyMatrix:!1}),h=new o.a.Layer({name:"overlayLayer"}),d=new o.a.Layer({name:"textLayer"});t.insertLayer(1,n),t.insertLayer(2,r),t.insertLayer(3,l),t.insertLayer(4,h),t.insertLayer(5,d),e.parent.insertAbove(l),c[t.index].canvas.layers={bgLayer:n,shapeLayer:r,strokeLayer:l,mainSVGLayer:e.parent,overlayLayer:h,textLayer:d},c[t.index].canvas.nodes={i8_mainSVG:e}}(o.a.project,l),e&&function(t){const e=new o.a.Layer({name:"canvasBgLayer"});t.insertLayer(0,e),c[t.index].canvas.layers.canvasBgLayer=e;const n=c[t.index],r=new o.a.Path.Rectangle(t.view.bounds);r.fillColor="white",r.name="i8_canvasBg",n.canvas.layers.canvasBgLayer.insertChild(0,r),n.canvas.nodes.i8_canvasBg=r}(o.a.project),c[o.a.project.index].id)}function d(){return o.a}function f(t){const e=c.find((e=>!!e&&e.id===t));return e||null}function _(t){const e=f(t);if(!e)return;const n=e.project.index;e.project&&e.project.remove(),c[n]&&c.splice(n,1)}function v(t){const e=f(t);if(!e)return null;const n={width:e.size.iconWidth,height:e.size.iconHeight},svg=e.project.exportSVG(),r=svg.querySelector("#text-border");r&&r.remove();const o=svg.querySelectorAll("#i8_padding-border");if(o&&o.length)for(const t in[...o])o[t]&&o[t].remove();const c=svg.querySelectorAll("#i8_overlay-border");if(c&&c.length)for(const t in[...c])c[t]&&c[t].remove();const l=svg.querySelectorAll("#i8_rotation-border");if(l&&l.length)for(const t in[...l])l[t]&&l[t].remove();const h=svg.querySelectorAll("#i8_position-border");if(h&&h.length)for(const t in[...h])h[t]&&h[t].remove();const d=svg.querySelectorAll("#i8_canvasBg");if(d&&d.length)for(const t in[...d])d[t]&&d[t].remove();for(const t in e.canvas.layers){const e=svg.querySelector(`#${t}`);e&&(e.removeAttribute("id"),e.children.length||e.remove())}for(const t in e.canvas.nodes){const e=svg.querySelector(`#${t}`);e&&e.removeAttribute("id")}return svg.setAttribute("width",n.width),svg.setAttribute("height",n.height),svg.outerHTML}function m(t,e){return"width"===t.size.mainDirection?t.size.canvasWidth/t.size.iconWidthNumber*e:t.size.canvasHeight/t.size.iconHeightNumber*e}function x(t,e){return"width"===t.size.mainDirection?t.size.iconWidthNumber/t.size.canvasWidth*e:t.size.iconHeightNumber/t.size.canvasHeight*e}function y(t){return"width"===t.size.mainDirection?t.size.iconHeightNumber:t.size.iconWidthNumber}},627:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=new(n(2).default)},656:function(t,e,n){"use strict";var r=n(2),o=n(13),c=n(674),l=n(686);const h=/^#([A-F0-9]{3,4}|[A-F0-9]{6}|[A-F0-9]{8})$/i;var d=Object(r.defineComponent)({name:"RecolorChrome",components:{ChromePicker:()=>n.e(61).then(n.bind(null,1443)),I8Icon:o.h,I8TextInput:o.p,I8Dropdown:o.e,I8DropdownItem:o.f},props:{project:{type:Number,default:null}},setup:t=>{const e=Object(r.ref)({hsv:{h:0,s:0,v:0,a:1}}),n=Object(r.ref)(),o=t=>{"string"==typeof t?n.value.colorChange(t,0):n.value.colorChange(t)};return Object(r.watch)(n,(n=>{if(null!=n)if(null!=t.project){const e=Object(c.a)(t.project),n=e[Object.keys(e)[0]].color;o(n)}else o(e.value)})),{color:e,colorPicker:n,choseColor:o}},data:()=>({timeoutColor:null,palette:[...l.a],currentFormat:"HEX"}),computed:{hasInPalette(){return this.palette.some((t=>{var e,n;const r=t.toLowerCase(),o=null===(e=this.color.hex)||void 0===e?void 0:e.toLowerCase(),c=null===(n=this.color.hex8)||void 0===n?void 0:n.toLowerCase();return 1===this.color.a&&r===o||r===c}))}},mounted(){this.getPalette()},methods:{handleInput(t,e,n){let r,o=t.target?t.target.value:t;"HEX"===e?(o.startsWith("#")||(o="#"+o),h.test(o)&&(r={hex:o})):"RGB"===e?(r={rgba:{r:this.color.rgba.r,g:this.color.rgba.g,b:this.color.rgba.b,a:this.color.rgba.a}},void 0!==n&&"a"!==n&&0<=o&&o<=255&&(r.rgba[n]=o)):"HSL"===e&&(r={hsl:{h:this.color.hsl.h,s:this.color.hsl.s,l:this.color.hsl.l,a:this.color.hsl.a}},void 0!==n&&("h"===n?-1<=o&&o<=360&&(r.hsl.h="-1"===o?359:o):"s"!==n&&"l"!==n||0<=o&&o<=100&&(r.hsl[n]=o))),r&&this.choseColor(r)},changeFormat(t){this.currentFormat=t},updateColor(t){this.changeColor(t),clearTimeout(this.timeoutColor),this.timeoutColor=setTimeout((()=>{this.$emit("changeColor",t.hex8)}),50)},changeColor(t){this.color=t},chosePalette(t){this.choseColor(t),this.$emit("changeColor",t)},getPalette(){if(!localStorage)return;const t=JSON.parse(localStorage.getItem(l.e));t?this.palette=t:this.savePalette()},savePalette(){if(!localStorage)return;this.palette.length>=25&&(this.palette=this.palette.slice(-25)),localStorage.setItem(l.e,JSON.stringify(this.palette))},addInPalette(){this.hasInPalette||(this.palette.push(this.color.hex8),this.savePalette())}}}),f=(n(1212),n(1214),n(3)),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"recolor-chrome"},[e("ChromePicker",{ref:"colorPicker",style:{"--current-color":t.color.hex8},attrs:{"disable-fields":!0,value:t.color},on:{input:t.updateColor}}),t._v(" "),e("div",{staticClass:"input-control flex"},["HEX"===t.currentFormat?[e("I8TextInput",{attrs:{value:1===t.color.a?t.color.hex:t.color.hex8},on:{change:function(e){return t.handleInput(e,"HEX")},blur:function(e){return t.handleInput(e,"HEX")}}})]:"RGB"===t.currentFormat&&t.color.rgba?[e("I8TextInput",{attrs:{value:t.color.rgba.r,type:"number"},on:{input:function(e){return t.handleInput(e,"RGB","r")}}}),t._v(" "),e("I8TextInput",{attrs:{value:t.color.rgba.g,type:"number"},on:{input:function(e){return t.handleInput(e,"RGB","g")}}}),t._v(" "),e("I8TextInput",{attrs:{value:t.color.rgba.b,type:"number"},on:{input:function(e){return t.handleInput(e,"RGB","b")}}})]:"HSL"===t.currentFormat&&t.color.hsl?[e("I8TextInput",{attrs:{value:Math.round(t.color.hsl.h),type:"number"},on:{input:function(e){return t.handleInput(e,"HSL","h")}}}),t._v(" "),e("I8TextInput",{attrs:{value:Math.round(100*t.color.hsl.s),type:"number"},on:{input:function(e){return t.handleInput(e,"HSL","s")}}}),t._v(" "),e("I8TextInput",{attrs:{value:Math.round(100*t.color.hsl.l),type:"number"},on:{input:function(e){return t.handleInput(e,"HSL","l")}}})]:t._e(),t._v(" "),e("I8Dropdown",{attrs:{value:t.currentFormat,cleanable:!1},on:{input:t.changeFormat}},[e("I8DropdownItem",{attrs:{value:"HEX"}}),t._v(" "),e("I8DropdownItem",{attrs:{value:"RGB"}}),t._v(" "),e("I8DropdownItem",{attrs:{value:"HSL"}})],1)],2),t._v(" "),e("div",{staticClass:"palette flex wrap"},[t._l(t.palette,(function(n,i){return e("div",{key:`${n}${i}`,staticClass:"palette__item-wrap",attrs:{title:n},on:{click:function(e){return t.chosePalette(n)}}},[e("div",{staticClass:"palette__item",style:{background:n}})])})),t._v(" "),e("div",{class:["palette__item-wrap palette__add flex center",{disabled:t.hasInPalette}],on:{click:t.addInPalette}},[e("I8Icon",{attrs:{icon:"M4 0C3.44772 0 3 0.447715 3 1V3H1C0.447715 3 0 3.44772 0 4C0 4.55228 0.447715 5 1 5H3V7C3 7.55228 3.44772 8 4 8C4.55228 8 5 7.55228 5 7V5H7C7.55228 5 8 4.55229 8 4C8 3.44772 7.55228 3 7 3H5V1C5 0.447715 4.55228 0 4 0Z",size:"8px",viewBox:"0 0 8 8"}})],1)],2)],1)}),[],!1,null,"3b8e0d80",null);e.a=component.exports},657:function(t,e,n){"use strict";var r={name:"I8SliderV2",props:{value:{type:[Number,String],required:!0},min:{type:Number,default:0},max:{type:Number,default:100},disabled:{type:Boolean,default:!1},width:{type:Number,default:void 0}},data:()=>({progress:.5}),watch:{value:{immediate:!0,handler(){this.updateProgress()}},min:{immediate:!0,handler(){this.updateProgress()}},max:{immediate:!0,handler(){this.updateProgress()}}},methods:{updateProgress(){this.progress=(Number(this.value)-this.min)/(this.max-this.min)}}},o=(n(1216),n(3)),component=Object(o.a)(r,(function(){var t=this;return(0,t._self._c)("input",t._b({staticClass:"i8-slider-v2",style:{"--i8-slider-v2-track-progress":100*t.progress+"%",...t.width&&{width:t.width+"px"}},attrs:{type:"range"},on:{input:function(e){return t.$emit("input",e.target.value)},change:function(e){return t.$emit("change",e.target.value)}}},"input",t.$props,!1))}),[],!1,null,"8d5f0ea2",null);e.a=component.exports},674:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return _}));var r=n(619);function o(t){const e=Object(r.d)(t);if(e.effects.recolor)return e.effects.recolor.controls.palette;const n={};c(e.canvas.nodes.i8_mainSVG,n);if(!!!Object.keys(n).length)return;e.effects.recolor={nodes:{},active:!1,controls:{palette:{}}};const o=e.effects.recolor.nodes,l=e.effects.recolor.controls.palette;for(const t in n){const{color:e,initColor:r}=n[t];l[t]={color:e,initColor:r},o[t]=n[t].nodes}return e.effects.recolor.controls.palette}function c(t,e={}){let n=null,r=null,o=null;t.style.fillColor&&!t.style.fillColor.gradient&&(n="fill"),t.style.strokeColor&&!t.style.strokeColor.gradient&&(n="stroke"),t.style.fillColor&&t.style.fillColor.gradient&&(n="gradient-fill"),t.style.strokeColor&&t.style.strokeColor.gradient&&(n="gradient-stroke"),n&&("fill"===n&&(r=l(t.style.fillColor)),"stroke"===n&&(r=l(t.style.strokeColor)),"gradient-fill"===n&&(o=t.style.fillColor.gradient.stops),"gradient-stroke"===n&&(o=t.style.strokeColor.gradient.stops),o?o.forEach(((o,c)=>{r=l(o.color),h(e,r,n,t,c)})):h(e,r,n,t)),t.children&&t.children.forEach((t=>{c(t,e)}))}function l(t){let e=t.toCSS(!0);return void 0!==t.alpha&&1!==t.alpha&&(e+=Math.round(255*t.alpha).toString(16).padStart(2,"0")),e}function h(t,e,n,r,o=null){const c=`id_${e}`;!!e&&!t[c]&&(t[c]={initColor:e,color:e,nodes:[]}),t[c].nodes.push({type:n,node:r,index:o})}function d(t,e,n){if(!t||!e||!n)return;const o=Object(r.d)(t),c=o.effects.recolor.nodes;c&&(c[e].forEach((t=>{const e=t.type;"fill"===e&&(t.node.fillColor=n),"stroke"===e&&(t.node.strokeColor=n),"gradient-fill"===e&&(t.node.style.fillColor.gradient.stops[t.index].color=n),"gradient-stroke"===e&&(t.node.style.strokeColor.gradient.stops[t.index].color=n),t.color=n})),o.effects.recolor.active=!0)}function f(t,e,n){if(!t||!e||!n)return;const o=Object(r.d)(t);o.effects.recolor.controls.palette[e].color=n,o.effects.recolor.active=!0}function _(t){if(!t)return;const e=Object(r.d)(t),n=e.effects.recolor.controls.palette;for(const e in n){const r=n[e].initColor;f(t,e,r),d(t,e,r)}return e.effects.recolor.active=!1,e.effects.recolor.controls.palette}},686:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"g",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"d",(function(){return h})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return f}));const r="I8_chrome-palette",o=["#FA5252","#CC5DE8","#5C7CFA","#339AF0","#20C997","#94D82D","#FCC419"],c=.71875,l=163/256,h=171/256,d=155/256,f=60/256},687:function(t,e,n){"use strict";n.d(e,"g",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"e",(function(){return S})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return v})),n.d(e,"h",(function(){return k})),n.d(e,"a",(function(){return m})),n.d(e,"f",(function(){return y})),n.d(e,"i",(function(){return x}));var r=n(619),o=n(688),c=n(686);const l=Object(r.c)(),h={icon:"",styleList:[],isColor:!1,color:"#000000",posX:0,posY:0,size:{value:16,min:1,max:256},hasBackground:!0,copySvg:null};async function d(t,path){const e=Object(r.d)(t),n=e.canvas.nodes.i8_overlay;return n?(w(t,n),e.effects.overlay.controls):(e.effects.overlay||(h.size.value=Math.round(Object(r.g)(e)*c.c),h.size.max=Math.round(Object(r.g)(e)),e.effects.overlay={active:!0,controls:{...h,size:{...h.size}}}),e.effects.overlay.controls.styleList.length||(e.effects.overlay.controls.styleList=await async function(path){try{const t=await fetch(`${path}/overlayIcons.json`);return await t.json()}catch(t){throw console.error("Error query icons-overlay",t),t}}(path)),e.effects.overlay.controls)}function f(t,svg,e,n){C(t),y(t),Object(o.f)(t);const l=Object(r.d)(t),h=l.effects.overlay.controls,d={onError:t=>{console.log("Error load svg!",t)},applyMatrix:!1},f=l.canvas.layers.overlayLayer,_=l.project.importSVG(svg,d);return f.insertChild(0,_),_.name="overlay",l.canvas.nodes.i8_overlay=_,h.icon=e,h.isColor=n,l.effects.overlay.active=!0,v(t,h.size.value),0===h.posX&&0===h.posY&&(h.posX=c.b*l.size.canvasWidth+_.bounds.width/2+5,h.posY=c.d*l.size.canvasHeight+_.bounds.height/2+5),_.position.x=h.posX,_.position.y=h.posY,h.hasBackground&&m(t),Object(o.a)(t),!n&&h.color&&(l.canvas.nodes.i8_overlay.fillColor=h.color),w(t,_),l.effects.overlay.controls}function _(t,e){const n=Object(r.d)(t);n.canvas.nodes.i8_overlay&&(n.effects.overlay.controls.color=e,n.canvas.nodes.i8_overlay.fillColor=e)}function v(t,e){const n=Object(r.d)(t),o=n.effects.overlay.controls,c=n.canvas.nodes.i8_overlay;if(c){const l=Object(r.f)(n,e);let h;h=c.bounds.width>=c.bounds.height?l/c.bounds.height:l/c.bounds.width,c.scale(h),o.size.value=e,x(t),w(t,c)}}function m(t){const e=Object(r.d)(t),n=e.canvas.nodes.i8_overlay;if(!n)return;const c=n.clone({insert:!1}),l=Object(o.e)(e,c,n);l.name="overlayBg",e.canvas.nodes.i8_overlayBg=l,x(t)}function x(t){const e=Object(r.d)(t);if(!e.effects.overlay)return;const n=e.effects.overlay.controls,o=e.canvas.nodes.i8_overlay,c=e.canvas.nodes.i8_overlayBg,h=e.canvas.nodes.i8_strokeOverlay,d=e.effects.stroke;if(h&&(h.bounds=o.bounds),!o||!c)return;c.bounds=o.bounds;const f=n.size.value/3,_=Object(r.f)(e,d&&d.active?d.width:f);c.scale((o.bounds.width+_/2)/o.bounds.width),e.canvas.nodes.i8_overlayBgMask&&(e.canvas.nodes.i8_overlayBgMask.remove(),delete e.canvas.nodes.i8_overlayBgMask);const v=new l.Path.Rectangle({rectangle:e.project.view.bounds,fillColor:"#000000",opacity:.5,insert:!1}).subtract(c);v.name="overlayBgMask",e.canvas.nodes.i8_overlayBgMask=v,e.canvas.layers.mainSVGLayer.insertChild(0,v),e.canvas.layers.mainSVGLayer.clipped=!0}function y(t){const e=Object(r.d)(t);e.canvas.nodes.i8_overlayBg&&(e.canvas.nodes.i8_overlayBg.remove(),delete e.canvas.nodes.i8_overlayBg),e.canvas.nodes.i8_overlayBgMask&&(e.canvas.nodes.i8_overlayBgMask.remove(),delete e.canvas.nodes.i8_overlayBgMask)}function w(t,svg){const e=Object(r.d)(t);S(t);const n=new l.Path;n.strokeColor=r.a,n.strokeWidth=2,n.name="i8_overlay-border",e.canvas.nodes.i8_overlayBorder=n,n.add(new l.Point(svg.bounds.topLeft.x-5,svg.bounds.topLeft.y-5)),n.add(new l.Point(svg.bounds.topRight.x+5,svg.bounds.topRight.y-5)),n.add(new l.Point(svg.bounds.bottomRight.x+5,svg.bounds.bottomRight.y+5)),n.add(new l.Point(svg.bounds.bottomLeft.x-5,svg.bounds.bottomLeft.y+5)),n.closed=!0,e.canvas.layers.overlayLayer.insertChild(1,n),function(t){const e=Object(r.d)(t),n=e.effects.overlay.controls,o=e.canvas.container,c=e.canvas.nodes.i8_overlayBorder,l=e.canvas.nodes.i8_overlay;let h=!1;e.project.view.onMouseDown=function(t){const e=c.bounds.contains(t.point);h=!!e},e.project.view.onMouseUp=function(t){h=!1,c.contains(t.point)&&(o.style.cursor="grab")},e.project.view.onMouseMove=function(d){if(c.bounds.contains(d.point)?o.style.cursor=h?"grabbing":"grab":o.style.cursor="auto",!h||!c||!l)return;n.posX+=d.delta.x,n.posY+=d.delta.y;const f=Object(r.f)(e,Math.round(Object(r.b)(e,n.posX))),_=Object(r.f)(e,Math.round(Object(r.b)(e,n.posY)));l.position.x=f,l.position.y=_,c.position.x=f,c.position.y=_,x(t)}}(t)}function C(t){const e=Object(r.d)(t);e.effects.overlay.active=!1,e.canvas.nodes.i8_overlay&&e.canvas.nodes.i8_overlay.remove(),delete e.canvas.nodes.i8_overlay,Object(o.f)(t),y(t)}function S(t){const e=Object(r.d)(t);e.canvas.nodes.i8_overlayBorder&&e.canvas.nodes.i8_overlayBorder.remove(),delete e.canvas.nodes.i8_overlayBorder,function(t){const e=Object(r.d)(t);e.project.view.onMouseDown=()=>({}),e.project.view.onMouseUp=()=>({}),e.project.view.onMouseMove=()=>({})}(t)}function k(t){const e=Object(r.d)(t);return e.effects.overlay.active=!1,e.effects.overlay.controls={...h,size:{...h.size},styleList:e.effects.overlay.controls.styleList},C(t),S(t),e.effects.overlay.controls}},688:function(t,e,n){"use strict";n.d(e,"h",(function(){return h})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return v})),n.d(e,"b",(function(){return m})),n.d(e,"g",(function(){return w})),n.d(e,"a",(function(){return x})),n.d(e,"f",(function(){return y})),n.d(e,"i",(function(){return S})),n.d(e,"e",(function(){return f}));var r=n(619),o=n(687);const c=Object(r.c)(),l={active:!0,color:"#DDDDDD",width:2,min:0,max:40};function h(t){const e=Object(r.d)(t);if(e.canvas.nodes.i8_strokeMainSVG)return e.effects.stroke;e.effects.stroke||(l.max=Math.round(Object(r.g)(e)/4),l.width=Math.round(Object(r.g)(e)/8),e.effects.stroke={...l});const n=e.canvas.nodes.i8_mainSVG,path=f(e,n.clone({insert:!1}),n);return path.strokeColor=e.effects.stroke.color,path.fillColor=e.effects.stroke.color,path.strokeWidth=Object(r.f)(e,e.effects.stroke.width),e.canvas.nodes.i8_strokeMainSVG=path,e.canvas.layers.strokeLayer.insertChild(0,path),path.bounds=n.bounds,path.position=n.position,m(t),x(t),e.effects.stroke}function d(t,e=[],n){e.forEach((e=>{const r=["Path","CompoundPath"].some((t=>t===e.className));let o=null;n&&n.hitTest&&(o=!!n.hitTest(e.position,{center:!0}));const c=!!e.children;r&&!o&&(t.path=t.path.unite(e,{insert:!1})),c&&d(t,e.children,n)}))}function f(t,svg,main){let e=svg.children;const n={path:new c.Path.Circle({strokeJoin:"round",name:"strokeMainSVG",position:t.project.view.center,insert:!1})};return d(n,e,main),n.path}function _(t,e){const n=Object(r.d)(t);let o=n.canvas.nodes.i8_strokeMainSVG,c=n.canvas.nodes.i8_strokeText,d=n.canvas.nodes.i8_strokeOverlay;return o||(h(t),o=n.canvas.nodes.i8_strokeMainSVG,c=n.canvas.nodes.i8_strokeText),o&&(o.strokeColor=e,o.fillColor=e,n.effects.stroke.color=e,n.effects.stroke.active=!0,0===n.effects.stroke.width&&v(t,l.width)),c&&(c.strokeColor=e,c.fillColor=e),d&&(d.strokeColor=e,d.fillColor=e),n.effects.stroke}function v(t,e){const n=Object(r.d)(t);let o=n.canvas.nodes.i8_strokeMainSVG,c=n.canvas.nodes.i8_strokeText,l=n.canvas.nodes.i8_strokeOverlay;return 0===e?(C(t),w(t),void y(t)):(o||(h(t),o=n.canvas.nodes.i8_strokeMainSVG,c=n.canvas.nodes.i8_strokeText,l=n.canvas.nodes.i8_strokeOverlay),o&&(o.strokeWidth=Object(r.f)(n,e),n.effects.stroke.width=e,n.effects.stroke.active=!0),c&&(c.strokeWidth=Object(r.f)(n,e)),l&&(l.strokeWidth=Object(r.f)(n,e)),n.effects.stroke)}function m(t){const e=Object(r.d)(t);if(!(!!e.canvas.nodes.i8_strokeMainSVG&&!!e.canvas.nodes.i8_text))return;const n=e.canvas.layers.textLayer,text=e.canvas.nodes.i8_text,o=text.clone({insert:!1});let path=new c.Path.Circle({strokeJoin:"round",name:"strokeMainSVG",position:text.position,insert:!1});o.children.forEach((t=>{["Path","CompoundPath"].some((e=>e===t.className))&&(path=path.unite(t,{insert:!1}))})),path.strokeColor=e.effects.stroke.color,path.fillColor=e.effects.stroke.color,path.strokeWidth=Object(r.f)(e,e.effects.stroke.width),e.canvas.nodes.i8_strokeText=path,n.insertChild(0,path)}function x(t){const e=Object(r.d)(t);if(!(!!e.canvas.nodes.i8_strokeMainSVG&&!!e.canvas.nodes.i8_overlay))return;const n=e.canvas.layers.overlayLayer,o=e.canvas.nodes.i8_overlay,path=f(e,o.clone({insert:!1}),o);path.applyMatrix=!0,path.name="strokeOverlay",path.bounds=o.bounds,path.strokeColor=e.effects.stroke.color,path.fillColor=e.effects.stroke.color,path.strokeWidth=Object(r.f)(e,e.effects.stroke.width),e.canvas.nodes.i8_strokeOverlay=path,n.insertChild(0,path)}function y(t){const e=Object(r.d)(t);e.canvas.nodes.i8_strokeOverlay&&e.canvas.nodes.i8_strokeOverlay.remove(),delete e.canvas.nodes.i8_strokeOverlay,Object(o.i)(t)}function w(t){const e=Object(r.d)(t);e.canvas.nodes.i8_strokeText&&e.canvas.nodes.i8_strokeText.remove(),delete e.canvas.nodes.i8_strokeText}function C(t){const e=Object(r.d)(t);e.canvas.nodes.i8_strokeMainSVG&&e.canvas.nodes.i8_strokeMainSVG.remove(),e.effects.stroke.active=!1,delete e.canvas.nodes.i8_strokeMainSVG}function S(t){const e=Object(r.d)(t);if(e.canvas.nodes.i8_strokeMainSVG)return C(t),w(t),y(t),e.effects.stroke.active=!1,e.effects.stroke.width=0,e.effects.stroke}},849:function(t,e,n){var content=n(1199);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("7c3fd729",content,!0,{sourceMap:!1})},854:function(t,e,n){(function(n){var r,o,c;o=[],void 0===(c="function"==typeof(r=function(){"use strict";function b(a,b){return void 0===b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a}function e(a,b,t){var e=new XMLHttpRequest;e.open("GET",a),e.responseType="blob",e.onload=function(){g(e.response,b,t)},e.onerror=function(){console.error("could not download file")},e.send()}function r(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function o(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(t){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,t){var i=c.URL||c.webkitURL,n=document.createElement("a");g=g||b.name||"download",n.download=g,n.rel="noopener","string"==typeof b?(n.href=b,n.origin===location.origin?o(n):r(n.href)?e(b,g,t):o(n,n.target="_blank")):(n.href=i.createObjectURL(b),setTimeout((function(){i.revokeObjectURL(n.href)}),4e4),setTimeout((function(){o(n)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,g,n){if(g=g||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(b(t,n),g);else if(r(t))e(t,g,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout((function(){o(i)}))}}:function(b,t,n,g){if((g=g||open("","_blank"))&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return e(b,t,n);var r="application/octet-stream"===b.type,i=/constructor/i.test(c.HTMLElement)||c.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&i||a)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var a=l.result;a=o?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},l.readAsDataURL(b)}else{var h=c.URL||c.webkitURL,d=h.createObjectURL(b);g?g.location=d:location.href=d,g=null,setTimeout((function(){h.revokeObjectURL(d)}),4e4)}});c.saveAs=g.saveAs=g,t.exports=g})?r.apply(e,o):r)||(t.exports=c)}).call(this,n(27))},860:function(t,e,n){var content=n(1213);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("1d4cdcfe",content,!0,{sourceMap:!1})},861:function(t,e,n){var content=n(1215);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("0ef68a8d",content,!0,{sourceMap:!1})},862:function(t,e,n){"use strict";n.d(e,"b",(function(){return h})),n.d(e,"d",(function(){return d})),n.d(e,"a",(function(){return v})),n.d(e,"c",(function(){return m}));var r=n(619),o=n(686);const c=Object(r.c)(),l={radius:50,size:100,color:"#333333",filled:!0,stroke:{value:1,min:1,max:10}};function h(t){const e=Object(r.d)(t);return e.canvas.nodes.i8_shape||(_(t),e.effects.shape||(l.color=o.a[Math.round(Math.random()*(o.a.length-1))],l.stroke.max=Object(r.g)(e)/4,e.effects.shape={active:!0,controls:{...l,stroke:{...l.stroke}}}),f(t)),e.effects.shape.controls}function d(t){_(t),f(t)}function f(t){const e=Object(r.d)(t),n=e.effects.shape.controls,{width:o,height:l}=e.project.view.bounds,h=o>=l?o:o<l?l:null,d=Object(r.f)(e,n.stroke.value),f=h?h/100*n.size:e.project.view.size,_=f?f/100*n.radius/2:n.radius;let v={name:"shape",width:o*n.size/100,height:l*n.size/100};n.filled?v.fillColor=n.color:(v.strokeWidth=d,v.strokeColor=n.color),_&&(v.radius=new c.Size(_,_));const rect=new c.Path.Rectangle({...v});rect.position=e.project.view.center;return e.canvas.layers.shapeLayer.insertChild(0,rect),e.canvas.nodes.i8_shape=rect,e.effects.shape.active=!0,n.filled||rect.scale(rect.bounds.width/(rect.bounds.width+1.35*d)),rect}function _(t){const e=Object(r.d)(t);e.canvas.nodes.i8_shape&&e.canvas.nodes.i8_shape.remove(),delete e.canvas.nodes.i8_shape,e.effects.shape&&(e.effects.shape.active=!1)}function v(t,e){const n=Object(r.d)(t),o=n.effects.shape.controls,c=n.canvas.nodes.i8_shape;c||h(t),o.color=e,o.filled?c.fillColor=e:c.strokeColor=e}function m(t){const e=Object(r.d)(t);return _(t),e.effects.shape.controls}},863:function(t,e,n){var content=n(1217);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("7add29d0",content,!0,{sourceMap:!1})},864:function(t,e,n){var content=n(1219);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("56b00e7a",content,!0,{sourceMap:!1})},865:function(t,e,n){var content=n(1221);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("0d2d4f06",content,!0,{sourceMap:!1})},867:function(t,e,n){var content=n(1225);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("67d7cbca",content,!0,{sourceMap:!1})},868:function(t,e,n){var content=n(1227);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("ff12e054",content,!0,{sourceMap:!1})},869:function(t,e,n){var content=n(1229);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("779d2eaa",content,!0,{sourceMap:!1})},870:function(t,e,n){var content=n(1231);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("5db140c2",content,!0,{sourceMap:!1})},871:function(t,e,n){"use strict";n.d(e,"e",(function(){return f})),n.d(e,"c",(function(){return _})),n.d(e,"b",(function(){return C})),n.d(e,"a",(function(){return w})),n.d(e,"d",(function(){return y})),n.d(e,"f",(function(){return S}));var r=n(619),o=n(688),c=n(686);const l=Object(r.c)(),h={text:"Yay!",font:"Roboto",color:"#000000",size:{value:16,min:1,max:16},posX:0,posY:0,initX:0,initY:0};let d="";async function f(t,path){const e=Object(r.d)(t),text=e.canvas.nodes.i8_text;return d=path,text?(v(t),e.effects.text.controls):(e.effects.text||(h.size.max=Math.round(Object(r.g)(e)),h.size.value=Math.round(Object(r.g)(e)/6),e.effects.text={fonts:[],active:!0,controls:{...h,size:{...h.size}}}),await _(t,e.effects.text.controls,!0),e.effects.text.controls)}async function _(t,e,l=!1){const f=Object(r.d)(t);f.effects.text.controls=e;const _=f.effects.text.fonts,m=f.effects.text.controls,w=f.canvas.layers.textLayer,C=!!m.text;if(x(t),y(t),Object(o.g)(t),!C)return;const S=await function(t,e){let r=d;const path=r||"/vue-static/fonts/",o=".ttf";return new Promise((async function(r,c){if(e[t])r(e[t]);else{(await Promise.all([n.e(88),n.e(107)]).then(n.bind(null,1382))).load(`${path}${t}${o}`,(function(n,o){n&&c("Error load font"),e[t]=o,r(o)}))}}))}(m.font,_),svg=function(t,e,text="Text",n){const o=Object(r.f)(t,Number(n)),path=e.getPath(text,0,o,o);return`<svg xmlns="http://www.w3.org/2000/svg">${path.toSVG()}</svg>`}(f,S,m.text,m.size.value),text=f.project.importSVG(svg);w.insertChild(0,text),text.fillColor=m.color,text.name="text",f.canvas.nodes.i8_text=text,l?(text.bounds.top=Math.round(c.g*f.size.canvasHeight+5),text.bounds.left=Math.round(c.f*f.size.canvasWidth+5),m.posX=Math.round(Object(r.b)(f,text.bounds.left+text.bounds.width/2)),m.posY=Math.round(Object(r.b)(f,text.bounds.top+text.bounds.height/2)),h.initX=m.posX,h.initY=m.posY):(text.position.x=Object(r.f)(f,m.posX),text.position.y=Object(r.f)(f,m.posY)),f.effects.text.active=!0,Object(o.b)(t),v(t)}function v(t){const e=Object(r.d)(t),text=e.canvas.nodes.i8_text;if(y(t),!text)return;const n=new l.Path;n.strokeColor=r.a,n.strokeWidth=2,n.name="text-border",e.canvas.nodes.i8_textBorder=n,n.add(new l.Point(text.bounds.topLeft.x-5,text.bounds.topLeft.y-5)),n.add(new l.Point(text.bounds.topRight.x+5,text.bounds.topRight.y-5)),n.add(new l.Point(text.bounds.bottomRight.x+5,text.bounds.bottomRight.y+5)),n.add(new l.Point(text.bounds.bottomLeft.x-5,text.bounds.bottomLeft.y+5)),n.closed=!0,e.canvas.layers.textLayer.insertChild(1,n),function(t){const e=Object(r.d)(t),n=e.canvas.container,o=e.canvas.nodes.i8_textBorder,text=e.canvas.nodes.i8_text;let c=!1;e.project.view.onMouseDown=function(t){const e=o.contains(t.point);c=!!e},e.project.view.onMouseUp=function(t){c=!1,o.contains(t.point)&&(n.style.cursor="grab")},e.project.view.onMouseMove=function(t){o.bounds.contains(t.point)?n.style.cursor=c?"grabbing":"grab":n.style.cursor="auto",c&&o&&text&&m(e,t.delta.x,t.delta.y)}}(t)}function m(t,e,n){const o=t.effects.text.controls,c=t.canvas.nodes.i8_textBorder,text=t.canvas.nodes.i8_text,l=t.canvas.nodes.i8_strokeText;void 0!==e&&(o.posX+=Object(r.b)(t,e),text.position.x=Object(r.f)(t,Math.round(o.posX)),c.position.x=Object(r.f)(t,Math.round(o.posX)),l&&(l.position.x=Object(r.f)(t,Math.round(o.posX)))),void 0!==n&&(o.posY+=Object(r.b)(t,n),text.position.y=Object(r.f)(t,Math.round(o.posY)),c.position.y=Object(r.f)(t,Math.round(o.posY)),l&&(l.position.y=Object(r.f)(t,Math.round(o.posY))))}function x(t){const e=Object(r.d)(t);e.canvas.nodes.i8_text&&e.canvas.nodes.i8_text.remove(),delete e.canvas.nodes.i8_text,e.effects.text.active=!1}function y(t){const e=Object(r.d)(t);e.canvas.nodes.i8_textBorder&&e.canvas.nodes.i8_textBorder.remove(),delete e.canvas.nodes.i8_textBorder,function(t){const e=Object(r.d)(t);e.project.view.onMouseDown=()=>({}),e.project.view.onMouseUp=()=>({}),e.project.view.onMouseMove=()=>({})}(t)}function w(t,e){const n=Object(r.d)(t);n.canvas.nodes.i8_text&&(n.effects.text.controls.color=e,n.canvas.nodes.i8_text.fillColor=e)}function C(t,{x:e,y:n}){const o=Object(r.d)(t),text=o.canvas.nodes.i8_text,c=o.effects.text.controls;if(!text)return;let l,h;o.canvas.nodes.i8_textBorder||v(t),void 0!==e&&(l=Object(r.f)(o,e-c.posX)),void 0!==n&&(h=Object(r.f)(o,n-c.posY)),m(o,l,h)}function S(t){const e=Object(r.d)(t);return e.effects.text.controls={...h,size:{...h.size},posX:h.initX,posY:h.initY},x(t),y(t),Object(o.g)(t),e.effects.text.controls}},872:function(t,e,n){var content=n(1233);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("0b5ee976",content,!0,{sourceMap:!1})},873:function(t,e,n){var content=n(1235);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("31265c6a",content,!0,{sourceMap:!1})},874:function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return d})),n.d(e,"d",(function(){return f}));var r=n(619);const o=Object(r.c)(),c={active:!0,degree:0,limits:{min:-180,max:180}};function l(t){const e=Object(r.d)(t);return e.effects.rotation||(e.effects.rotation={...c}),h(t,e.effects.rotation.degree),e.effects.rotation}function h(t,e){const n=Object(r.d)(t),c=n.effects.rotation,l=n.canvas.nodes.i8_mainSVG,h=n.canvas.layers.strokeLayer;!function(t){const e=Object(r.d)(t),n=e.canvas.layers.mainSVGLayer;if(!e.canvas.nodes.i8_rotationBorder){const t=new o.Path;t.strokeColor=r.a,t.name="i8_rotation-border",t.strokeWidth=1,t.applyMatrix=!1,t.add(new o.Point(n.bounds.topLeft.x,n.bounds.topLeft.y)),t.add(new o.Point(n.bounds.topRight.x,n.bounds.topRight.y)),t.add(new o.Point(n.bounds.bottomRight.x,n.bounds.bottomRight.y)),t.add(new o.Point(n.bounds.bottomLeft.x,n.bounds.bottomLeft.y)),t.closed=!0,t.dashArray=[8,8],e.canvas.nodes.i8_rotationBorder=t}}(t);const d=Number(e);return c.initBounds||(c.initBounds=l.bounds),c.initPosition=l.position,l.rotation=d,h&&(h.rotation=d),n.canvas.nodes.i8_rotationBorder.rotation=d,c.degree=d,c.active=!0,n.effects.rotation}function d(t){const e=Object(r.d)(t);e.canvas.nodes.i8_rotationBorder&&(e.canvas.nodes.i8_rotationBorder.remove(),delete e.canvas.nodes.i8_rotationBorder)}function f(t){const e=Object(r.d)(t),n=e.canvas.nodes.i8_mainSVG,o=e.canvas.layers.strokeLayer;return d(t),n.rotation=0,o&&(o.rotation=0),e.effects.rotation.initBounds&&(n.bounds=e.effects.rotation.initBounds,o&&(o.bounds=e.effects.rotation.initBounds),delete e.effects.rotation.initBounds),n.position=e.effects.rotation.initPosition,o&&(o.position=e.effects.rotation.initPosition),e.effects.rotation.degree=0,e.effects.rotation.active=!1,e.effects.rotation}},875:function(t,e,n){var content=n(1237);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("68b39117",content,!0,{sourceMap:!1})},876:function(t,e,n){var content=n(1239);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("52451bea",content,!0,{sourceMap:!1})},877:function(t,e,n){"use strict";n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return m}));var r=n(619),o=n(687);const c=Object(r.c)(),l={active:!0,posX:0,posY:0};function h(t){const e=Object(r.d)(t);return d(t),e.effects.position?(e.effects.position.active=!0,e.effects.position):(e.effects.position||(e.effects.position={...l},e.effects.position.initPosition=e.canvas.nodes.i8_mainSVG.position),e.effects.position)}function d(t){const e=Object(r.d)(t),n=e.canvas.layers.mainSVGLayer;if(!e.canvas.nodes.i8_positionBorder){const t=new c.Path;t.strokeColor=r.a,t.strokeWidth=2,t.name="i8_position-border",e.canvas.nodes.i8_positionBorder=t,t.add(new c.Point(n.bounds.topLeft.x,n.bounds.topLeft.y)),t.add(new c.Point(n.bounds.topRight.x,n.bounds.topRight.y)),t.add(new c.Point(n.bounds.bottomRight.x,n.bounds.bottomRight.y)),t.add(new c.Point(n.bounds.bottomLeft.x,n.bounds.bottomLeft.y)),t.closed=!0}!function(t){const e=Object(r.d)(t),n=e.canvas.container,o=e.canvas.nodes.i8_positionBorder;let c=!1;e.project.view.onMouseDown=function(t){c=o.contains(t.point)},e.project.view.onMouseUp=function(t){c=!1,o.contains(t.point)&&(n.style.cursor="grab")},e.project.view.onMouseMove=function(t){o.bounds.contains(t.point)?n.style.cursor=c?"grabbing":"grab":n.style.cursor="auto",c&&_(e,t.delta.x,t.delta.y)}}(t)}function f(t){const e=Object(r.d)(t);e.canvas.nodes.i8_positionBorder&&e.canvas.nodes.i8_positionBorder.remove(),delete e.canvas.nodes.i8_positionBorder,function(t){const e=Object(r.d)(t);e.project.view.onMouseDown=()=>({}),e.project.view.onMouseUp=()=>({}),e.project.view.onMouseMove=()=>({})}(t)}function _(t,e,n){const o=t.effects.position,c=t.canvas.nodes.i8_mainSVG,l=t.canvas.nodes.i8_positionBorder,h=t.canvas.nodes.i8_strokeMainSVG,d=t.project.view.center.x,f=t.project.view.center.y;void 0!==e&&(o.posX+=Object(r.b)(t,e),c.position.x=Object(r.f)(t,Math.round(o.posX))+d,h&&(h.position.x=Object(r.f)(t,Math.round(o.posX))+d),l.position.x=Object(r.f)(t,Math.round(o.posX))+d),void 0!==n&&(o.posY+=Object(r.b)(t,n),c.position.y=Object(r.f)(t,Math.round(o.posY))+f,h&&(h.position.y=Object(r.f)(t,Math.round(o.posY))+f),l.position.y=Object(r.f)(t,Math.round(o.posY))+f)}function v(t,{x:e,y:n}){const o=Object(r.d)(t),c=o.effects.position;let l,h;d(t),void 0!==e&&(l=Object(r.f)(o,e-c.posX)),void 0!==n&&(h=Object(r.f)(o,n-c.posY)),_(o,l,h)}function m(t){const e=Object(r.d)(t);return f(t),e.canvas.nodes.i8_mainSVG.position=e.effects.position.initPosition,e.canvas.nodes.i8_strokeMainSVG&&(e.canvas.nodes.i8_strokeMainSVG.position=e.effects.position.initPosition),e.effects.position.posX=0,e.effects.position.posY=0,e.effects.position.active=!1,Object(o.i)(t),e.effects.position}},878:function(t,e,n){var content=n(1241);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("19109880",content,!0,{sourceMap:!1})},879:function(t,e,n){var content=n(1243);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("21947098",content,!0,{sourceMap:!1})},880:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return h})),n.d(e,"f",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"e",(function(){return _}));var r=n(619);const o=Object(r.c)(),c={active:!0,degree:"pixels",size:5,limits:{pixels:{min:0,max:50},percentage:{min:-99,max:99}}};function l(t){const e=Object(r.d)(t);return e.effects.padding||(e.effects.padding||(e.effects.padding={...c}),h(t,e.effects.padding.size)),e.effects.padding}function h(t,e){const n=Object(r.d)(t);let c=null;const l=n.canvas.nodes.i8_mainSVG,h="pixels"===n.effects.padding.degree,d="percentage"===n.effects.padding.degree,_=n.size.iconWidthNumber,v=n.size.iconHeightNumber,m=_>v?_:v;if(n.effects.padding.limits.pixels.max=m/2,n.effects.padding.limits.pixels.min=-m/2,h&&(c=(m/2-parseInt(e,10))/(m/2)),d&&(c=(100-parseInt(e,10))/100),!c)return;c<.01&&(c=.01);let x=1+2*(1-c);return x<1&&(x=1),c<.8&&(x*=1.1),c<.6&&(x*=1.15),c<.4&&(x*=1.3),c<.2&&(x*=1.6),c<.1&&(x*=2),c<.05&&(x*=2),c<.02&&(x*=2.5),n.project.view.zoom=c,n.effects.padding.size=Number(e),n.effects.padding.active=!0,n.canvas.nodes.i8_bgRectangle&&(n.canvas.nodes.i8_bgRectangle.bounds=n.project.view.bounds),n.canvas.nodes.i8_canvasBg&&(n.canvas.nodes.i8_canvasBg.bounds=n.project.view.bounds),c>=1.5?f(t):function(t,e,n){const c=Object(r.d)(t);f(t);const l=new o.Path;l.strokeColor=r.a,l.name="i8_padding-border",l.strokeWidth=n,c.canvas.nodes.i8_paddingBorder=l,l.add(new o.Point(e.bounds.topLeft.x-0,e.bounds.topLeft.y-0)),l.add(new o.Point(e.bounds.topRight.x+0,e.bounds.topRight.y-0)),l.add(new o.Point(e.bounds.bottomRight.x+0,e.bounds.bottomRight.y+0)),l.add(new o.Point(e.bounds.bottomLeft.x-0,e.bounds.bottomLeft.y+0)),l.closed=!0,l.dashArray=[8*n,8*n];const h={strokeColor:r.a,strokeWidth:n,name:"i8_padding-border",dashArray:[8*n,8*n]};c.canvas.nodes.i8_paddingLine={top:null,left:null,bottom:null,right:null};const d=1===n?1.66:n;c.canvas.nodes.i8_paddingLine.bottom=new o.Path.Line({from:[e.bounds.bottomCenter.x,e.bounds.bottomCenter.y],to:[e.bounds.bottomCenter.x,e.bounds.bottomCenter.y*d],...h}),c.canvas.nodes.i8_paddingLine.top=new o.Path.Line({from:[e.bounds.topCenter.x,e.bounds.topCenter.y],to:[e.bounds.topCenter.x,e.bounds.bottomCenter.y-e.bounds.bottomCenter.y*d],...h}),c.canvas.nodes.i8_paddingLine.right=new o.Path.Line({from:[e.bounds.rightCenter.x,e.bounds.rightCenter.y],to:[e.bounds.rightCenter.x*d,e.bounds.rightCenter.y],...h}),c.canvas.nodes.i8_paddingLine.left=new o.Path.Line({from:[e.bounds.leftCenter.x,e.bounds.leftCenter.y],to:[e.bounds.rightCenter.x-e.bounds.rightCenter.x*d,e.bounds.rightCenter.y],...h})}(t,l,x),n.effects.padding}function d(t,e){const n=Object(r.d)(t);return n.effects.padding.degree=e,n.effects.padding}function f(t){const e=Object(r.d)(t);e.canvas.nodes.i8_paddingBorder&&e.canvas.nodes.i8_paddingBorder.remove(),e.canvas.nodes.i8_paddingLine&&(e.canvas.nodes.i8_paddingLine.top&&e.canvas.nodes.i8_paddingLine.top.remove(),e.canvas.nodes.i8_paddingLine.bottom&&e.canvas.nodes.i8_paddingLine.bottom.remove(),e.canvas.nodes.i8_paddingLine.left&&e.canvas.nodes.i8_paddingLine.left.remove(),e.canvas.nodes.i8_paddingLine.right&&e.canvas.nodes.i8_paddingLine.right.remove(),delete e.canvas.nodes.i8_paddingLine),delete e.canvas.nodes.i8_paddingBorder}function _(t){const e=Object(r.d)(t);return f(t),e.project.view.zoom=1,e.canvas.nodes.i8_bgRectangle&&(e.canvas.nodes.i8_bgRectangle.bounds=e.project.view.bounds),e.canvas.nodes.i8_canvasBg&&(e.canvas.nodes.i8_canvasBg.bounds=e.project.view.bounds),e.effects.padding.active=!1,e.effects.padding.size=0,e.effects.padding}},881:function(t,e,n){var content=n(1245);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("89af36c4",content,!0,{sourceMap:!1})},882:function(t,e,n){var content=n(1247);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("0aa337ac",content,!0,{sourceMap:!1})},883:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return h})),n.d(e,"c",(function(){return f}));var r=n(619);const o=Object(r.c)(),c={active:!0,color:"#DDDDDD"};function l(t){const e=Object(r.d)(t);if(d(e,c.color),e.canvas.nodes.i8_bgRectangle)return e.effects.background;e.effects.background||(e.effects.background={...c});const rect=new o.Path.Rectangle(e.project.view.bounds);return e.canvas.layers.bgLayer.insertChild(0,rect),rect.name="bgRectangle",rect.fillColor=e.effects.background.color,e.canvas.nodes.i8_bgRectangle=rect,e.effects.background}function h(t,e){if(!t||!e)return;const n=Object(r.d)(t);let rect=n.canvas.nodes.i8_bgRectangle;rect||(l(t),rect=n.canvas.nodes.i8_bgRectangle),rect&&(rect.fillColor=e),d(n,e),n.effects.background.color=e,n.effects.background.active=!0}function d(t,e){const n=t.canvas.nodes.i8_overlayBg;n&&(n.strokeColor=e,n.fillColor=e)}function f(t){if(!t)return;const e=Object(r.d)(t);return e.canvas.nodes.i8_bgRectangle?(e.canvas.nodes.i8_bgRectangle.remove(),delete e.canvas.nodes.i8_bgRectangle,e.effects.background.active=!1,e.effects.background.color=c.color,d(e,"#FFFFFF"),e.effects.background):void 0}},884:function(t,e,n){var content=n(1249);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("1fd8b042",content,!0,{sourceMap:!1})},885:function(t,e,n){var content=n(1251);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("030f2558",content,!0,{sourceMap:!1})},886:function(t,e,n){var content=n(1253);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(5).default)("7899266a",content,!0,{sourceMap:!1})}}]);
//# sourceMappingURL=AppAccordionV2.a11b19ff6d780235b41e.js.map